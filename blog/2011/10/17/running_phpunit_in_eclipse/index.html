
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Running PHPUnit in Eclipse - Kent's Blog</title>
  <meta name="author" content="Kent">

  
  <meta name="description" content="This article is demonstrate how to run PHPUnit test cases in Eclipse
PDT. There is no build in support for PHPUnit in PDT 2.0 now (however it &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.kent-chiu.com/blog/2011/10/17/running_phpunit_in_eclipse">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Kent's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39152849-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Kent's Blog</a></h1>
  
    <h2>Kent的學習筆記(剛從dokuwiki搬過來，內容還在整修中)</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.kent-chiu.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Running PHPUnit in Eclipse</h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>This article is demonstrate how to run PHPUnit test cases in Eclipse
PDT.</p>

<p>There is no build in support for PHPUnit in PDT 2.0 now (however it
supports by Zend Studio). If we want to run the PHPUnit test cases, we
need some additional works for it.</p>

<p>We can invoked phpunit.bat that includes in PHPUnit package by eclipse
external tools function.</p>

<p>this configuration can be reused in any PHPUnit test case. you don&#8217;t
need to configuring it in every test cases, as long as you need to
select the test case^<a href="#fn__1">1)</a>^ first then run it. .</p>

<h2>STEPS</h2>

<ol>
<li><a href="#add_phpunit_supports_to_eclipse" title="php:running_phpunit_in_eclipse ↵">add PHPUnit supports to
Eclipse</a></li>
<li><a href="#write_a_simple_test" title="php:running_phpunit_in_eclipse ↵">write a simple
test</a></li>
<li><a href="#run_the_test_case" title="php:running_phpunit_in_eclipse ↵">run the test
case</a></li>
<li><a href="#check_resuls" title="php:running_phpunit_in_eclipse ↵">check resuls</a></li>
</ol>


<h3>add PHPUnit supports to Eclipse</h3>

<p>select eclipse main menu → window → preference</p>

<ol>
<li>select <strong>PHP Include Path</strong> node</li>
<li>select <strong>Libraries</strong> tab</li>
<li>click <strong>Add External Source Folder …</strong></li>
<li>select where your PEAR installed</li>
<li>click <strong>OK</strong> button to close folder selection window.</li>
<li>click <strong>OK</strong> to complete setting.</li>
</ol>


<p><img src="/images/wiki/php/running_phpunit_in_eclipse_01.png" alt="running_phpunit_in_eclipse_01.png" /></p>

<h3>write a simple test</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  &lt;?php
</span><span class='line'>    require_once 'PHPUnit/Framework.php';
</span><span class='line'> 
</span><span class='line'>    class ArrayTest extends PHPUnit_Framework_TestCase {
</span><span class='line'>        public function testNewArrayIsEmpty() {
</span><span class='line'>            $array = array();
</span><span class='line'>            $this-&gt;assertEquals(0, sizeOf($array));
</span><span class='line'>        }
</span><span class='line'> 
</span><span class='line'>        public function testArrayContainsAnElement() {
</span><span class='line'>            $array[] = "content";
</span><span class='line'>            $this-&gt;assertEquals(1, sizeof($array));
</span><span class='line'>        }
</span><span class='line'> 
</span><span class='line'>    }
</span><span class='line'> 
</span><span class='line'>    ?&gt;</span></code></pre></td></tr></table></div></figure>


<h3>run the test case as Debug</h3>

<p>copy file content from %PHP_HOME%\phpunit and paste as
phpunit_runner.php^<a href="#fn__2">2)</a>^</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>if (strpos('C:\Program Files\VertrigoServ\Php\php.exe', '@php_bin') === 0) {
</span><span class='line'>    set_include_path(dirname(__FILE__) . PATH_SEPARATOR . get_include_path());
</span><span class='line'>}
</span><span class='line'> 
</span><span class='line'>require_once 'PHPUnit/Util/Filter.php';
</span><span class='line'> 
</span><span class='line'>PHPUnit_Util_Filter::addFileToFilter(__FILE__, 'PHPUNIT');
</span><span class='line'> 
</span><span class='line'>require 'PHPUnit/TextUI/Command.php';
</span><span class='line'> 
</span><span class='line'>define('PHPUnit_MAIN_METHOD', 'PHPUnit_TextUI_Command::main');
</span><span class='line'> 
</span><span class='line'>PHPUnit_TextUI_Command::main();
</span><span class='line'>?&gt;</span></code></pre></td></tr></table></div></figure>


<p>setup:</p>

<ol>
<li>selected phpunit_runner.php in PHP project explorer view.</li>
<li>click eclipse main menu → Debug Configurations… to poped-up <strong>Debug
Configurations</strong> window</li>
<li>new a PHP script</li>
<li>type &#8216;phpunit_runner&#8217; in Name field.</li>
<li>make sure PHP file field is selected to phpunit_runner.php file</li>
<li>switch to <strong>PHP Script arguments</strong> tab</li>
<li>type project absolute path in Script Arguments field</li>
</ol>


<p><img src="/images/wiki/php/running_phpunit_in_eclipse_04.png" alt="running_phpunit_in_eclipse_04.png" /></p>

<p><img src="/images/wiki/php/running_phpunit_in_eclipse_05.png" alt="running_phpunit_in_eclipse_05.png" /></p>

<p>debug:</p>

<ol>
<li>mark any breakpoint in test case.</li>
<li>select a test case file (php file) which you want debug.</li>
<li>click drop-list of <strong>Debug</strong> button in toolbar</li>
<li>click <strong>phpunit_runner</strong> which we created before then it will
invoke PHP script Debug.</li>
</ol>


<p><img src="/images/wiki/php/running_phpunit_in_eclipse_06.png" alt="running_phpunit_in_eclipse_06.png" /></p>

<p>please make sure you selected the test case file before invoke
phpunit_runner</p>

<h3>run the test case as External Tool</h3>

<ol>
<li>click eclipse main menu → Run → External Tools → External Tools
Configurations… to poped-up <strong>External Tools Configurations</strong> window</li>
<li>select *Main* tab</li>
<li>click <strong>Browse File System…</strong> to fulfill ^<a href="#fn__3">3)</a>^ <strong>Location</strong>
field</li>
<li>click <strong>Browse Workspace…</strong> to fulfill <strong>Working Directory</strong> field.</li>
<li>click <strong>Variables…</strong> to fulfill <strong>Arguments</strong> field.</li>
<li>click <strong>Run</strong> button to run PHPUnit test cases.</li>
</ol>


<p><img src="/images/wiki/php/running_phpunit_in_eclipse_02.png" alt="running_phpunit_in_eclipse_02.png" /></p>

<h3>check resuls</h3>

<p>the test results should be showed in <strong>Console</strong> view.</p>

<p><img src="/images/wiki/php/running_phpunit_in_eclipse_03.png" alt="running_phpunit_in_eclipse_03.png" /></p>

<p>^<a href="#fnt__1">1)</a>^ any php file</p>

<p>^<a href="#fnt__2">2)</a>^ C:\Program Files\VertrigoServ\Php is my %PHP_HOME%
in case</p>

<p>^<a href="#fnt__3">3)</a>^ phpunit.bat was gernerated after PHPUnit installed</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Kent Chiu</span></span>

      








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/pdt/'>pdt</a>, <a class='category' href='/blog/categories/testing/'>testing</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://blog.kent-chiu.com/blog/2011/10/17/running_phpunit_in_eclipse/" data-via="" data-counturl="http://blog.kent-chiu.com/blog/2011/10/17/running_phpunit_in_eclipse/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2011/10/17/root_words/" title="Previous Post: Root Word List">&laquo; Root Word List</a>
      
      
        <a class="basic-alignment right" href="/blog/2011/10/17/scim_with_liu/" title="Next Post: Ubuntu下裝無蝦米(scim)">Ubuntu下裝無蝦米(scim) &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/05/17/my-intellij-idea-shortcut/">My IntelliJ IDEA Shortcut</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/12/jesper-report-font-issue/">Jesper Report, IReport 匯出成中文PDF</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/12/jasperreport-101/">JasperReport 101</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/06/mac-tips/">Mac Tips</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/22/clean-code/">Clean Code閱讀筆記</a>
      </li>
    
  </ul>
</section>

Included file 'asides/twitter.html' not found in _includes directory



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Kent -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'kentchiu';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://blog.kent-chiu.com/blog/2011/10/17/running_phpunit_in_eclipse/';
        var disqus_url = 'http://blog.kent-chiu.com/blog/2011/10/17/running_phpunit_in_eclipse/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
