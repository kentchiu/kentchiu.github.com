<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: ecshop | Kent's Blog]]></title>
  <link href="http://blog.kent-chiu.com/blog/categories/ecshop/atom.xml" rel="self"/>
  <link href="http://blog.kent-chiu.com/"/>
  <updated>2013-07-11T22:01:55+08:00</updated>
  <id>http://blog.kent-chiu.com/</id>
  <author>
    <name><![CDATA[Kent]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[這篇文章說明每個模版的功能]]></title>
    <link href="http://blog.kent-chiu.com/blog/2011/10/17/template_index/"/>
    <updated>2011-10-17T00:00:00+08:00</updated>
    <id>http://blog.kent-chiu.com/blog/2011/10/17/template_index</id>
    <content type="html"><![CDATA[<p>基本上，每個template的layout也不用特意去強記，因為，每一個theme里的每一個template(lib,dwt,
wherever…)，總之就是themes目錄下的所有檔案都不一樣。
所以，應該比較用心去了解的反而是將資料往smarty (templates)
pushing的那些php檔。能夠了解每個php送出的資訊，大概也就知道template的能秀出那麼東西了。</p>

<p>dwt應該是<strong>D</strong>ream<strong>W</strong>eaver
<strong>T</strong>emplate的縮寫，而lbi也是dreamweaver裡的一種格式。它可以透過一些特殊的tags達到server
side的include效果。 在dwt檔裡有許多地方都有以下兩組tags</p>

<p>```</p>

<!-- #BeginLibraryItem "/library/xxx.lbi" -->


<!-- #EndLibraryItem -->


<p>```</p>

<p>```</p>

<!-- TemplateBeginEditable name="xxx" -->


<!-- TemplateEndEditable -->


<p>
```</p>

<p>第一組tag的功能是include
lbi檔，如果tag有內容，內容應該會與被included的檔案一模一樣，這是因為<strong>某些</strong>editor(dreamweaver)自動include進來的
，但是如果<strong>直接去編輯tag內容(inner
text)是沒用的，頁面並不會相對改變</strong>，惟有直接修改lbi檔的內容，頁面才會改變。</p>

<p>第二組tag不太清楚實際的作用是什麼^<a href="#fn__1">1)</a>^可以直接拿掉，但tag內容要保留。</p>

<p>以一個簡單的例子來說明這種效果</p>

<p>```</p>

<pre><code>&lt;b&gt;Hello World!&lt;/b&gt;
</code></pre>

<p>```</p>

<p>```</p>

<pre><code>&lt;!-- #BeginLibraryItem "/library/my.lbi" --&gt;
&lt;b&gt;Hello World!&lt;/b&gt;
&lt;!-- #EndLibraryItem --&gt;
&lt;!-- TemplateBeginEditable name="foo" --&gt;
&lt;b&gt;Kent&lt;/b&gt;
&lt;!-- TemplateEndEditable --&gt;  
</code></pre>

<p>```</p>

<p>上面的lib會被included到my.dwt內，所以輸出會像這樣：</p>

<p>```</p>

<pre><code>Hello World!Kent
</code></pre>

<p>```</p>

<p>再來，說明一下另一個效果</p>

<p>```</p>

<pre><code>&lt;!-- #BeginLibraryItem "/library/my.lbi" --&gt;
&lt;b&gt;--- Hello World! ---&lt;/b&gt;
&lt;!-- #EndLibraryItem --&gt;
&lt;!-- TemplateBeginEditable name="foo" --&gt;
&lt;b&gt;Kent&lt;/b&gt;
&lt;!-- TemplateEndEditable --&gt;  
</code></pre>

<p>```</p>

<p>my.dwt裡第2行&lt;b>Hello
World!&lt;/b>這個並不會被render，就算去修改它，也沒有用，將第二行改成
<strong>&lt;b>— Hello World! —&lt;/b></strong>，結果輸出跟之前一樣</p>

<p>```</p>

<pre><code>Hello World!Kent
</code></pre>

<p>```</p>

<p>但如果是去修改lbi檔的內容</p>

<p>```</p>

<pre><code>&lt;b&gt; *** Hello World! *** &lt;/b&gt;
</code></pre>

<p>```</p>

<p>輸出就會改變成跟lbi的內容一樣了</p>

<p>```</p>

<pre><code>*** Hello World! *** Kent
</code></pre>

<p>```</p>

<p>這說明了<strong>修改BeginLibraryItem /
#EndLibraryItem間的內容是沒用的</strong>，一定要去修改lbi的檔。
換句話說，其實可以對dwt檔做以下的簡化</p>

<ol>
<li>可以移除&lt;!– TemplateBeginEditable name=“xxx” –>&lt;!–
TemplateEndEditable –> 這一對tag，但tag的內文要保留</li>
<li>可以移除&lt;!– #BeginLibraryItem ”/library/xxx.lbi” –>&lt;!–
#EndLibraryItem –> tag的內文，但tag本身要保留</li>
</ol>


<p>所以，簡化後的dwt檔會像這樣</p>

<p>```</p>

<pre><code>&lt;!-- #BeginLibraryItem "/library/my.lbi" --&gt;
&lt;b&gt;Kent&lt;/b&gt;
</code></pre>

<p>```</p>

<p>有些官方的template本身就是簡化過的(預設的template沒有簡化)，所以可以拿簡化過的template來測試，會比較乾淨</p>

<p>ECShop裡面模版可以透過web畫面進行調整，調整後的layout是紀錄在db，然後把調整的page(ex:index.dwt)內容給置換掉</p>

<h2>dwt 模版</h2>

<p>備註：範本檔共22個(格式：.dwt)。</p>

<p>提醒：</p>

<ol>
<li>更改範本檔裡面庫檔的內容是無效的，頁面刷新時，程式自動重新載入庫檔內容到範本檔裡(以庫檔內容為准)。</li>
<li>範本內所有id值為 ECS_ 開頭的都必須保留(和ajax相關)。</li>
<li>非庫檔內容不可放置到可編輯區域內，否則設置範本時，非庫檔內容將被覆蓋刪除。</li>
</ol>


<p>  名稱                    說明</p>

<hr />

<p>  brand.dwt               商品品牌頁
  article.dwt             文章內容頁
  article_cat.dwt        文章列表頁
  catalog.dwt             所有分類頁
  category.dwt            商品列表頁
  compare.dwt             商品比較頁
  flow.dwt                購物車和購物流程頁
  gallery.dwt             商品相冊頁
  goods.dwt               商品詳情頁
  group_buy_goods.dwt   團購商品詳情頁
  group_buy_list.dwt    團購商品列表頁
  index.dwt               首頁
  message.dwt             資訊提示頁
  pick_out.dwt           選購中心頁
  receive.dwt             收貨確認資訊頁
  respond.dwt             線上支付結果提示資訊頁
  search.dwt              商品搜尋網頁
  snatch.dwt              奪寶奇兵頁
  tag_cloud.dwt          標籤雲頁
  user_clips.dwt         用戶中心頁 （包含：歡迎頁，我的留言，我的標籤，收藏商品，缺貨登記列表，添加缺貨登記。）
  user_passport.dwt      用戶安全頁（包含：會員登錄，會員註冊，找回密碼。）
  user_transaction.dwt   用戶中心頁 （包含：個人資料，我的紅包，添加紅包，我的訂單，訂單詳情，合併訂單，訂單狀態，商品清單，費用總計，收貨人資訊，支付方式，其他資訊，會員餘額。）</p>

<h2>Library</h2>

<p>備註：庫檔共40個 (格式 .lbi)
提醒：檔案名儘量保存默認，否則在後臺管理將無法管理庫檔或不可預見錯誤。</p>

<p>  name                       description</p>

<hr />

<p>  ad_position.lbi           廣告位
  bought_goods.lbi          購買過此商品的人購買過哪些商品
  brand_goods.lbi           品牌的商品
  brands.lbi                 品牌專區
  cart.lbi                   購物車
  cat_articles.lbi          文章列表
  cat_goods.lbi             分類下的商品
  category_tree.lbi         商品分類樹
  comments.lbi               用戶評論列表 （ajax載入comments_list.lbi。）
  comments_list.lbi         使用者評論內容
  consignee.lbi              收貨地址表單
  goods_article.lbi         相關文章
  goods_attrlinked.lbi      屬性關聯的商品
  goods_fittings.lbi        相關配件
  goods_gallery.lbi         商品相冊
  goods_list.lbi            商品列表
  goods_related.lbi         相關商品
  goods_tags.lbi            商品標記
  group_buy.lbi             首頁團購商品
  help.lbi                   網店幫助
  history.lbi                商品流覽歷史
  invoice_query.lbi         發貨單查詢
  member.lbi                 會員登錄 (ajax載入member_info.lbi。)
  member_info.lbi           會員登錄表單和登錄成功以後使用者帳戶資訊
  new_articles.lbi          最新文章
  order_total.lbi           訂單費用總計
  page_footer.lbi           頁面腳部
  page_header.lbi           頁面頂部
  pages.lbi                  列表分頁
  recommend_best.lbi        精品推薦
  recommend_hot.lbi         熱賣商品
  recommend_new.lbi         新品推薦
  recommend_promotion.lbi   促銷商品
  search_form.lbi           搜索表單
  snatch.lbi                 奪寶奇兵出價表單 (必須被id=“ECS_SNATCH”包含實現ajax刷新。)
  snatch_price.lbi          奪寶奇兵最新出價列表 (必須被id=“ECS_PRICE_LIST”包含實現ajax刷新。)
  top10.lbi                  銷售排行
  ur_here.lbi               當前位置
  user_menu.lbi             使用者中心功能表
  vote.lbi                   線上調查</p>

<h3>brand.dwt (商品品牌頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_article.dwt.gif" alt="template_index_article.dwt.gif" /></p>

<h3>brand.dw (商品品牌頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_brand.dwt.gif" alt="template_index_brand.dwt.gif" /></p>

<h3>article.dw (文章內容頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_article.dwt.gif" alt="template_index_article.dwt.gif" /></p>

<h3>article_cat.dwt (文章列表頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_article_cat.dwt.gif" alt="template_index_article_cat.dwt.gif" /></p>

<h3>catalog.dw (所有分類頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_catalog.dwt.gif" alt="template_index_catalog.dwt.gif" /></p>

<h3>category.dwt (商品列表頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_category.dwt.gif" alt="template_index_category.dwt.gif" /></p>

<h3>compare.dw (商品比較頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_compare.dwt.gif" alt="template_index_compare.dwt.gif" /></p>

<h3>flow.dwt (購物車和購物流程頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_flow.dwt.gif" alt="template_index_flow.dwt.gif" /></p>

<h3>gallery.dw (商品相冊頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_gallery.dwt.gif" alt="template_index_gallery.dwt.gif" /></p>

<h3>goods.dw (商品詳情頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_goods.dwt.gif" alt="template_index_goods.dwt.gif" /></p>

<h3>group_buy_goods.dwt (團購商品詳情頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_group_buy_goods.dwt.gif" alt="template_index_group_buy_goods.dwt.gif" /></p>

<h3>group_buy_list.dwt (團購商品列表頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_group_buy_list.dwt.gif" alt="template_index_group_buy_list.dwt.gif" /></p>

<h3>index.dw (首頁)</h3>

<p>兩張圖的layout沒有完全一致，參考看看就好</p>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_index.dwt.gif" alt="template_index_index.dwt.gif" /></p>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_index.png" alt="template_index_index.png" /></p>

<h3>message.dw ( 資訊提示頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_message.dwt.gif" alt="template_index_message.dwt.gif" /></p>

<h3>pick_out.dwt (選購中心頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_pick_out.dwt.gif" alt="template_index_pick_out.dwt.gif" /></p>

<h3>receive.dw (收貨確認資訊頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_receive.dwt.gif" alt="template_index_receive.dwt.gif" /></p>

<h3>respond.dw (線上支付結果提示資訊頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_respond.dwt.gif" alt="template_index_respond.dwt.gif" /></p>

<h3>search.dwt (商品搜尋網頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_search.dwt.gif" alt="template_index_search.dwt.gif" /></p>

<h3>snatch.dwt (奪寶奇兵頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_snatch.dwt.gif" alt="template_index_snatch.dwt.gif" /></p>

<h3>tag_cloud.dwt (標籤雲頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_tag_cloud.dwt.gif" alt="template_index_tag_cloud.dwt.gif" /></p>

<h3>user_clips.dwt (用戶中心頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_user_clips.dwt.gif" alt="template_index_user_clips.dwt.gif" /></p>

<h3>user_passport.dwt (用戶安全頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_user_passport.dwt.gif" alt="template_index_user_passport.dwt.gif" /></p>

<h3>user_transaction.dwt (用戶中心頁)</h3>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/template_index_user_transaction.dwt.gif" alt="template_index_user_transaction.dwt.gif" /></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ec的範本機制感覺和smarty的類似，算是一個簡易的smarty把]]></title>
    <link href="http://blog.kent-chiu.com/blog/2011/10/17/template/"/>
    <updated>2011-10-17T00:00:00+08:00</updated>
    <id>http://blog.kent-chiu.com/blog/2011/10/17/template</id>
    <content type="html"><![CDATA[<p>ec的範本機制感覺和smarty的類似，算是一個簡易的smarty把</p>

<p>每個程式頁面都有如下類似的語句</p>

<p><code>
$cache_id = sprintf('%X', crc32($_SESSION['user_rank'] . '-' . $_CFG['lang']))   
</code></p>

<p>緩存id，現在是通過使用者等級和語言緩存不同頁面（通過這裡應該可以做網店多語種的實現）</p>

<p>```
if (!$smarty->is_cached('index.dwt', $cache_id))
 
{          判斷頁面是否已經緩存，如果沒有則做變數賦值和範本裡面動態內容提取
 </p>

<pre><code>       assign_template();  
</code></pre>

<p> </p>

<pre><code>       $smarty-&gt;assign(變數名,  變數值);
</code></pre>

<p> </p>

<pre><code>        。。。
</code></pre>

<p> 
}
 
$smarty->display('index.dwt', $cache_id);    顯示生成的頁面
 
 
 
頁面的範本機制都是通過cls_template.php檔實現，下面通過display函數開始進入分析，裡面只有關鍵地方的解釋，其他的可以自己去看代碼
 </p>

<pre><code>function display($filename, $cache_id = '')
</code></pre>

<p> </p>

<pre><code>{
</code></pre>

<p> </p>

<pre><code>    。。。
</code></pre>

<p> </p>

<pre><code>    $out = $this-&gt;fetch($filename, $cache_id);    //這裡是處理範本的關鍵函數
</code></pre>

<p> </p>

<pre><code>    if (strpos($out, $this-&gt;_echash) !== false)     //頁面動態內容的顯示，如投票，購物車之類的，看了下面的就知道了
</code></pre>

<p> </p>

<pre><code>    {
</code></pre>

<p> </p>

<pre><code>        $k = explode($this-&gt;_echash, $out);
</code></pre>

<p> </p>

<pre><code>        foreach ($k AS $key =&gt; $val)
</code></pre>

<p> </p>

<pre><code>        {
</code></pre>

<p> </p>

<pre><code>            if (($key % 2) == 1)
</code></pre>

<p> </p>

<pre><code>            {
</code></pre>

<p> </p>

<pre><code>                $k[$key] = $this-&gt;insert_mod($val);   //取到動態內容並賦值
</code></pre>

<p> </p>

<pre><code>            }
</code></pre>

<p> </p>

<pre><code>        }
</code></pre>

<p> </p>

<pre><code>        $out = implode('', $k);
</code></pre>

<p> </p>

<pre><code>    }
</code></pre>

<p> </p>

<pre><code>    。。。
</code></pre>

<p> </p>

<pre><code>}
</code></pre>

<p> 
 
 
 
 </p>

<pre><code>function fetch($filename, $cache_id = '')
</code></pre>

<p> </p>

<pre><code>{
</code></pre>

<p> </p>

<pre><code>   。。。
</code></pre>

<p> </p>

<pre><code>    if (strncmp($filename,'str:', 4) == 0)  此處處理字串範本，如郵件範本
</code></pre>

<p> </p>

<pre><code>    {
</code></pre>

<p> </p>

<pre><code>        。。。
</code></pre>

<p> </p>

<pre><code>    }
</code></pre>

<p> </p>

<pre><code>    else
</code></pre>

<p> </p>

<pre><code>    {
</code></pre>

<p> </p>

<pre><code>       。。。
</code></pre>

<p> </p>

<pre><code>        if ($this-&gt;direct_output)      
</code></pre>

<p> </p>

<pre><code>        {
</code></pre>

<p> </p>

<pre><code>           。。。
</code></pre>

<p> </p>

<pre><code>        }
</code></pre>

<p> </p>

<pre><code>        else
</code></pre>

<p> </p>

<pre><code>        {
</code></pre>

<p> </p>

<pre><code>            if ($cache_id &amp;&amp; $this-&gt;caching)     //如果已經緩存就直接取緩存資料
</code></pre>

<p> </p>

<pre><code>            {
</code></pre>

<p> </p>

<pre><code>                $out = $this-&gt;template_out;
</code></pre>

<p> </p>

<pre><code>            }
</code></pre>

<p> </p>

<pre><code>            else
</code></pre>

<p> </p>

<pre><code>            {
</code></pre>

<p> </p>

<pre><code>                   $out = $this-&gt;make_compiled($filename);     //編譯範本函數，關鍵函數
</code></pre>

<p> </p>

<pre><code>                if ($cache_id)        //如果緩存id不為空則寫快取檔案
</code></pre>

<p> </p>

<pre><code>                {
</code></pre>

<p> </p>

<pre><code>                           。。。一些緩存資料，如緩存有效期之類的
</code></pre>

<p> </p>

<pre><code>                }
</code></pre>

<p> </p>

<pre><code>            }
</code></pre>

<p> </p>

<pre><code>        }
</code></pre>

<p> </p>

<pre><code>    }
</code></pre>

<p> </p>

<pre><code>  。。。
</code></pre>

<p> </p>

<pre><code>}
</code></pre>

<p> 
 
 
 
 
 
 </p>

<pre><code>function make_compiled($filename)
</code></pre>

<p> </p>

<pre><code>{
</code></pre>

<p> </p>

<pre><code>  。。。。這裡省略一部分都是判斷檔是否有效，是否過期，是否強制編譯之類的
</code></pre>

<p> </p>

<pre><code>    if ($this-&gt;force_compile || $filestat['mtime'] &gt; $expires)
</code></pre>

<p> </p>

<pre><code>    {
</code></pre>

<p> </p>

<pre><code>        $this-&gt;_current_file = $filename;
</code></pre>

<p> </p>

<pre><code>        $source = $this-&gt;fetch_str(file_get_contents($filename));             //關鍵地方，讀取範本檔，處理範本字串
</code></pre>

<p> </p>

<pre><code>        if (file_put_contents($name, $source, LOCK_EX) === false)      //寫入編譯以後的檔
</code></pre>

<p> </p>

<pre><code>        {
</code></pre>

<p> </p>

<pre><code>            trigger_error('can\'t write:' . $name);
</code></pre>

<p> </p>

<pre><code>        }
</code></pre>

<p> </p>

<pre><code>        $source = $this-&gt;_eval($source);
</code></pre>

<p> </p>

<pre><code>    }
</code></pre>

<p> </p>

<pre><code>    return $source;
</code></pre>

<p> </p>

<pre><code>}
</code></pre>

<p> 
 
 
 
 
 
 </p>

<pre><code>function fetch_str($source)
</code></pre>

<p> </p>

<pre><code>{
</code></pre>

<p> </p>

<pre><code>    if (!defined('ECS_ADMIN'))
</code></pre>

<p> </p>

<pre><code>    {
</code></pre>

<p> </p>

<pre><code>        $source = $this-&gt;smarty_prefilter_preCompile($source);      //預處理函數，此函數代碼檔中有詳細解釋就不囉嗦了
</code></pre>

<p> </p>

<pre><code>    }
</code></pre>

<p> </p>

<pre><code>    return preg_replace("/{([^\}\{\n]*)}/e", "\$this-&gt;select('\\1');", $source);    //匹配處理{}每個標籤
</code></pre>

<p> </p>

<pre><code>}
</code></pre>

<p>```</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ECShop Structure]]></title>
    <link href="http://blog.kent-chiu.com/blog/2011/10/17/structure/"/>
    <updated>2011-10-17T00:00:00+08:00</updated>
    <id>http://blog.kent-chiu.com/blog/2011/10/17/structure</id>
    <content type="html"><![CDATA[<p>ECShop upload 的目錄</p>

<p>```</p>

<pre><code>       ├ activity.php 活動列表
       ├ affiche.php 廣告處理文件
       ├ affiliate.php 生成商品列表
       ├ article.php 文章內容
       ├ article_cat.php文章分類
       ├ auction.php 拍賣前台文件
       ├ brand.php 品牌列表
       ├ captcha.php 生成驗證碼
       ├ catalog.php 列出所以分類及品牌
       ├ category.php 商品分類
       ├ comment.php 提交用戶評論
       ├ compare.php 商品比較程序
       ├ cycle_image.php  輪播圖片程序
       ├ feed.php RSS Feed 生成程序
       ├ flow.php 購物流程
       ├ gallery.php 商品相冊
       ├ goods.php 商品詳情
       ├ goods_script.php 生成商品列表
       ├ group_buy.php 團購商品前台文件
       ├ index.php 首頁文件
       ├ myship.php 支付配送DEMO
       ├ pick_out.php 選購中心
       ├ receive.php 處理收回確認的頁面
       ├ region.php 地區切換程序
       ├ respond.php 支付響應頁面
       ├ robots.txt
       ├ search.php 搜索程序
       ├ sitemaps.php  google sitemap 文件
       ├ snatch.php 奪寶奇兵前台頁面
       ├ tag_cloud.php 標籤雲
       ├ topic.php 專題前台
       ├ user.php 會員中心
       ├ vote.php 調查程序
       ├ wholesale.php 批發前台文件
       ├ admin文件夾
       │   ├ account_log.php 管理中心帳戶變動記錄
       │   ├ admin_logs.php 記錄管理員操作日誌
       │   ├ ads.php 廣告管理程序
       │   ├ adsense.php 站外JS投放的統計程序
       │   ├ ad_position.php廣告位置管理程序
       │   ├ affiliate.php 程序說明
       │   ├ affiliate_ck.php 程序說明
       │   ├ agency.php 管理中心辦事處管理
       │   ├ area_manage.php 地區列表管理文件
       │   ├ article.php 管理中心文章處理程序文件
       │   ├ articlecat.php 文章分類管理程序
       │   ├ article_auto.php
       │   ├ attention_list.php
       │   ├ attribute.php 屬性規格管理
       │   ├ auction.php 管理中心拍賣活動管理
       │   ├ bonus.php 紅包類型的處理
       │   ├ brand.php管理中心品牌管理
       │   ├ captcha_manage.php
       │   ├ card.php 賀卡管理程序
       │   ├ category.php 商品分類管理程序
       │   ├ check_file_priv.php 系統文件檢測
       │   ├ comment_manage.php 用戶評論管理程序
       │   ├ convert.php 轉換程序
       │   ├ cron.php 計劃任務
       │   ├ database.php 數據庫管理
       │   ├ ebao_commend.php 易寶推薦
       │   ├ edit_languages.php 管理中心語言項編輯(前台語言項)
       │   ├ email_list.php 郵件列表管理
       │   ├ favourable.php 管理中心優惠活動管理
       │   ├ flashplay.php
       │   ├ flow_stats.php 綜合流量統計
       │   ├ friend_link.php 友情鏈接管理
       │   ├ gen_goods_script.php 生成顯示商品的js代碼
       │   ├ get_password.php 找回管理員密碼
       │   ├ goods.php 商品管理程序
       │   ├ goods_auto.php
       │   ├ goods_batch.php 商品批量上傳、修改
       │   ├ goods_booking.php 缺貨處理管理程序
       │   ├ goods_export.php
       │   ├ goods_type.php 商品類型管理程序
       │   ├ group_buy.php 管理中心團購商品管理
       │   ├ guest_stats.php 客戶統計
       │   ├ index.php 控制台首頁
       │   ├ integrate.php 第三方程序會員數據整合插件管理程序
       │   ├ magazine_list.php
       │   ├ mail_template.php 管理中心模版管理程序
       │   ├ message.php 管理中心管理員留言程序
       │   ├ navigator.php
       │   ├ order.php 訂單管理
       │   ├ order_stats.php 訂單統計
       │   ├ pack.php 包裝管理程序
       │   ├ payment.php 支付方式管理程序
       │   ├ picture_batch.php 圖片批量處理程序
       │   ├ privilege.php 管理員信息以及權限管理程序
       │   ├ sale_general.php 銷售概況
       │   ├ sale_list.php 銷售明細列表程序
       │   ├ sale_order.php 商品銷售排行
       │   ├ searchengine_stats.php 搜索引擎關鍵字統計
       │   ├ search_log.php
       │   ├ shipping.php 配送方式管理程序
       │   ├ shipping_area.php 配送區域管理程序
       │   ├ shophelp.php 幫助信息管理程序
       │   ├ shopinfo.php 網店信息管理頁面
       │   ├ shop_config.php  管理中心商店設置
       │   ├ sitemap.php 站點地圖生成程序
       │   ├ sms.php 短信模塊 之 控制器
       │   ├ snatch.php 奪寶奇兵管理程序
       │   ├ sql.php sql管理程序
       │   ├ tag_manage.php 後台標籤管理
       │   ├ template.php 管理中心模版管理程序
       │   ├ topic.php 專題管理
       │   ├ users.php 會員管理程序
       │   ├ users_order.php 會員排行統計程序
       │   ├ user_account.php 會員帳目管理(包括預付款，餘額)
       │   ├ user_msg.php 客戶留言
       │   ├ user_rank.php 會員等級管理程序
       │   ├ view_sendlist.php
       │   ├ virtual_card.php 虛擬卡商品管理程序
       │   ├ visit_sold.php 訪問購買比例
       │   ├ vote.php 調查管理程序
       │   ├ wholesale.php  管理中心批發管理
       │   ├ help 的目錄  後台操作幫助文件
       │   ├ images 的目錄
       │   ├ includes 的目錄
       │   │  ├ cls_exchange.php 後台自動操作數據庫的類文件
       │   │  ├ cls_google_sitemap.php Google sitemap 類
       │   │  ├ cls_phpzip.php ZIP 處理類
       │   │  ├ cls_sql_dump.php 數據庫導出類
       │   │  ├ inc_menu.php 管理中心菜單數組
       │   │  ├ init.php 管理中心公用文件
       │   │  ├ lib_goods.php 管理中心商品相關函數
       │   │  ├ lib_main.php 管理中心公用函數庫
       │   │  └ lib_template.php 管理中心模版相關公用函數庫
       │   ├ styles 的目錄
       │   ├ templates 的目錄
       │   └ js 的目錄
       │       ├ colorselector.js
       │       ├ common.js
       │       ├ listtable.js
       │       ├ md5.js
       │       ├ selectzone.js
       │       ├ tab.js
       │       ├ todolist.js
       │       ├ topbar.js
       │       └ validator.js 表單驗證類
       ├ api 的目錄
       │   ├ checkorder.php 檢查訂單 API
       │   ├ cron.php
       │   └ init.php API 公用初始化文件
       ├ cert 的目錄
       ├ data 的目錄
       │   ├ ffiliate.html
       │   ├ goods_script.html
       │   ├ order_print.html
       │   ├ afficheimg 的目錄
       │   ├ brandlogo 的目錄
       │   ├ captcha 的目錄 驗證碼背景圖片存放位置
       │   ├ cardimg 的目錄
       │   ├ feedbackimg 的目錄
       │   ├ images 的目錄
       │   ├ packimg 的目錄
       │   └ sqldata 的目錄
       ├ images 的目錄
       │   └ upload 的目錄
       │        ├ File 文件上傳存放處
       │        ├ Flash flash上傳存放處
       │        ├ Image 圖片上傳存放處
       │        └ Media 視頻上傳存放處
       ├ includes 的目錄
       │   ├ cls_captcha.php 驗證碼圖片類
       │   ├ cls_ecshop.php 基礎類
       │   ├ cls_error.php 用戶級錯誤處理類
       │   ├ cls_iconv.php 字符集轉換類
       │   ├ cls_image.php 後台對上傳文件的處理類(實現圖片上傳，圖片縮小， 增加水印)
       │   ├ cls_json.php JSON 類
       │   ├ cls_mysql.php MYSQL 公用類庫
       │   ├ cls_rss.php RSS 類
       │   ├ cls_session.php SESSION 公用類庫
       │   ├ cls_sms.php 短信模塊 之 模型（類庫）
       │   ├ cls_smtp.php SMTP 郵件類
       │   ├ cls_sql_executor.php SQL語句執行類。
       │   ├ cls_template.php 模版類
       │   ├ cls_transport.php 服務器之間數據傳輸器
       │   ├ inc_constant.php 常量
       │   ├ init.php 前台公用文件
       │   ├ lib.debug.php
       │   ├ lib_article.php 文章及文章分類相關函數庫
       │   ├ lib_clips.php ECSHOP 用戶相關函數庫
       │   ├ lib_code.php 加密解密類
       │   ├ lib_common.php 公用函數庫
       │   ├ lib_goods.php 商品相關函數庫
       │   ├ lib_insert.php 動態內容函數庫
       │   ├ lib_main.php 前台公用函數庫
       │   ├ lib_order.php 購物流程函數庫
       │   ├ lib_passport.php 用戶帳號相關函數庫
       │   ├ lib_payment.php 支付接口函數庫
       │   ├ lib_time.php 時間函數
       │   ├ lib_transaction.php ECSHOP 用戶交易相關函數庫
       │   ├ codetable 的目錄
       │   │    ├ big5-gb.table
       │   │    ├ big5_utf8.php
       │   │    ├ gb-big5.table
       │   │    ├ gb_utf8.php
       │   │    └ ipdata.dat
       │   ├ fckeditor 的目錄 fckeditor編輯器目錄
       │   └ modules 的目錄
       │         ├ convert 的目錄
       │         │    ├ shopex46.php vshopex4.6轉換程序插件
       │         │    └ shopex47.php shopex4.7轉換程序插件
       │         ├ cron 的目錄
       │         │    ├ auto_manage.php 自動上下架管理
       │         │    └ ipdel.php 定期刪除
       │         ├ integrates 的目錄
       │         │    ├ bmforum.php 會員數據處理類
       │         │    ├ discuz.php
       │         │    ├ discuz55.php
       │         │    ├ dvbbs.php
       │         │    ├ ecshop.php
       │         │    ├ integrate.php
       │         │    ├ ipb.php
       │         │    ├ molyx.php
       │         │    ├ phpbb.php
       │         │    ├ phpwind.php
       │         │    ├ phpwind5.php
       │         │    └ vbb.php
       │         ├ payment 的目錄
       │         │    ├ alipay.php 支付寶插件
       │         │    ├ balance.php 餘額支付插件
       │         │    ├ bank.php 銀行匯款（轉帳）插件
       │         │    ├ cappay.php 首信易支付插件
       │         │    ├ chinabank.php 網銀在線插件
       │         │    ├ cncard.php 雲網支付插件
       │         │    ├ cod.php 貨到付款插件
       │         │    ├ ctopay.php Ctopay 支付插件
       │         │    ├ express.php express支付系統插件
       │         │    ├ ips.php ips支付系統插件
       │         │    ├ kuaiqian.php 快錢插件
       │         │    ├ nps.php NPS支付插件
       │         │    ├ pay800.php 800pay 支付寶插件
       │         │    ├ paypal.php 貝寶插件
       │         │    ├ paypalcn.php 貝寶中國插件
       │         │    ├ post.php 郵局匯款插件
       │         │    ├ tenpay.php 財付通插件
       │         │    ├ udpay.php 網匯通插件
       │         │    ├ xpay.php 易付通插件
       │         │    └ yeepay.php YeePay易寶插件
       │         └ shipping 的目錄
       │               ├ cac.php 上門取貨插件
       │               ├ city_express.php 城際快遞插件
       │               ├ ems.php EMS插件
       │               ├ flat.php 郵政包裹插件
       │               ├ fpd.php 到付運費插件
       │               ├ post_express.php 郵政包裹插件
       │               ├ post_mail.php 郵局平郵插件
       │               ├ presswork.php 掛號印刷品插件
       │               ├ sf_express.php 順豐速運 配送方式插件
       │               ├ sto_express.php 申通快遞 配送方式插件
       │               ├ yto.php 圓通速遞插件
       │               └ zto.php 中通速遞插件
       ├ install 的目錄  安裝文件目錄
       ├ js 的目錄
       │   ├ auto_complete.js
       │   ├ calendar.php
       │   ├ common.js
       │   ├ compare.js
       │   ├ global.js
       │   ├ lefttime.js
       │   ├ myship.js
       │   ├ region.js
       │   ├ shopping_flow.js
       │   ├ transport.js
       │   ├ user.js
       │   ├ utils.js
       │   └ calendar 的目錄
       ├ languages 的目錄  語言風格文件
       │   ├ zh_cn 的目錄
       │   │   ├
       │   │   ├ admin 的目錄
       │   │   ├ convert 的目錄
       │   │   ├ cron 的目錄
       │   │   ├ payment 的目錄
       │   │   └ shipping 的目錄
       │   └ zh_tw 的目錄
       │        ├ admin 的目錄
       │        ├ convert 的目錄
       │        ├ cron 的目錄
       │        ├ payment 的目錄
       │        └ shipping 的目錄
       ├ plugins 的目錄
       ├ templates 的目錄
       │   ├ backup 的目錄
       │   │   └ ibrary 的目錄
       │   ├ caches 的目錄
       │   └ compiled 的目錄
       │        └ admin 的目錄
       ├ themes 的目錄
       │   ├ default 的目錄
       │   │   ├ images 的目錄
       │   │   └ library 的目錄
       │   └ sport 的目錄
       ├ wap 的目錄
       │   ├ article.php
       │   ├ brands.php
       │   ├ buy.php
       │   ├ category.php
       │   ├ comment.php
       │   ├ goods.php
       │   ├ goods_list.php
       │   ├ index.php
       │   ├ user.php
       │   ├ includes 的目錄
       │   │   ├ init.php
       │   │   ├ lib_main.php
       │   └ templates 的目錄
       │        ├ article.wml
       │        ├ article_list.wml
       │        ├ brands.wml
       │        ├ buy.wml
       │        ├ category.wml
       │        ├ comment.wml
       │        ├ goods.wml
       │        ├ goods_img.wml
       │        ├ goods_list.wml
       │        ├ index.wml
       │        ├ login.wml
       │        ├ order_list.wml
       │        └ user.wml
       └ widget 的目錄
            ├ blog_sohu.php
            ├ blog_sohu.xhtml
            └ images 的目錄
</code></pre>

<p>```</p>

<h1>Major Pages</h1>

<p>各主要頁面 所用模組圖例</p>

<ol>
<li>首頁:index.dwt</li>
<li>文章列表:article_cat.dwt</li>
<li>文章顯示:article.dwt</li>
<li>商品分類:category.dwt</li>
<li>商品比較:compare.dwt</li>
<li>商品詳情:goods.dwt</li>
<li>搜索結果:search_result.dwt</li>
<li>奪寶奇兵:snatch.dwt</li>
</ol>


<h1>Library files</h1>

<ol>
<li>articles.lbi - 文章列表</li>
<li>article_info.lbi - 文章內容</li>
<li>article_list.lbi - 文章列表</li>
<li>best_goods.lbi - 精品推薦</li>
<li>bought_goods.lbi - 購買過此商品的人購買過哪些商品</li>
<li>brand_goods.lbi - 品牌的商品</li>
<li>cart.lbi - 購物車</li>
<li>cart_view.lbi - 查看購物車</li>
<li>category_tree.lbi - 商品分類樹</li>
<li>cat_goods.lbi - 分類下的商品</li>
<li>comments.lbi - 用戶評論</li>
<li>comment_form.lbi - 發表評論的表單</li>
<li>consignee.lbi - 收貨人信息</li>
<li>fittings.lbi - 相關配件</li>
<li>footer.lbi - 頁腳</li>
<li>gallery.lbi - 商品相冊</li>
<li>goods_detail.lbi - 商品詳情</li>
<li>goods_info.lbi - 商品基本資訊</li>
<li>goods_list.lbi - 商品列表</li>
<li>help.lbi - 説明內容</li>
<li>history.lbi - 歷史記錄</li>
<li>hot_goods.lbi - 熱賣商品</li>
<li>invoice_query.lbi - 發貨單查詢</li>
<li>member.lbi - 會員登錄區</li>
<li>member_info.lbi - 會員資訊</li>
<li>nav_main.lbi - 主導航</li>
<li>new_goods.lbi - 新品上架</li>
<li>order_confirm.lbi - 訂單確認</li>
<li>order_detail.lbi - 訂單詳情</li>
<li>order_view.lbi - 訂單資訊</li>
<li>package_card.lbi - 包裝和賀卡</li>
<li>pages.lbi - 列表分頁</li>
<li>page_top.lbi - 頁面頂部</li>
<li>payment.lbi - 支付方式</li>
<li>promotion.lbi - 促銷商品</li>
<li>properties.lbi - 商品屬性</li>
<li>register_login.lbi - 購物流程登錄和註冊</li>
<li>related_goods.lbi - 相關商品</li>
<li>search_advanced.lbi - 高級搜索表單</li>
<li>search_form.lbi - 搜索表單</li>
<li>search_result.lbi - 搜索結果</li>
<li>shipping.lbi - 配送方式</li>
<li>signin.lbi - 會員登錄表單</li>
<li>snatch_bid.lbi - 奪寶奇兵出價表單</li>
<li>snatch_goods.lbi - 奪寶奇兵活動的商品</li>
<li>snatch_list.lbi - 奪寶奇兵活動列表</li>
<li>snatch_price.lbi - 奪寶奇兵價格列表</li>
<li>snatch_result.lbi - 奪寶奇兵活動結果</li>
<li>top10.lbi - 銷售排行</li>
<li>ur_here.lbi - 當前位置</li>
<li>user_address.lbi - 會員中心收貨人列表</li>
<li>user_address_add.lbi - 會員中心添加收貨人</li>
<li>user_booking.lbi - 會員中心用戶缺貨登記</li>
<li>user_booking_add.lbi - 會員中心用戶添加缺貨登記</li>
<li>user_collect.lbi - 會員中心用戶我的最愛</li>
<li>user_forgetpassword.lbi - 會員中心找回密碼</li>
</ol>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ECShop Study Notes]]></title>
    <link href="http://blog.kent-chiu.com/blog/2011/10/17/ecshop_study_notes/"/>
    <updated>2011-10-17T00:00:00+08:00</updated>
    <id>http://blog.kent-chiu.com/blog/2011/10/17/ecshop_study_notes</id>
    <content type="html"><![CDATA[<p>ECShop provides themes changed capability, it mean we can switch themes
to change the look and feels of web site(front end only). The capability
come from the MVC pattern, it is abbreviated
<strong>M</strong>odel-<strong>V</strong>iew-<strong>C</strong>ontroller.</p>

<h4>Model</h4>

<p>In ECShop, the model is not mapping to code level (it means there is no
User object mapping to user table). But we can treating database like
the model.</p>

<p>the detail about the model of ECShop, please check <a href="http://wiki.kent-chiu.com/doku.php?id=ecshop:database_schema" title="ecshop:database_schema">ECShop Database
Schema</a></p>

<h4>View</h4>

<p>A theme is all about presentation, all files in the themes
folder(*.dwt, *.lbi, *.js, *.css) might very difference with other
themes.</p>

<p>the detail about the model of ECShop, please check
<a href="http://wiki.kent-chiu.com/doku.php?id=ecshop:template_index" title="ecshop:template_index">這篇文章說明每個模版的功能</a></p>

<h4>Controller</h4>

<p>The controller part (php files under root folder) that is most important
part of MVC, when we switch between this theme and that theme, the
controller would not changed, we only need to know which data is push to
view in controller. Whatever theme is using, it would not out of scope
of the data that pushed by controller.</p>

<p>Regarding the point of view, the most important thing to study ECShop is
to learn what controllers done.</p>

<p>the detail about the model of ECShop, please check
<a href="http://wiki.kent-chiu.com/doku.php?id=ecshop:controller_pages" title="ecshop:controller_pages">Controllers</a></p>

<h2>debug</h2>

<ol>
<li>using IDE's debug as → PHP script</li>
<li>using IDE's debug as → PHP web page</li>
<li>using this code snippet to output variables to file
file_put_contents(“debug.log”, var_export(\$var, true));</li>
<li>ecshop modify the smarty source, so that, we can <strong>NOT</strong> using
smarty debuging console.</li>
</ol>


<h2>Invoke Sequence</h2>

<p>ex: index page</p>

<p><code>
http://www.domain.com/index.php -&gt; ECSHOP_HOME/index.php -&gt; index.dwt -&gt; some of lbi files -&gt; render to html.
</code></p>

<p>(TBD: rewrite this more clearly)</p>

<h2>Smarty</h2>

<ul>
<li>Initialized at includes/init.php</li>
<li>ECShop overwrites smarty as cls_template, therefore, a part of
smarty function maybe not provides in ECShop.</li>
<li>ECShop uses <strong>*&lt;!–{ }–></strong>* to make template file more friendly
to WYSIWYG editor.</li>
</ul>


<p>the <strong>#BeginLibraryItem</strong> is not come from Smarty, it is come from
Dreamweaver, it means include the library item from
/library/auction.lbi. the library item is nothing more than a html file.</p>

<p>```</p>

<!-- #BeginLibraryItem "/library/auction.lbi" -->


<p>
```</p>

<h2>includes/init.php</h2>

<ul>
<li>every page should page <strong>*define('IN_ECS', true);</strong>* or get
Hacking attempt</li>
<li>database resource(cls_mysql instant) is put into \$GLOBALS['db']</li>
</ul>


<h3>Session Control</h3>

<p><code>
@ini_set('memory_limit',          '64M');
@ini_set('session.cache_expire',  180);
@ini_set('session.use_trans_sid', 0);
@ini_set('session.use_cookies',   1);
@ini_set('session.auto_start',    0);
</code></p>

<h3>Init User Session</h3>

<p>```
if (!defined('INIT_NO_USERS'))
{</p>

<pre><code>/* 初始化session */
include(ROOT_PATH . 'includes/cls_session.php');
</code></pre>

<p> </p>

<pre><code>$sess = new cls_session($db, $ecs-&gt;table('sessions'), $ecs-&gt;table('sessions_data'));
</code></pre>

<p> </p>

<pre><code>define('SESS_ID', $sess-&gt;get_session_id());
</code></pre>

<p>}
```</p>

<h3>Display Error</h3>

<p>@ini_set('display_errors', 1);</p>

<h3>DEBUG MODE</h3>

<p>debug mode using bit operation to determine which mode is in using , it
means if DEBUG MODE = 15(binary is 1111), it also includes DEBUG MODE =
1,2,4, 8, if DEBUG MODE = 7 (binary 0111), it is also includes DEBUG
MODE = 1,2,4</p>

<p>  code   description</p>

<hr />

<p>  0      disabled debug
  1      output error message
  2      disabled caching
  4      showing debug page
  8      logging SQL query</p>

<h4>code 0</h4>

<ul>
<li>disabled debug</li>
</ul>


<h4>code 2</h4>

<h5>smarty</h5>

<ul>
<li>force complied</li>
<li>direct output</li>
</ul>


<h5>includes/lib_base</h5>

<ul>
<li>disabled cache writing</li>
<li>disabled cache reading.</li>
</ul>


<h4>code 4</h4>

<ul>
<li>showing debug page (includes/lib.debug.php)</li>
</ul>


<h4>code 8</h4>

<ul>
<li>logging SQL query statement to data/mysql_query_xxxxx</li>
</ul>


<h3>User Input Checking</h3>

<p>```
/<em> 对用户传入的变量进行转义操作。</em>/
if (!get_magic_quotes_gpc())
{</p>

<pre><code>if (!empty($_GET))
{
    $_GET  = addslashes_deep($_GET);
}
if (!empty($_POST))
{
    $_POST = addslashes_deep($_POST);
}
</code></pre>

<p> </p>

<pre><code>$_COOKIE   = addslashes_deep($_COOKIE);
$_REQUEST  = addslashes_deep($_REQUEST);
</code></pre>

<p>}
```</p>

<h2>includes/cls_mysql.php</h2>

<ul>
<li>all database operations should using this class</li>
<li>this class has cache mechanism</li>
<li>if you don't want to cache a table, you can
set_disable_cache_tables() method</li>
</ul>


<h2>amdin/shop_config.php</h2>

<ul>
<li>the main config file of ECShop</li>
<li>this file <strong>would be caching</strong> for performance reason, if you want
to change this file, need refresh cache.</li>
</ul>


<p>regarding the caching, the we can find the compiled file
shop_config.php in temp/static folder, it contains configuration
information, it's useful for debug.</p>

<h2>AJAX</h2>

<p>ecshop裡一ajax主要是透過transport.js裡的AJAX.call.</p>

<p><code>
  /* *
  * 调用此方法发送HTTP请求。
  *
  * @public
  * @param   {string}    url             请求的URL地址
  * @param   {mix}       params          发送参数
  * @param   {Function}  callback        回调函数
  * @param   {string}    ransferMode     请求的方式，有"GET"和"POST"两种
  * @param   {string}    responseType    响应类型，有"JSON"、"XML"和"TEXT"三种
  * @param   {boolean}   asyn            是否异步请求的方式
  * @param   {boolean}   quiet           是否安静模式请求
  */
  call : function (url, params, callback, transferMode, responseType, asyn, quiet)
  // using : Ajax.call( 'user.php?act=is_registered', 'username=' + username, registed_callback , 'GET', 'TEXT', true, true );
</code></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[ECShop Database Schema]]></title>
    <link href="http://blog.kent-chiu.com/blog/2011/10/17/database_schema/"/>
    <updated>2011-10-17T00:00:00+08:00</updated>
    <id>http://blog.kent-chiu.com/blog/2011/10/17/database_schema</id>
    <content type="html"><![CDATA[<ul>
<li>there are about 76 tables (ecshop version2.6.2)</li>
<li>no view</li>
<li>no store procedure</li>
<li>no trigger</li>
<li>no table constrains, only PK</li>
<li>using auto key in most tables</li>
</ul>


<h2>tables order by alpha character</h2>

<ol>
<li><a href="#ecs_account_log" title="ecshop:database_schema">ecs_account_log</a>
使用者帳號情況記錄表，包括資金和積分等</li>
<li><a href="#ecs_ad" title="ecshop:database_schema">ecs_ad</a>
廣告清單配置表，包括站內站外的圖片，文字，flash，代碼廣告</li>
<li><a href="#ecs_ad_position" title="ecshop:database_schema">ecs_ad_position</a>
廣告位置配置表</li>
<li><a href="#ecs_admin_action" title="ecshop:database_schema">ecs_admin_action</a>
管理員許可權列表樹</li>
<li><a href="#ecs_admin_log" title="ecshop:database_schema">ecs_admin_log</a>
管理員操作日誌表</li>
<li><a href="#ecs_admin_message" title="ecshop:database_schema">ecs_admin_message</a>
管理員留言記錄表</li>
<li><a href="#ecs_admin_user" title="ecshop:database_schema">ecs_admin_user</a>
管理員資料許可權清單</li>
<li><a href="#ecs_adsense" title="ecshop:database_schema">ecs_adsense</a>
廣告點擊率統計表</li>
<li><a href="#ecs_affiliate_log" title="ecshop:database_schema">ecs_affiliate_log</a>
分成相關的表，還沒研究透 (TBD)</li>
<li><a href="#ecs_agency" title="ecshop:database_schema">ecs_agency</a> 辦事處資訊</li>
<li><a href="#ecs_area_region" title="ecshop:database_schema">ecs_area_region</a>
記錄表ecs_shipping_area中的shipping_area_name的地區名包括ecs_region中的城市</li>
<li><a href="#ecs_article" title="ecshop:database_schema">ecs_article</a> 文章內容表</li>
<li><a href="#ecs_article_cat" title="ecshop:database_schema">ecs_article_cat</a>
文章分類資訊表</li>
<li><a href="#ecs_attribute" title="ecshop:database_schema">ecs_attribute</a>
商品類型屬性工作表，該表記錄的是每個商品類型的所有屬性的配置情況，具體的商品的屬性不在該表</li>
<li><a href="#ecs_auction_log" title="ecshop:database_schema">ecs_auction_log</a>
拍賣出價記錄資訊表</li>
<li><a href="#ecs_auto_manage" title="ecshop:database_schema">ecs_auto_manage</a>
處理文章，商品自動上下線的計畫任務列表；需要安裝計畫任務外掛程式才有效</li>
<li><a href="#ecs_bonus_type" title="ecshop:database_schema">ecs_bonus_type</a>
紅包類型表</li>
<li><a href="#ecs_booking_goods" title="ecshop:database_schema">ecs_booking_goods</a>
缺貨登記的訂購和處理記錄表</li>
<li><a href="#ecs_brand" title="ecshop:database_schema">ecs_brand</a>
商品品牌資訊記錄表</li>
<li><a href="#ecs_card" title="ecshop:database_schema">ecs_card</a> 賀卡的配置的資訊</li>
<li><a href="#ecs_cart" title="ecshop:database_schema">ecs_cart</a>
購物車購物資訊記錄表</li>
<li><a href="#ecs_cat_recommend" title="ecshop:database_schema">ecs_cat_recommend</a>
尚無資訊 (TBD)</li>
<li><a href="#ecs_category" title="ecshop:database_schema">ecs_category</a>
商品分類表，記錄商品分類資訊</li>
<li><a href="#ecs_collect_goods" title="ecshop:database_schema">ecs_collect_goods</a>
會員收藏商品的記錄清單，一條記錄一個收藏商品</li>
<li><a href="#ecs_comment" title="ecshop:database_schema">ecs_comment</a>
使用者對文章和產品的評論清單</li>
<li><a href="#ecs_crons" title="ecshop:database_schema">ecs_crons</a>
計畫任務外掛程式安裝配置資訊</li>
<li><a href="#ecs_email_list" title="ecshop:database_schema">ecs_email_list</a>
增加電子雜誌訂閱表</li>
<li><a href="#ecs_email_sendlis" title="ecshop:database_schema">ecs_email_sendlis</a>
增加發送隊列表</li>
<li><a href="#ecs_error_log" title="ecshop:database_schema">ecs_error_log</a>
該表用來記錄頁面觸發計畫任務時失敗所產生的錯誤，從程式來看，目前主要是記錄某計畫任務所對應的外掛程式檔不存在的錯誤</li>
<li><a href="#ecs_exchange_goods" title="ecshop:database_schema">ecs_exchange_goods</a>
尚沒資訊(TBD)</li>
<li><a href="#ecs_favourable_activity" title="ecshop:database_schema">ecs_favourable_activity</a>
優惠活動的配置資訊，優惠活動包括送禮，減免，打折</li>
<li><a href="#ecs_feedback" title="ecshop:database_schema">ecs_feedback</a>
使用者回饋資訊表，包括留言，投訴，諮詢等</li>
<li><a href="#ecs_friend_link" title="ecshop:database_schema">ecs_friend_link</a>
友情連結配置資訊表</li>
<li><a href="#ecs_goods" title="ecshop:database_schema">ecs_goods</a> 商品表</li>
<li><a href="#ecs_goods_activity" title="ecshop:database_schema">ecs_goods_activity</a>
拍賣活動和奪寶奇兵活動配置資訊</li>
<li><a href="#ecs_goods_article" title="ecshop:database_schema">ecs_goods_article</a>
文章關聯產品表，即文章中提到的相關產品</li>
<li><a href="#ecs_goods_attr" title="ecshop:database_schema">ecs_goods_attr</a>
具體商品的屬性工作表</li>
<li><a href="#ecs_goods_cat" title="ecshop:database_schema">ecs_goods_cat</a>
商品的擴展分類</li>
<li><a href="#ecs_goods_gallery" title="ecshop:database_schema">ecs_goods_gallery</a>
商品相冊表，只出現在頁面的商品相冊中</li>
<li><a href="#ecs_goods_type" title="ecshop:database_schema">ecs_goods_type</a>
商品類型表，該表每條記錄就是一個商品類型</li>
<li><a href="#ecs_group_goods" title="ecshop:database_schema">ecs_group_goods</a>
該表應該是商品配件配置表</li>
<li><a href="#ecs_keywords" title="ecshop:database_schema">ecs_keywords</a>
頁面搜索關鍵字搜索記錄</li>
<li><a href="#ecs_link_goods" title="ecshop:database_schema">ecs_link_goods</a>
關聯商品資訊表，關聯商品是什麼意思還沒研究明白</li>
<li><a href="#ecs_mail_template" title="ecshop:database_schema">ecs_mail_template</a>
各種郵件的範本配置範本包括雜誌範本</li>
<li><a href="#ecs_member_price" title="ecshop:database_schema">ecs_member_price</a>
商品不按照會員的折扣定價，而是再單獨為不同的會員等級定的價</li>
<li><a href="#ecs_nav" title="ecshop:database_schema">ecs_nav</a>
上中下3個巡覽列的顯示配置</li>
<li><a href="#ecs_order_action" title="ecshop:database_schema">ecs_order_action</a>
對訂單操作日誌表</li>
<li><a href="#ecs_order_goods" title="ecshop:database_schema">ecs_order_goods</a>
訂單的商品資訊，注：訂單的商品資訊基本都是從購物車所對應的表中取來的。</li>
<li><a href="#ecs_order_info" title="ecshop:database_schema">ecs_order_info</a>
訂單的配送，賀卡等詳細資訊</li>
<li><a href="#ecs_pack" title="ecshop:database_schema">ecs_pack</a> 商品包裝資訊配置表</li>
<li><a href="#ecs_package_goods" title="ecshop:database_schema">ecs_package_goods</a>
尚無資訊(TBD)</li>
<li><a href="#ecs_pay_log" title="ecshop:database_schema">ecs_pay_log</a>
系統支付記錄</li>
<li><a href="#ecs_payment" title="ecshop:database_schema">ecs_payment</a>
安裝的支付方式配置資訊</li>
<li><a href="#ecs_plugins" title="ecshop:database_schema">ecs_plugins</a> 外掛(插件)</li>
<li><a href="#ecs_region" title="ecshop:database_schema">ecs_region</a> 地區清單</li>
<li><a href="#ecs_searchengine" title="ecshop:database_schema">ecs_searchengine</a>
搜尋引擎訪問記錄</li>
<li><a href="#ecs_sessions" title="ecshop:database_schema">ecs_sessions</a>
session記錄表</li>
<li><a href="#ecs_sessions_data" title="ecshop:database_schema">ecs_sessions_data</a>
session資料表（超過255位元組的session內容會保存在該表）</li>
<li><a href="#ecs_shipping" title="ecshop:database_schema">ecs_shipping</a>
配送方式配置資訊表</li>
<li><a href="#ecs_shipping_area" title="ecshop:database_schema">ecs_shipping_area</a>
配送方式所屬的配送區域和配送費用資訊</li>
<li><a href="#ecs_shop_config" title="ecshop:database_schema">ecs_shop_config</a>
全站配置資訊表</li>
<li><a href="#ecs_snatch_log" title="ecshop:database_schema">ecs_snatch_log</a>
奪寶奇兵出價記錄表</li>
<li><a href="#ecs_stats" title="ecshop:database_schema">ecs_stats</a> 訪問資訊記錄表</li>
<li><a href="#ecs_tag" title="ecshop:database_schema">ecs_tag</a> 商品的標記</li>
<li><a href="#ecs_template" title="ecshop:database_schema">ecs_template</a>
範本設置資料表</li>
<li><a href="#ecs_topic" title="ecshop:database_schema">ecs_topic</a> 專題活動配置表</li>
<li><a href="#ecs_user_account" title="ecshop:database_schema">ecs_user_account</a>
用戶資金流動表，包括提現和充值</li>
<li><a href="#ecs_user_address" title="ecshop:database_schema">ecs_user_address</a>
收貨人的信息表</li>
<li><a href="#ecs_user_bonus" title="ecshop:database_schema">ecs_user_bonus</a>
已經發送的紅包資訊清單</li>
<li><a href="#ecs_user_feed" title="ecshop:database_schema">ecs_user_feed</a>
尚無資訊 (TBD)</li>
<li><a href="#ecs_user_rank" title="ecshop:database_schema">ecs_user_rank</a>
會員等級配置資訊</li>
<li><a href="#ecs_users" title="ecshop:database_schema">ecs_users</a>
使用者帳號資訊，包括資金和積分等</li>
<li><a href="#ecs_virtual_card" title="ecshop:database_schema">ecs_virtual_card</a>
虛擬卡卡號庫</li>
<li><a href="#ecs_vote" title="ecshop:database_schema">ecs_vote</a> 網站調查資訊記錄表</li>
<li><a href="#ecs_volume_price" title="ecshop:database_schema">ecs_volume_price</a>
尚無資訊 (TBD)</li>
<li><a href="#ecs_vote_log" title="ecshop:database_schema">ecs_vote_log</a>
投票記錄表</li>
<li><a href="#ecs_vote_option" title="ecshop:database_schema">ecs_vote_option</a>
投票的選項內容表</li>
<li><a href="#ecs_wholesale" title="ecshop:database_schema">ecs_wholesale</a>
批發方案表</li>
</ol>


<h2>ER diagram</h2>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_all2.jpg" alt="ecshop_erd_all2.jpg" /></p>

<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_all.jpg" alt="ecshop_erd_all.jpg" /></p>

<h2>tables group by functionality</h2>

<p>Because the list is base on functionality, therefore, there are some
tables would show in difference group more then one time.</p>

<h3>user/account</h3>

<ol>
<li><a href="#ecs_order_info" title="ecshop:database_schema">ecs_order_info</a>
訂單的配送，賀卡等詳細資訊</li>
<li><a href="#ecs_user_bonus" title="ecshop:database_schema">ecs_user_bonus</a>
已經發送的紅包資訊清單</li>
<li><a href="#ecs_user_address" title="ecshop:database_schema">ecs_user_address</a>
收貨人的信息表</li>
<li><a href="#ecs_user_account" title="ecshop:database_schema">ecs_user_account</a>
用戶資金流動表，包括提現和充值</li>
<li><a href="#ecs_users" title="ecshop:database_schema">ecs_users</a>
使用者帳號資訊，包括資金和積分等</li>
<li><a href="#ecs_account_log" title="ecshop:database_schema">ecs_account_log</a>
使用者帳號情況記錄表，包括資金和積分等</li>
<li><a href="#ecs_user_feed" title="ecshop:database_schema">ecs_user_feed</a>
尚無資訊 (TBD)</li>
<li><a href="#ecs_user_rank" title="ecshop:database_schema">ecs_user_rank</a>
會員等級配置資訊</li>
<li><a href="#ecs_group_goods" title="ecshop:database_schema">ecs_group_goods</a>
該表應該是商品配件配置表</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_user.jpg" alt="ecshop_erd_user.jpg" /></p>

<h3>admin</h3>

<ol>
<li><a href="#ecs_admin_action" title="ecshop:database_schema">ecs_admin_action</a>
管理員許可權列表樹</li>
<li><a href="#ecs_agency" title="ecshop:database_schema">ecs_agency</a> 辦事處資訊</li>
<li><a href="#ecs_admin_user" title="ecshop:database_schema">ecs_admin_user</a>
管理員資料許可權清單</li>
<li><a href="#ecs_admin_message" title="ecshop:database_schema">ecs_admin_message</a>
管理員留言記錄表</li>
<li><a href="#ecs_admin_log" title="ecshop:database_schema">ecs_admin_log</a>
管理員操作日誌表</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_admin.jpg" alt="ecshop_erd_admin.jpg" /></p>

<h3>article</h3>

<ol>
<li><a href="#ecs_article" title="ecshop:database_schema">ecs_article</a> 文章內容表</li>
<li><a href="#ecs_article_cat" title="ecshop:database_schema">ecs_article_cat</a>
文章分類資訊表</li>
<li><a href="#ecs_comment" title="ecshop:database_schema">ecs_comment</a>
使用者對文章和產品的評論清單</li>
<li><a href="#ecs_auto_manage" title="ecshop:database_schema">ecs_auto_manage</a>
處理文章，商品自動上下線的計畫任務列表；需要安裝計畫任務外掛程式才有效</li>
<li><a href="#ecs_goods_article" title="ecshop:database_schema">ecs_goods_article</a>
文章關聯產品表，即文章中提到的相關產品</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_article.jpg" alt="ecshop_erd_article.jpg" /></p>

<h3>adsense</h3>

<ol>
<li><a href="#ecs_ad" title="ecshop:database_schema">ecs_ad</a>
廣告清單配置表，包括站內站外的圖片，文字，flash，代碼廣告</li>
<li><a href="#ecs_ad_position" title="ecshop:database_schema">ecs_ad_position</a>
廣告位置配置表</li>
<li><a href="#ecs_adsense" title="ecshop:database_schema">ecs_adsense</a>
廣告點擊率統計表</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_adsence.jpg" alt="ecshop_erd_adsence.jpg" /></p>

<h3>affiliate</h3>

<ol>
<li><a href="#ecs_affiliate_log" title="ecshop:database_schema">ecs_affiliate_log</a>
分成相關的表，還沒研究透</li>
<li><a href="#ecs_order_info" title="ecshop:database_schema">ecs_order_info</a>
訂單的配送，賀卡等詳細資訊</li>
<li><a href="#ecs_users" title="ecshop:database_schema">ecs_users</a>
使用者帳號資訊，包括資金和積分等</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_affiliate.jpg" alt="ecshop_erd_affiliate.jpg" /></p>

<h3>auction</h3>

<ol>
<li><a href="#ecs_auction_log" title="ecshop:database_schema">ecs_auction_log</a>
拍賣出價記錄資訊表</li>
<li><a href="#ecs_users" title="ecshop:database_schema">ecs_users</a>
使用者帳號資訊，包括資金和積分等</li>
<li><a href="#ecs_goods" title="ecshop:database_schema">ecs_goods</a> 商品表</li>
<li><a href="#ecs_goods_activity" title="ecshop:database_schema">ecs_goods_activity</a>
拍賣活動和奪寶奇兵活動配置資訊</li>
<li><a href="#ecs_snatch_log" title="ecshop:database_schema">ecs_snatch_log</a>
奪寶奇兵出價記錄表</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_auction.jpg" alt="ecshop_erd_auction.jpg" /></p>

<h3>shapping car</h3>

<ol>
<li><a href="#ecs_cart" title="ecshop:database_schema">ecs_cart</a>
購物車購物資訊記錄表</li>
<li><a href="#ecs_favourable_activity" title="ecshop:database_schema">ecs_favourable_activity</a>
優惠活動的配置資訊，優惠活動包括送禮，減免，打折</li>
<li><a href="#ecs_attribute" title="ecshop:database_schema">ecs_attribute</a>
商品類型屬性工作表，該表記錄的是每個商品類型的所有屬性的配置情況，具體的商品的屬性不在該表</li>
<li><a href="#ecs_goods_attr" title="ecshop:database_schema">ecs_goods_attr</a>
具體商品的屬性工作表</li>
<li><a href="#ecs_goods_type" title="ecshop:database_schema">ecs_goods_type</a>
商品類型表，該表每條記錄就是一個商品類型</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_cart.jpg" alt="ecshop_erd_cart.jpg" /></p>

<h3>goods category</h3>

<ol>
<li><a href="#ecs_category" title="ecshop:database_schema">ecs_category</a>
商品分類表，記錄商品分類資訊</li>
<li><a href="#ecs_goods_attr" title="ecshop:database_schema">ecs_goods_attr</a>
具體商品的屬性工作表</li>
<li><a href="#ecs_goods" title="ecshop:database_schema">ecs_goods</a> 商品表</li>
<li><a href="#ecs_goods_cat" title="ecshop:database_schema">ecs_goods_cat</a>
商品的擴展分類</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_category.jpg" alt="ecshop_erd_category.jpg" /></p>

<h3>goods</h3>

<ol>
<li><a href="#ecs_brand" title="ecshop:database_schema">ecs_brand</a>
商品品牌資訊記錄表</li>
<li><a href="#ecs_goods_article" title="ecshop:database_schema">ecs_goods_article</a>
文章關聯產品表，即文章中提到的相關產品</li>
<li><a href="#ecs_wholesale" title="ecshop:database_schema">ecs_wholesale</a>
批發方案表</li>
<li><a href="#ecs_volume_price" title="ecshop:database_schema">ecs_volume_price</a>
尚無資訊 (TBD)</li>
<li><a href="#ecs_goods" title="ecshop:database_schema">ecs_goods</a> 商品表</li>
<li><a href="#ecs_collect_goods" title="ecshop:database_schema">ecs_collect_goods</a>
會員收藏商品的記錄清單，一條記錄一個收藏商品</li>
<li><a href="#ecs_booking_goods" title="ecshop:database_schema">ecs_booking_goods</a>
缺貨登記的訂購和處理記錄表</li>
<li><a href="#ecs_cart" title="ecshop:database_schema">ecs_cart</a>
購物車購物資訊記錄表</li>
<li><a href="#ecs_member_price" title="ecshop:database_schema">ecs_member_price</a>
商品不按照會員的折扣定價，而是再單獨為不同的會員等級定的價</li>
<li><a href="#ecs_goods_type" title="ecshop:database_schema">ecs_goods_type</a>
商品類型表，該表每條記錄就是一個商品類型</li>
<li><a href="#ecs_order_goods" title="ecshop:database_schema">ecs_order_goods</a>
訂單的商品資訊，注：訂單的商品資訊基本都是從購物車所對應的表中取來的。</li>
<li><a href="#ecs_package_goods" title="ecshop:database_schema">ecs_package_goods</a>
尚無資訊(TBD)</li>
<li><a href="#ecs_link_goods" title="ecshop:database_schema">ecs_link_goods</a>
關聯商品資訊表，關聯商品是什麼意思還沒研究明白</li>
<li><a href="#ecs_comment" title="ecshop:database_schema">ecs_comment</a>
使用者對文章和產品的評論清單</li>
<li><a href="#ecs_goods_gallery" title="ecshop:database_schema">ecs_goods_gallery</a>
商品相冊表，只出現在頁面的商品相冊中</li>
<li><a href="#ecs_virtual_card" title="ecshop:database_schema">ecs_virtual_card</a>
虛擬卡卡號庫</li>
<li><a href="#ecs_group_goods" title="ecshop:database_schema">ecs_group_goods</a>
該表應該是商品配件配置表</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_goods.jpg" alt="ecshop_erd_goods.jpg" /></p>

<h3>mail</h3>

<ol>
<li><a href="#ecs_email_list" title="ecshop:database_schema">ecs_email_list</a>
增加電子雜誌訂閱表</li>
<li><a href="#ecs_email_sendlis" title="ecshop:database_schema">ecs_email_sendlis</a>
增加發送隊列表</li>
<li><a href="#ecs_mail_template" title="ecshop:database_schema">ecs_mail_template</a>
各種郵件的範本配置範本包括雜誌範本</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_mail.jpg" alt="ecshop_erd_mail.jpg" /></p>

<h3>order</h3>

<ol>
<li><a href="#ecs_pay_log" title="ecshop:database_schema">ecs_pay_log</a>
系統支付記錄</li>
<li><a href="#ecs_shipping" title="ecshop:database_schema">ecs_shipping</a>
配送方式配置資訊表</li>
<li><a href="#ecs_payment" title="ecshop:database_schema">ecs_payment</a>
安裝的支付方式配置資訊</li>
<li><a href="#ecs_card" title="ecshop:database_schema">ecs_card</a> 賀卡的配置的資訊</li>
<li><a href="#ecs_user_bonus" title="ecshop:database_schema">ecs_user_bonus</a>
已經發送的紅包資訊清單</li>
<li><a href="#ecs_users" title="ecshop:database_schema">ecs_users</a>
使用者帳號資訊，包括資金和積分等</li>
<li><a href="#ecs_order_info" title="ecshop:database_schema">ecs_order_info</a>
訂單的配送，賀卡等詳細資訊</li>
<li><a href="#ecs_goods" title="ecshop:database_schema">ecs_goods</a> 商品表</li>
<li><a href="#ecs_favourable_activity" title="ecshop:database_schema">ecs_favourable_activity</a>
優惠活動的配置資訊，優惠活動包括送禮，減免，打折</li>
<li><a href="#ecs_pack" title="ecshop:database_schema">ecs_pack</a> 商品包裝資訊配置表</li>
<li><a href="#ecs_affiliate_log" title="ecshop:database_schema">ecs_affiliate_log</a>
分成相關的表，還沒研究透</li>
<li><a href="#ecs_order_action" title="ecshop:database_schema">ecs_order_action</a>
對訂單操作日誌表</li>
<li><a href="#ecs_order_goods" title="ecshop:database_schema">ecs_order_goods</a>
訂單的商品資訊，注：訂單的商品資訊基本都是從購物車所對應的表中取來的。</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_order.jpg" alt="ecshop_erd_order.jpg" /></p>

<h3>region</h3>

<ol>
<li><a href="#ecs_agency" title="ecshop:database_schema">ecs_agency</a> 辦事處資訊</li>
<li><a href="#ecs_region" title="ecshop:database_schema">ecs_region</a> 地區清單</li>
<li><a href="#ecs_area_region" title="ecshop:database_schema">ecs_area_region</a>
記錄表ecs_shipping_area中的shipping_area_name的地區名包括ecs_region中的城市</li>
<li><a href="#ecs_shipping" title="ecshop:database_schema">ecs_shipping</a>
配送方式配置資訊表</li>
<li><a href="#ecs_shipping_area" title="ecshop:database_schema">ecs_shipping_area</a>
配送方式所屬的配送區域和配送費用資訊</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_region.jpg" alt="ecshop_erd_region.jpg" /></p>

<h3>vote</h3>

<ol>
<li><a href="#ecs_vote_log" title="ecshop:database_schema">ecs_vote_log</a>
投票記錄表</li>
<li><a href="#ecs_vote_option" title="ecshop:database_schema">ecs_vote_option</a>
投票的選項內容表</li>
<li><a href="#ecs_vote" title="ecshop:database_schema">ecs_vote</a> 網站調查資訊記錄表</li>
</ol>


<p><img src="http://blog.kent-chiu.com/images/2011-10-17/ecshop_erd_vote.jpg" alt="ecshop_erd_vote.jpg" /></p>

<h3>uncategorized</h3>

<ol>
<li><a href="#ecs_crons" title="ecshop:database_schema">ecs_crons</a>
計畫任務外掛程式安裝配置資訊</li>
<li><a href="#ecs_error_log" title="ecshop:database_schema">ecs_error_log</a>
該表用來記錄頁面觸發計畫任務時失敗所產生的錯誤，從程式來看，目前主要是記錄某計畫任務所對應的外掛程式檔不存在的錯誤</li>
<li><a href="#ecs_friend_link" title="ecshop:database_schema">ecs_friend_link</a>
友情連結配置資訊表</li>
<li><a href="#ecs_keywords" title="ecshop:database_schema">ecs_keywords</a>
頁面搜索關鍵字搜索記錄</li>
<li><a href="#ecs_nav" title="ecshop:database_schema">ecs_nav</a>
上中下3個巡覽列的顯示配置</li>
<li><a href="#ecs_plugins" title="ecshop:database_schema">ecs_plugins</a> 外掛(插件)</li>
<li><a href="#ecs_searchengine" title="ecshop:database_schema">ecs_searchengine</a>
搜尋引擎訪問記錄</li>
<li><a href="#ecs_sessions" title="ecshop:database_schema">ecs_sessions</a>
session記錄表</li>
<li><a href="#ecs_sessions_data" title="ecshop:database_schema">ecs_sessions_data</a>
session資料表（超過255位元組的session內容會保存在該表）</li>
<li><a href="#ecs_shop_config" title="ecshop:database_schema">ecs_shop_config</a>
全站配置資訊表</li>
<li><a href="#ecs_bonus_type" title="ecshop:database_schema">ecs_bonus_type</a>
紅包類型表</li>
<li><a href="#ecs_cat_recommend" title="ecshop:database_schema">ecs_cat_recommend</a>
尚無資訊 (TBD)</li>
<li><a href="#ecs_stats" title="ecshop:database_schema">ecs_stats</a> 訪問資訊記錄表</li>
<li><a href="#ecs_tag" title="ecshop:database_schema">ecs_tag</a> 商品的標記</li>
<li><a href="#ecs_template" title="ecshop:database_schema">ecs_template</a>
範本設置資料表</li>
<li><a href="#ecs_topic" title="ecshop:database_schema">ecs_topic</a> 專題活動配置表</li>
<li><a href="#ecs_feedback" title="ecshop:database_schema">ecs_feedback</a>
使用者回饋資訊表，包括留言，投訴，諮詢等</li>
</ol>


<h2>table schema</h2>

<p>轉載說明:這份schema的中文說明部份主要是來自已ecshop官方fourm裡一份熱心網友的貢獻(因為找不到出處了，所以沒給原post的link)，我只是將它轉成繁體中文。</p>

<h3><a id='ecs_account_log'>ecs_account_log</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_account_log` (
    `log_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `user_id` mediumint(8) unsigned NOT NULL COMMENT '用戶登錄後保存在session中的id號，跟users表中的user_id對應',
    `user_money` decimal(10,2) NOT NULL COMMENT '使用者該筆記錄的餘額',
    `frozen_money` decimal(10,2) NOT NULL COMMENT '被凍結的資金',
    `rank_points` mediumint(9) NOT NULL COMMENT '等級積分，跟消費積分是分開的',
    `pay_points` mediumint(9) NOT NULL COMMENT '消費積分，跟等級積分是分開的',
    `change_time` int(10) unsigned NOT NULL COMMENT '該筆操作發生的時間',
    `change_desc` varchar(255) NOT NULL COMMENT '該筆操作的備註，一般是，充值或者提現。也可是是管理員後臺寫的任何在備註',
    `change_type` tinyint(3) unsigned NOT NULL COMMENT '操作類型，0為充值，1為提現，2為管理員調節，99為其他類型',
    PRIMARY KEY (`log_id`),
    KEY `user_id` (`user_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='使用者帳號情況記錄表，包括資金和積分等' AUTO_INCREMENT=42 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_ad'>ecs_ad</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_ad` (
    `ad_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `position_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '0,站外廣告；從1開始代表的是該廣告所處的廣告位，同表ad_position中的欄位position_id的值',
    `media_type` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '廣告類型，0，圖片；1，flash;2,代碼；3，文字',
    `ad_name` varchar(60) NOT NULL COMMENT '該條廣告記錄的廣告名稱',
    `ad_link` varchar(255) NOT NULL COMMENT '廣告連結位址',
    `ad_code` text NOT NULL COMMENT '廣告連結的表現，文字廣告就是文字或圖片和flash就是它們的地址，代碼廣告就是代碼內容',
    `start_time` int(11) NOT NULL DEFAULT '0' COMMENT '廣告開始時間',
    `end_time` int(11) NOT NULL DEFAULT '0' COMMENT '廣告結束時間',
    `link_man` varchar(60) NOT NULL COMMENT '廣告連絡人',
    `link_email` varchar(60) NOT NULL COMMENT '廣告連絡人的郵箱',
    `link_phone` varchar(60) NOT NULL COMMENT '廣告連絡人的電話',
    `click_count` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '該廣告點擊數',
    `enabled` tinyint(3) unsigned NOT NULL DEFAULT '1' COMMENT '該廣告是否關閉，1，開啟；0，關閉；關閉後廣告將不再有效，直至重新開啟',
    PRIMARY KEY (`ad_id`),
    KEY `position_id` (`position_id`),
    KEY `enabled` (`enabled`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='廣告清單配置表，包括站內站外的圖片，文字，flash，代碼廣告' AUTO_INCREMENT=6 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_admin_action'>ecs_admin_action</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_admin_action` (
    `action_id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `parent_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '該id項的父id，對應本表的action_id欄位',
    `action_code` varchar(20) NOT NULL COMMENT '代表權限的英文字串，對應漢文在語言檔中，如果該欄位有某個字串，就表示有該許可權',
    PRIMARY KEY (`action_id`),
    KEY `parent_id` (`parent_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='管理員許可權列表樹' AUTO_INCREMENT=104 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_admin_log'>ecs_admin_log</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_admin_log` (
    `log_id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `log_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '寫日誌時間',
    `user_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '該日誌所記錄的操作者id，同ecs_admin_user的user_id',
    `log_info` varchar(255) NOT NULL COMMENT '管理操作內容',
    `ip_address` varchar(15) NOT NULL COMMENT '管理者登錄ip',
    PRIMARY KEY (`log_id`),
    KEY `log_time` (`log_time`),
    KEY `user_id` (`user_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='管理員操作日誌表' AUTO_INCREMENT=158 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_admin_message'>ecs_admin_message</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_admin_message` (
    `message_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `sender_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '發送該留言的管理員id，同ecs_admin_user的user_id',
    `receiver_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '接收消息的管理員id，同ecs_admin_user的user_id，如果是給多個管理員發送，則同一個消息給每個管理員id發送一條',
    `sent_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '留言發送時間',
    `read_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '留言閱讀時間',
    `readed` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '留言是否閱讀，1，已閱讀；0，未閱讀',
    `deleted` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '留言是否已經是否已經被刪除，1，已刪除；0，未刪除',
    `title` varchar(150) NOT NULL COMMENT '留言的主題',
    `message` text NOT NULL COMMENT '留言的內容',
    PRIMARY KEY (`message_id`),
    KEY `sender_id` (`sender_id`,`receiver_id`),
    KEY `receiver_id` (`receiver_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='管理員留言記錄表' AUTO_INCREMENT=7 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_admin_user'>ecs_admin_user</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_admin_user` (
    `user_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號，管理員代號',
    `user_name` varchar(60) NOT NULL COMMENT '管理員登錄名',
    `email` varchar(60) NOT NULL COMMENT '管理員郵箱',
    `password` varchar(32) NOT NULL COMMENT '管理員登錄秘密加密串',
    `add_time` int(11) NOT NULL DEFAULT '0' COMMENT '管理員添加時間',
    `last_login` int(11) NOT NULL DEFAULT '0' COMMENT '管理員最後一次登錄時間',
    `last_ip` varchar(15) NOT NULL COMMENT '管理員最後一次登錄ip',
    `action_list` text NOT NULL COMMENT '管理員管理許可權列表',
    `nav_list` text NOT NULL COMMENT '管理員巡覽列配置項',
    `lang_type` varchar(50) NOT NULL,
    `agency_id` smallint(5) unsigned NOT NULL COMMENT '該管理員負責的辦事處的id，同ecs_agency的agency_id欄位。如果管理員沒負責辦事處，則此處為0',
    `todolist` longtext COMMENT '記事本記錄的資料',
    PRIMARY KEY (`user_id`),
    KEY `user_name` (`user_name`),
    KEY `agency_id` (`agency_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='管理員資料許可權清單' AUTO_INCREMENT=4 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_adsense'>ecs_adsense</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_adsense` (
    `from_ad` smallint(5) NOT NULL DEFAULT '0' COMMENT '廣告代號，-1是站外廣告，如果是站內廣告則為ecs_ad的ad_id',
    `referer` varchar(255) NOT NULL COMMENT '頁面來源',
    `clicks` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '點擊率',
    KEY `from_ad` (`from_ad`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='廣告點擊率統計表';
</code></pre>

<p>```</p>

<p>ecs_adsense.from_ad :
廣告代號，-1是站外廣告，<strong>如果是站內廣告則為ecs_ad的ad_id</strong></p>

<p>這個table沒有primary key</p>

<h3><a id='ecs_ad_position'>ecs_ad_position</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_ad_position` (
    `position_id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT COMMENT '廣告位自增id',
    `position_name` varchar(60) NOT NULL COMMENT '廣告位名稱',
    `ad_width` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '廣告位寬度',
    `ad_height` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '廣告位高度',
    `position_desc` varchar(255) NOT NULL COMMENT '廣告位描述',
    `position_style` text NOT NULL COMMENT '廣告位元範本代碼',
    PRIMARY KEY (`position_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='廣告位置配置表' AUTO_INCREMENT=2 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_affiliate_log'>ecs_affiliate_log</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_affiliate_log` (
    `log_id` mediumint(8) NOT NULL AUTO_INCREMENT,
    `order_id` mediumint(8) NOT NULL,
    `time` int(10) NOT NULL,
    `user_id` mediumint(8) NOT NULL, COMMENT='需確定是admin_user還是一般的users',
    `user_name` varchar(60) DEFAULT NULL,
    `money` decimal(10,2) NOT NULL DEFAULT '0.00',
    `point` int(10) NOT NULL DEFAULT '0',
    `separate_type` tinyint(1) NOT NULL DEFAULT '0',
    PRIMARY KEY (`log_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='分成相關的表，還沒研究透' AUTO_INCREMENT=1 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_agency'>ecs_agency</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_agency` (
    `agency_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '辦事處ID',
    `agency_name` varchar(255) NOT NULL COMMENT '辦事處名字',
    `agency_desc` text NOT NULL COMMENT '辦事處描述',
    PRIMARY KEY (`agency_id`),
    KEY `agency_name` (`agency_name`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='辦事處資訊' AUTO_INCREMENT=5 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_area_region'>ecs_area_region</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_area_region` (
    `shipping_area_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '配送區域的id號，等同於ecs_shipping_area的shipping_area_id的值',
    `region_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '地區清單，等同於ecs_region的region_id',
    PRIMARY KEY (`shipping_area_id`,`region_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=FIXED COMMENT='記錄表ecs_shipping_area中的shipping_area_name的地區名包括ecs_region中的城市';
</code></pre>

<p>```</p>

<h3><a id='ecs_article'>ecs_article</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_article` (
    `article_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `cat_id` smallint(5) NOT NULL DEFAULT '0' COMMENT '該文章的分類，同ecs_article_cat的cat_id,如果不在，將自動成為保留類型而不能刪除',
    `title` varchar(150) NOT NULL COMMENT '文章題目',
    `content` longtext NOT NULL COMMENT '文章內容',
    `author` varchar(30) NOT NULL COMMENT '文章作者',
    `author_email` varchar(60) NOT NULL COMMENT '文章作者的email',
    `keywords` varchar(255) NOT NULL COMMENT '文章的關鍵字',
    `article_type` tinyint(1) unsigned NOT NULL DEFAULT '2' COMMENT '文章類型，0，普通；1，置頂；2和大於2的，為保留文章，保留文章不能刪除',
    `is_open` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否顯示。1，顯示；0，不顯示',
    `add_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '文章添加時間',
    `file_url` varchar(255) NOT NULL COMMENT '上傳檔或者外部檔的url',
    `open_type` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '0,正常；當該欄位為1或者2時，會在文章最後添加一個連結“相關下載”，連接位址等於file_url的值；但程式在此處有bug',
    `link` varchar(255) NOT NULL COMMENT '該文章標題所引用的連接，如果該項有值將不能顯示文章內容，即該表中content的值',
    PRIMARY KEY (`article_id`),
    KEY `cat_id` (`cat_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='文章內容表' AUTO_INCREMENT=11 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_article_cat'>ecs_article_cat</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_article_cat` (
    `cat_id` smallint(5) NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `cat_name` varchar(255) NOT NULL COMMENT '分類名稱',
    `cat_type` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '分類類型；1，普通分類；2，系統分類；3，網店信息；4，幫助分類；5，網店幫助',
    `keywords` varchar(255) NOT NULL COMMENT '分類關鍵字',
    `cat_desc` varchar(255) NOT NULL COMMENT '分類說明文字',
    `sort_order` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '分類顯示順序',
    `show_in_nav` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否在巡覽列顯示；0，否；1，是',
    `parent_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '父節點id，取值於該表cat_id欄位',
    PRIMARY KEY (`cat_id`),
    KEY `cat_type` (`cat_type`),
    KEY `sort_order` (`sort_order`),
    KEY `parent_id` (`parent_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='文章分類資訊表' AUTO_INCREMENT=7 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_attribute'>ecs_attribute</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_attribute` (
    `attr_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `cat_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '商品類型，同ecs_goods_type的cat_id',
    `attr_name` varchar(60) NOT NULL COMMENT '屬性名稱',
    `attr_input_type` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '當添加商品時，該屬性的添加類別；0，為手工輸入；1，為選擇輸入；2，為多行文本輸入',
    `attr_type` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '屬性是否多選；0，否；1，是；如果可以多選，則可以自訂屬性，並且可以根據值的不同定不同的價',
    `attr_values` text NOT NULL COMMENT '如果attr_input_type為1，即選擇輸入，則attr_name對應的值的取值就是該欄位的值',
    `attr_index` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '屬性是否可以檢索；0，不需要檢索；1，關鍵字檢索；2，範圍檢索；該屬性應該是如果檢索的話，可以通過該屬性找到有該屬性的商品',
    `sort_order` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '屬性顯示的順序，數位越大越靠前，如果數位一樣則按id順序',
    `is_linked` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否關聯；0，不關聯；1，關聯；如果關聯，那麼用戶在購買該商品時，具有有該屬性相同值的商品將被推薦給用戶',
    `attr_group` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '屬性分組，相同的為一個屬性組。該值應該取自ecs_goods_type的attr_group的值的順序',
    PRIMARY KEY (`attr_id`),
    KEY `cat_id` (`cat_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='商品類型屬性工作表，該表記錄的是每個商品類型的所有屬性的配置情況，具體的商品的屬性不在該表' AUTO_INCREMENT=175 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_auction_log'>ecs_auction_log</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_auction_log` (
    `log_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `act_id` mediumint(8) unsigned NOT NULL COMMENT '拍賣活動的id，取值於ecs_goods_activity的act_id欄位',
    `bid_user` mediumint(8) unsigned NOT NULL COMMENT '出價的用戶id，取值於ecs_users的user_id',
    `bid_price` decimal(10,2) unsigned NOT NULL COMMENT '出價價格',
    `bid_time` int(10) unsigned NOT NULL COMMENT '出價時間',
    PRIMARY KEY (`log_id`),
    KEY `act_id` (`act_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=FIXED COMMENT='拍賣出價記錄資訊表' AUTO_INCREMENT=3 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_auto_manage'>ecs_auto_manage</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_auto_manage` (
    `item_id` mediumint(8) NOT NULL COMMENT '如果是商品就是ecs_goods的goods_id，如果是文章就是ecs_article的article_id',
    `type` varchar(10) NOT NULL COMMENT 'goods是商品，article是文章',
    `starttime` int(10) NOT NULL COMMENT '上線時間',
    `endtime` int(10) NOT NULL COMMENT '下線時間',
    PRIMARY KEY (`item_id`,`type`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='處理文章，商品自動上下線的計畫任務列表；需要安裝計畫任務外掛程式才有效';
</code></pre>

<p>```</p>

<p>ecs_auto_manage.item_id :
如果是商品就是ecs_goods的goods_id，如果是文章就是ecs_article的article_id,
由ecs_auto_manage.item_id = goods or article決定</p>

<h3><a id='ecs_bonus_type'>ecs_bonus_type</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_bonus_type` (
    `type_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '紅包類型流水號',
    `type_name` varchar(60) NOT NULL COMMENT '紅包名稱',
    `type_money` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '紅包所值的金額',
    `send_type` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '紅包發送類型.0,按使用者如會員等級,會員名稱發放;1,按商品類別發送;2,按訂單金額所達到的額度發送;3,線下發送',
    `min_amount` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '如果是按金額發送紅包,該項是最小金額.即只要購買超過該金額的商品都可以領到紅包',
    `max_amount` decimal(10,2) unsigned NOT NULL DEFAULT '0.00',
    `send_start_date` int(11) NOT NULL DEFAULT '0' COMMENT '紅包發送的開始時間',
    `send_end_date` int(11) NOT NULL DEFAULT '0' COMMENT '紅包發送的結束時間',
    `use_start_date` int(11) NOT NULL DEFAULT '0' COMMENT '紅包可以使用的開始時間',
    `use_end_date` int(11) NOT NULL DEFAULT '0' COMMENT '紅包可以使用的結束時間',
    `min_goods_amount` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '可以使用該紅包的商品的最低價格.即只要達到該價格的商品才可以使用紅包',
    PRIMARY KEY (`type_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='紅包類型表' AUTO_INCREMENT=6 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_booking_goods'>ecs_booking_goods</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_booking_goods` (
    `rec_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '登記該缺貨記錄的使用者的id，取值ecs_users的user_id',
    `email` varchar(60) NOT NULL COMMENT '頁面填的使用者的email，默認取值於ecs_users的email',
    `link_man` varchar(60) NOT NULL COMMENT '頁面填的使用者的姓名，默認取值於ecs_users的consignee ',
    `tel` varchar(60) NOT NULL COMMENT '頁面填的使用者的電話，預設取值於ecs_users的tel',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '缺貨登記的商品id，取值於ecs_goods的 goods_id',
    `goods_desc` varchar(255) NOT NULL COMMENT '缺貨登記時留的訂購描述',
    `goods_number` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '訂購數量',
    `booking_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '缺貨登記的時間',
    `is_dispose` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否已經被處理',
    `dispose_user` varchar(30) NOT NULL COMMENT '處理該缺貨登記的管理員用戶名，取值於session,該session取值於ecs_admin_user的user_name',
    `dispose_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '處理的時間',
    `dispose_note` varchar(255) NOT NULL COMMENT '處理時管理員留的備註',
    PRIMARY KEY (`rec_id`),
    KEY `user_id` (`user_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='缺貨登記的訂購和處理記錄表' AUTO_INCREMENT=4 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_brand'>ecs_brand</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_brand` (
    `brand_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `brand_name` varchar(60) NOT NULL COMMENT '品牌名稱',
    `brand_logo` varchar(80) NOT NULL COMMENT '上傳的該品牌公司logo圖片',
    `brand_desc` text NOT NULL COMMENT '品牌描述',
    `site_url` varchar(255) NOT NULL COMMENT '品牌的網址',
    `sort_order` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '品牌在前臺頁面的顯示順序，數位越大越靠後',
    `is_show` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '該品牌是否顯示，0，否；1，顯示',
    PRIMARY KEY (`brand_id`),
    KEY `is_show` (`is_show`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='商品品牌資訊記錄表' AUTO_INCREMENT=9 ; 
</code></pre>

<p>```</p>

<h3><a id='ecs_card'>ecs_card</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_card` (
    `card_id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `card_name` varchar(120) NOT NULL COMMENT '賀卡名稱',
    `card_img` varchar(255) NOT NULL COMMENT '賀卡圖紙的名稱',
    `card_fee` decimal(6,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '賀卡所需費用',
    `free_money` decimal(6,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '訂單達到該欄位的值後使用此賀卡免費',
    `card_desc` varchar(255) NOT NULL COMMENT '賀卡的描述',
    PRIMARY KEY (`card_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='賀卡的配置的資訊' AUTO_INCREMENT=2 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_cart'>ecs_cart</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_cart` (
    `rec_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '用戶登錄id，取自session，',
    `session_id` char(32) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT '登錄的sessionid，如果該用戶退出，該sessionid對應的購物車中的所有記錄都將被刪除',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '商品的id，取自表goods的goods_id',
    `goods_sn` varchar(60) NOT NULL COMMENT '商品的貨號，取自表goods的goods_sn',
    `goods_name` varchar(120) NOT NULL COMMENT '商品的名稱，取自表goods的goods_name',
    `market_price` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '商品的市場價，取自表goods的market_price',
    `goods_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '商品的本店價，取自表goods的shop_price',
    `goods_number` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '商品的購買數量，在購物車時，實際庫存不減少',
    `goods_attr` text NOT NULL COMMENT '商品的屬性，中括弧裡是該屬性特有的價格',
    `is_real` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '取自ecs_goods的is_real',
    `extension_code` varchar(30) NOT NULL COMMENT '商品的擴展屬性，取自ecs_goods的extension_code',
    `parent_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '該商品的父商品id，沒有該值為0，有的話那該商品就是該id的配件',
    `rec_type` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '購物車商品類型，0，普通；1，團夠；2，拍賣；3，奪寶奇兵',
    `is_gift` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '是否是贈品，0，否；其他，是參加優惠活動的id，取值於ecs_favourable_activity 的act_id',
    `can_handsel` tinyint(3) unsigned NOT NULL DEFAULT '0',
    `goods_attr_id` mediumint(8) NOT NULL COMMENT '該商品的屬性的id，取自goods_attr的goods_attr_id，如果有多個，只記錄了最後一個，可能是個bug',
    PRIMARY KEY (`rec_id`),
    KEY `session_id` (`session_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='購物車購物資訊記錄表' AUTO_INCREMENT=82 ;
</code></pre>

<p>```</p>

<ol>
<li>ecs_cart很多欄位的值都是從ecs_goods取得</li>
<li>session_id :
登錄的sessionid，如果該用戶退出，該sessionid對應的購物車中的所有記錄都將被刪除
→ 這個需要弄清楚操作流程</li>
</ol>


<p>ecs_cart.is_gift 由名字上來看，應該是boolen值，但實際上是這樣:
是否是贈品，0，否；其他，是參加優惠活動的id，取值於ecs_favourable_activity
的act_id</p>

<h3><a id='ecs_cat_recommend'>ecs_cat_recommend</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_cat_recommend` (
      `cat_id` smallint(5) NOT NULL,
      `recommend_type` tinyint(1) NOT NULL,
      PRIMARY KEY  (`cat_id`,`recommend_type`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8;
</code></pre>

<p>```</p>

<h3><a id='ecs_category'>ecs_category</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_category` (
    `cat_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `cat_name` varchar(90) NOT NULL COMMENT '分類名稱',
    `keywords` varchar(255) NOT NULL COMMENT '分類的關鍵字，可能是為了搜索',
    `cat_desc` varchar(255) NOT NULL COMMENT '分類描述',
    `parent_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '該分類的父id，取值於該表的cat_id欄位',
    `sort_order` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '該分類在頁面顯示的順序，數位越大順序越靠後；同數位，id在前的先顯示',
    `template_file` varchar(50) NOT NULL COMMENT '不確定欄位，按名字和表設計猜，應該是該分類的單獨範本檔的名字',
    `measure_unit` varchar(15) NOT NULL COMMENT '該分類的計量單位',
    `show_in_nav` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否顯示在巡覽列，0，不；1，顯示在巡覽列',
    `style` varchar(150) NOT NULL COMMENT '該分類的單獨的樣式表的包括檔案名部分的檔路徑',
    `is_show` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否在前臺頁面顯示，1，顯示；0，不顯示',
    `grade` tinyint(4) NOT NULL DEFAULT '0' COMMENT '該分類的最高和最低價之間的價格分級，當大於1時，會根據最大最小價格區間分成區間，會在頁面顯示價格範圍，如0-300,300-600,600-900這種',
    `filter_attr` smallint(6) NOT NULL DEFAULT '0' COMMENT '如果該欄位有值，則該分類將還會按照該值對應在表goods_attr的goods_attr_id所對應的屬性篩選，如，封面顏色下有紅，黑分類篩選 ',
    PRIMARY KEY (`cat_id`),
    KEY `parent_id` (`parent_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='商品分類表，記錄商品分類資訊' AUTO_INCREMENT=9 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_collect_goods'>ecs_collect_goods</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_collect_goods` (
    `rec_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '收藏記錄的自增id',
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '該條收藏記錄的會員id，取值於ecs_users的user_id',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '收藏的商品id，取值於ecs_goods的goods_id',
    `add_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '收藏時間',
    `is_attention` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否關注該收藏商品，1，是；0，否',
    PRIMARY KEY (`rec_id`),
    KEY `user_id` (`user_id`),
    KEY `goods_id` (`goods_id`),
    KEY `is_attention` (`is_attention`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=FIXED COMMENT='會員收藏商品的記錄清單，一條記錄一個收藏商品' AUTO_INCREMENT=3 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_comment'>ecs_comment</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_comment` (
    `comment_id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '用戶評論的自增id',
    `comment_type` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '用戶評論的類型；0，評論的是商品；1，評論的是文章',
    `id_value` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '文章或者商品的id，文章對應的是ecs_article 的article_id；商品對應的是ecs_goods的goods_id',
    `email` varchar(60) NOT NULL COMMENT '評論時提交的email地址，默認取的ecs_users的email',
    `user_name` varchar(60) NOT NULL COMMENT '評論該文章或商品的人的名稱，取值ecs_users的user_name',
    `content` text NOT NULL COMMENT '評論的內容',
    `comment_rank` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '該文章或者商品的星級；只有1到5星；由數位代替；其中5是代表5星',
    `add_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '評論的時間',
    `ip_address` varchar(15) NOT NULL COMMENT '評論時的用戶ip',
    `status` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '是否被管理員批准顯示，1，是；0，未批准顯示',
    `parent_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '評論的父節點；取值該表的comment_id欄位；如果該欄位為0，則是一個普通評論，否則該條評論就是該欄位的值所對應的評論的回復',
    `user_id` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '發表該評論的用戶的用戶id，取值於ecs_users的user_id',
    PRIMARY KEY (`comment_id`),
    KEY `parent_id` (`parent_id`),
    KEY `id_value` (`id_value`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='使用者對文章和產品的評論清單' AUTO_INCREMENT=5 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_crons'>ecs_crons</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_crons` (
    `cron_id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `cron_code` varchar(20) NOT NULL COMMENT '該外掛程式檔在相應路徑下的不包括''.php''部分的檔案名，運行該外掛程式將通過該欄位的值尋找將運行的檔',
    `cron_name` varchar(120) NOT NULL COMMENT '計畫任務的名稱',
    `cron_desc` text COMMENT '計畫人物的描述',
    `cron_order` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '應該是用了設置計畫任務執行的順序的，即當同時觸發2個任務時先執行哪一個，如果一樣應該是id在前的先執行暫不確定',
    `cron_config` text NOT NULL COMMENT '對每次處理的資料的數量的值，類型，名稱序列化；比如刪幾天的日誌，每次執行幾個商品或文章的處理',
    `thistime` int(10) NOT NULL DEFAULT '0' COMMENT '該計畫任務上次被執行的時間',
    `nextime` int(10) NOT NULL COMMENT '該計畫任務下次被執行的時間',
    `day` tinyint(2) NOT NULL COMMENT '如果該欄位有值，則計畫任務將在每月的這一天執行該計畫人物',
    `week` varchar(1) NOT NULL COMMENT '如果該欄位有值，則計畫任務將在每週的這一天執行該計畫人物',
    `hour` varchar(2) NOT NULL COMMENT '如果該欄位有值，則該計畫任務將在每天的這個小時段執行該計畫任務',
    `minute` varchar(255) NOT NULL COMMENT '如果該欄位有值，則該計畫任務將在每小時的這個分鐘段執行該計畫任務，該欄位的值可以多個，用空格間隔',
    `enable` tinyint(1) NOT NULL DEFAULT '1' COMMENT '該計畫任務是否開啟；0，關閉；1，開啟',
    `run_once` tinyint(1) NOT NULL DEFAULT '0' COMMENT '執行後是否關閉，這個關閉的意思還得再研究下',
    `allow_ip` varchar(100) NOT NULL COMMENT '允許運行該計畫人物的伺服器ip',
    `alow_files` varchar(255) NOT NULL COMMENT '運行觸發該計畫人物的檔列表可多個值，為空代表所有許可的檔都可以',
    PRIMARY KEY (`cron_id`),
    KEY `nextime` (`nextime`),
    KEY `enable` (`enable`),
    KEY `cron_code` (`cron_code`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='計畫任務外掛程式安裝配置資訊' AUTO_INCREMENT=4 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_email_list'>ecs_email_list</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_email_list` (
    `id` mediumint(8) NOT NULL AUTO_INCREMENT COMMENT '郵件訂閱的自增id',
    `email` varchar(60) NOT NULL COMMENT '郵件訂閱所填的郵箱地址',
    `stat` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否確認，可以用戶確認也可以管理員確認；0，未確認；1，已確認',
    `hash` varchar(10) NOT NULL COMMENT '郵箱確認的驗證碼，系統生成後發送到使用者郵箱，用戶驗證啟動時通過該值判斷是否合法；主要用來防止非法驗證郵箱',
    PRIMARY KEY (`id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='增加電子雜誌訂閱表' AUTO_INCREMENT=5 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_email_sendlist'>ecs_email_sendlist</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_email_sendlist` (
    `id` mediumint(8) NOT NULL AUTO_INCREMENT COMMENT '郵件發送佇列自增id',
    `email` varchar(100) NOT NULL COMMENT '該郵件將要發送到的郵箱地址',
    `template_id` mediumint(8) NOT NULL COMMENT '該郵件的範本id，取值於ecs_mail_templates的template_id',
    `email_content` text NOT NULL COMMENT '郵件發送的內容',
    `error` tinyint(1) NOT NULL DEFAULT '0' COMMENT '錯誤次數，不知幹什麼用的，猜應該是發送郵件的失敗記錄',
    `pri` tinyint(10) NOT NULL COMMENT '該郵件發送的優先順序；0，普通；1，高',
    `last_send` int(10) NOT NULL COMMENT '上一次發送的時間',
    PRIMARY KEY (`id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='增加發送隊列表' AUTO_INCREMENT=18 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_error_log'>ecs_error_log</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_error_log` (
    `id` int(10) NOT NULL AUTO_INCREMENT COMMENT '計畫任務錯誤自增id',
    `info` varchar(255) NOT NULL COMMENT '錯誤詳細資訊',
    `file` varchar(100) NOT NULL COMMENT '產生錯誤的執行檔的絕對路徑',
    `time` int(10) NOT NULL COMMENT '錯誤發生的時間',
    PRIMARY KEY (`id`),
    KEY `time` (`time`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='該表用來記錄頁面觸發計畫任務時失敗所產生的錯誤，從程式來看，目前主要是記錄某計畫任務所對應的外掛程式檔不存在的錯誤' AUTO_INCREMENT=1 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_exchange_goods'>ecs_exchange_goods</a></h3>

<p>```</p>

<pre><code>CREATE TABLE IF NOT EXISTS `ecs_exchange_goods` (
  `goods_id` mediumint(8) unsigned NOT NULL default '0',
  `exchange_integral` int(10) unsigned NOT NULL default '0',
  `is_exchange` tinyint(1) unsigned NOT NULL default '0',
  `is_hot` tinyint(1) unsigned NOT NULL default '0',
  PRIMARY KEY  (`goods_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
</code></pre>

<p>```</p>

<p>好像是2.6x才有的table，尚無資訊</p>

<h3><a id='ecs_favourable_activity'>ecs_favourable_activity</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_favourable_activity` (
    `act_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '優惠活動的自增id',
    `act_name` varchar(255) NOT NULL COMMENT '優惠活動的活動名稱',
    `start_time` int(10) unsigned NOT NULL COMMENT '活動的開始時間',
    `end_time` int(10) unsigned NOT NULL COMMENT '活動的結束時間',
    `user_rank` varchar(255) NOT NULL COMMENT '可以參加活動的使用者資訊，取值於ecs_user_rank的rank_id；其中0是非會員，其他是相應的會員等級；多個值用逗號分隔',
    `act_range` tinyint(3) unsigned NOT NULL COMMENT '優惠範圍；0，全部商品；1，按分類；2，按品牌；3，按商品',
    `act_range_ext` varchar(255) NOT NULL COMMENT '根據優惠活動範圍的不同，該處意義不同；但是都是優惠範圍的約束；如，如果是商品，該處是商品的id，如果是品牌，該處是品牌的id',
    `min_amount` decimal(10,2) unsigned NOT NULL COMMENT '訂單達到金額下限，才參加活動',
    `max_amount` decimal(10,2) unsigned NOT NULL COMMENT '參加活動的訂單金額下限，0，表示沒有上限',
    `act_type` tinyint(3) unsigned NOT NULL COMMENT '參加活動的優惠方式；0，送贈品或優惠購買；1，現金減免；價格打折優惠',
    `act_type_ext` decimal(10,2) unsigned NOT NULL COMMENT '如果是送贈品，該處是允許的最大數量，0，無數量限制；現今減免，則是減免金額，單位元；打折，是折扣值，100算，8折就是80',
    `gift` text NOT NULL COMMENT '如果有特惠商品，這裡是序列化後的特惠商品的id,name,price資訊;取值於ecs_goods的goods_id，goods_name，價格是添加活動時填寫的',
    `sort_order` tinyint(3) unsigned NOT NULL COMMENT '活動在優惠活動頁面顯示的先後順序，數位越大越靠後',
    PRIMARY KEY (`act_id`),
    KEY `act_name` (`act_name`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='優惠活動的配置資訊，優惠活動包括送禮，減免，打折' AUTO_INCREMENT=5 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_feedback'>ecs_feedback</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_feedback` (
    `msg_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '回饋資訊自增id',
    `parent_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '父節點，取自該表msg_id；回饋該值為0；回復回饋為節點id',
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '回饋的用戶的id',
    `user_name` varchar(60) NOT NULL COMMENT '回饋的用戶的用戶名',
    `user_email` varchar(60) NOT NULL COMMENT '回饋的用戶的郵箱',
    `msg_title` varchar(200) NOT NULL COMMENT '回饋的標題，回復為reply',
    `msg_type` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '回饋的類型，0，留言；1，投訴；2，詢問；3，售後；4，求購',
    `msg_content` text NOT NULL COMMENT '回饋的內容',
    `msg_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '回饋的時間',
    `message_img` varchar(255) NOT NULL DEFAULT '0' COMMENT '用戶上傳的檔的地址',
    `order_id` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '該回饋關聯的訂單id，由使用者提交，取值於 ecs_order_info的order_id；0，為無匹配；',
    PRIMARY KEY (`msg_id`),
    KEY `user_id` (`user_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='使用者回饋資訊表，包括留言，投訴，諮詢等' AUTO_INCREMENT=7 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_friend_link'>ecs_friend_link</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_friend_link` (
    `link_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '友情連結自增id',
    `link_name` varchar(255) NOT NULL COMMENT '友情連結的名稱，img的alt的內容;',
    `link_url` varchar(255) NOT NULL COMMENT '友情連結網站的連結位址',
    `link_logo` varchar(255) NOT NULL COMMENT '友情連結的logo',
    `show_order` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '在頁面的顯示順序',
    PRIMARY KEY (`link_id`),
    KEY `show_order` (`show_order`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='友情連結配置資訊表' AUTO_INCREMENT=3 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_goods'>ecs_goods</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_goods` (
    `goods_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '商品的自增id',
    `cat_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '商品所屬商品分類id，取值ecs_category的cat_id',
    `goods_sn` varchar(60) NOT NULL COMMENT '商品的唯一貨號',
    `goods_name` varchar(120) NOT NULL COMMENT '商品的名稱',
    `goods_name_style` varchar(60) NOT NULL DEFAULT '+' COMMENT '商品名稱顯示的樣式；包括顏色和字體樣式；格式如#ff00ff+strong',
    `click_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商品點擊數',
    `brand_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '品牌id，取值於ecs_brand 的brand_id',
    `provider_name` varchar(100) NOT NULL COMMENT '供貨人的名稱，程式還沒實現該功能',
    `goods_number` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '商品庫存數量',
    `goods_weight` decimal(10,3) unsigned NOT NULL DEFAULT '0.000' COMMENT '商品的重量，以千克為單位',
    `market_price` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '市場售價',
    `shop_price` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '本店售價',
    `promote_price` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '促銷價格',
    `promote_start_date` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '促銷價格開始日期',
    `promote_end_date` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '促銷價結束日期',
    `warn_number` tinyint(3) unsigned NOT NULL DEFAULT '1' COMMENT '商品報警數量',
    `keywords` varchar(255) NOT NULL COMMENT '商品關鍵字，放在商品頁的關鍵字中，為搜尋引擎收錄用',
    `goods_brief` varchar(255) NOT NULL COMMENT '商品的簡短描述',
    `goods_desc` text NOT NULL COMMENT '商品的詳細描述',
    `goods_thumb` varchar(255) NOT NULL COMMENT '商品在前臺顯示的微縮圖片，如在分類篩選時顯示的小圖片',
    `goods_img` varchar(255) NOT NULL COMMENT '商品的實際大小圖片，如進入該商品頁時介紹商品屬性所顯示的大圖片',
    `original_img` varchar(255) NOT NULL COMMENT '應該是上傳的商品的原始圖片',
    `is_real` tinyint(3) unsigned NOT NULL DEFAULT '1' COMMENT '是否是實物，1，是；0，否；比如虛擬卡就為0，不是實物',
    `extension_code` varchar(30) NOT NULL COMMENT '商品的擴展屬性，比如像虛擬卡',
    `is_on_sale` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '該商品是否開放銷售，1，是；0，否',
    `is_alone_sale` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否能單獨銷售，1，是；0，否；如果不能單獨銷售，則只能作為某商品的配件或者贈品銷售',
    `integral` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '購買該商品可以使用的積分數量，估計應該是用積分代替金額消費；但程式好像還沒有實現該功能',
    `add_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '商品的添加時間',
    `sort_order` smallint(4) unsigned NOT NULL DEFAULT '0' COMMENT '應該是商品的顯示順序，不過該版程式中沒實現該功能',
    `is_delete` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '商品是否已經刪除，0，否；1，已刪除',
    `is_best` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否是精品；0，否；1，是',
    `is_new` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否是新品；0，否；1，是',
    `is_hot` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否熱銷，0，否；1，是',
    `is_promote` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否特價促銷；0，否；1，是',
    `bonus_type_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '購買該商品所能領到的紅包類型',
    `last_update` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '最近一次更新商品配置的時間',
    `goods_type` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '商品所屬類型id，取值表goods_type的cat_id',
    `seller_note` varchar(255) NOT NULL COMMENT '商品的商家備註，僅商家可見',
    `give_integral` int(11) NOT NULL DEFAULT '-1' COMMENT '購買該商品時每筆成功交易贈送的積分數量。',
    PRIMARY KEY (`goods_id`),
    KEY `goods_sn` (`goods_sn`),
    KEY `cat_id` (`cat_id`),
    KEY `last_update` (`last_update`),
    KEY `brand_id` (`brand_id`),
    KEY `goods_weight` (`goods_weight`),
    KEY `promote_end_date` (`promote_end_date`),
    KEY `promote_start_date` (`promote_start_date`),
    KEY `goods_number` (`goods_number`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='商品表' AUTO_INCREMENT=35 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_goods_activity'>ecs_goods_activity</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_goods_activity` (
    `act_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `act_name` varchar(255) NOT NULL COMMENT '促銷活動的名稱',
    `act_desc` text NOT NULL COMMENT '促銷活動的描述',
    `act_type` tinyint(3) unsigned NOT NULL,
    `goods_id` mediumint(8) unsigned NOT NULL COMMENT '參加活動的id，取值於ecs_goods的goods_id',
    `goods_name` varchar(255) NOT NULL COMMENT '商品的名稱，取值於ecs_goods的goods_name',
    `start_time` int(10) unsigned NOT NULL COMMENT '活動開始時間',
    `end_time` int(10) unsigned NOT NULL COMMENT '活動結束時間',
    `is_finished` tinyint(3) unsigned NOT NULL COMMENT '活動是否結束，0，結束；1，未結束',
    `ext_info` text NOT NULL COMMENT '序列化後的促銷活動的配置資訊，包括最低價，最高價，出價幅度，保證金等',
    PRIMARY KEY (`act_id`),
    KEY `act_name` (`act_name`,`act_type`,`goods_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='拍賣活動和奪寶奇兵活動配置資訊表' AUTO_INCREMENT=5 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_goods_article'>ecs_goods_article</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_goods_article` (
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '商品id，取自ecs_goods的goods_id',
    `article_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '文章id，取自 ecs_article 的article_id',
    `admin_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '猜想是管理員的id，但是程式中似乎沒有提及到',
    PRIMARY KEY (`goods_id`,`article_id`,`admin_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=FIXED COMMENT='文章關聯產品表，即文章中提到的相關產品';
</code></pre>

<p>```</p>

<h3><a id='ecs_goods_attr'>ecs_goods_attr</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_goods_attr` (
    `goods_attr_id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '該具體屬性屬於的商品，取值於ecs_goods的goods_id',
    `attr_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '該具體屬性屬於的屬性類型的id，取自ecs_attribute 的attr_id',
    `attr_value` text NOT NULL COMMENT '該具體屬性的值',
    `attr_price` varchar(255) NOT NULL COMMENT '該屬性對應在商品原價格上要加的價格',
    PRIMARY KEY (`goods_attr_id`),
    KEY `goods_id` (`goods_id`),
    KEY `attr_id` (`attr_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='具體商品的屬性工作表' AUTO_INCREMENT=62 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_goods_cat'>ecs_goods_cat</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_goods_cat` (
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '商品id, 取值自ecs_goods.goods_id',
    `cat_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '商品分類id, 取值自ecs_category.cat_id',
    PRIMARY KEY (`goods_id`,`cat_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=FIXED COMMENT='商品的擴展分類';
</code></pre>

<p>```</p>

<h3><a id='ecs_goods_gallery'>ecs_goods_gallery</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_goods_gallery` (
    `img_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '商品相冊自增id',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '圖片屬於商品的id',
    `img_url` varchar(255) NOT NULL COMMENT '實際圖片url',
    `img_desc` varchar(255) NOT NULL COMMENT '圖片說明資訊',
    `thumb_url` varchar(255) NOT NULL COMMENT '微縮圖片url',
    `img_original` varchar(255) NOT NULL COMMENT '根據名字猜，應該是上傳的圖片檔的最原始的檔的url',
    PRIMARY KEY (`img_id`),
    KEY `goods_id` (`goods_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='商品相冊表，只出現在頁面的商品相冊中' AUTO_INCREMENT=23 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_goods_type'>ecs_goods_type</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_goods_type` (
    `cat_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `cat_name` varchar(60) NOT NULL COMMENT '商品類型名',
    `enabled` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '類型狀態，1，為可用；0為不可用；不可用的類型，在添加商品的時候選擇商品屬性將不可選',
    `attr_group` varchar(255) NOT NULL COMMENT '商品屬性分組，將一個商品類型的屬性分成組，在顯示的時候也是按組顯示。該欄位的值顯示在屬性的前一行，像標題的作用',
    PRIMARY KEY (`cat_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='商品類型表，該表每條記錄就是一個商品類型' AUTO_INCREMENT=10 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_group_goods'>ecs_group_goods</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_group_goods` (
    `parent_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '父商品id, 從ecs_goods表取goods_id值',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '配件商品id, 從ecs_goods表取goods_id值',
    `goods_price` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '配件商品的價格',
    `admin_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '添加該配件的管理員的id',
    PRIMARY KEY (`parent_id`,`goods_id`,`admin_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=FIXED COMMENT='該表應該是商品配件配置表';
</code></pre>

<p>```</p>

<h3><a id='ecs_keywords'>ecs_keywords</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_keywords` (
    `date` date NOT NULL DEFAULT '0000-00-00' COMMENT '搜索日期',
    `searchengine` varchar(20) NOT NULL COMMENT '搜尋引擎，默認是ecshop',
    `keyword` varchar(90) NOT NULL COMMENT '搜索關鍵字，即使用者填寫的搜索內容',
    `count` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '搜索次數，按天累加',
    PRIMARY KEY (`date`,`searchengine`,`keyword`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='頁面搜索關鍵字搜索記錄';
</code></pre>

<p>```</p>

<h3><a id='ecs_link_goods'>ecs_link_goods</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_link_goods` (
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '商品id,從ecs_goods取good_id值',
    `link_goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '被關聯的商品的id,從ecs_goods取good_id值',
    `is_double` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否是雙向關聯；0，否；1，是',
    `admin_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '添加此關聯商品資訊的管理員id,從ecs_admin_user取user_id',
    PRIMARY KEY (`goods_id`,`link_goods_id`,`admin_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=FIXED COMMENT='關聯商品資訊表，關聯商品是什麼意思還沒研究明白';
</code></pre>

<p>```</p>

<h3><a id='ecs_mail_templates'>ecs_mail_templates</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_mail_templates` (
    `template_id` tinyint(1) unsigned NOT NULL AUTO_INCREMENT COMMENT '郵件範本自增id',
    `template_code` varchar(30) NOT NULL COMMENT '範本字串名稱，主要用於外掛程式言語包時匹配語言包檔等用途',
    `is_html` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '郵件是否是html格式；0，否；1，是',
    `template_subject` varchar(200) NOT NULL COMMENT '該郵件範本的郵件主題',
    `template_content` text NOT NULL COMMENT '郵件範本的內容',
    `last_modify` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '最後一次修改範本的時間',
    `last_send` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '最近一次發送的時間，好像僅在雜誌才記錄',
    `type` varchar(10) NOT NULL COMMENT '該郵件範本的郵件類型；共2個類型；magazine，雜誌訂閱；template，關注訂閱',
    PRIMARY KEY (`template_id`),
    UNIQUE KEY `template_code` (`template_code`),
    KEY `type` (`type`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='各種郵件的範本配置範本包括雜誌範本' AUTO_INCREMENT=13 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_member_price'>ecs_member_price</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_member_price` (
    `price_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '折扣價自增id',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '商品的id,從ecs_goods_info取goods_id值',
    `user_rank` tinyint(3) NOT NULL DEFAULT '0' COMMENT '會員登記id，取值ecs_user_rank',
    `user_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '指定商品對指定會員等級的固定定價價格，單位元',
    PRIMARY KEY (`price_id`),
    KEY `goods_id` (`goods_id`,`user_rank`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=FIXED COMMENT='商品不按照會員的折扣定價，而是再單獨為不同的會員等級定的價；' AUTO_INCREMENT=3 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_nav'>ecs_nav</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_nav` (
    `id` mediumint(8) NOT NULL AUTO_INCREMENT COMMENT '導航配置自增id',
    `ctype` varchar(10) DEFAULT NULL,
    `cid` smallint(5) unsigned DEFAULT NULL,
    `name` varchar(255) NOT NULL COMMENT '導航顯示標題',
    `ifshow` tinyint(1) NOT NULL COMMENT '是否顯示',
    `vieworder` tinyint(1) NOT NULL COMMENT '頁面顯示順序，數位越大越靠後',
    `opennew` tinyint(1) NOT NULL COMMENT '導航連結頁面是否在新視窗打開，1，是；其他，否',
    `url` varchar(255) NOT NULL COMMENT '連結的頁面位址',
    `type` varchar(10) NOT NULL COMMENT '處於巡覽列的位置，top為頂部；middle為中間；bottom,為底部',
    PRIMARY KEY (`id`),
    KEY `type` (`type`),
    KEY `ifshow` (`ifshow`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='上中下3個巡覽列的顯示配置' AUTO_INCREMENT=17 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_order_action'>ecs_order_action</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_order_action` (
    `action_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '流水號',
    `order_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '被操作的交易號,取值自ecs_order_info.order_id',
    `action_user` varchar(30) NOT NULL COMMENT '好像並非取值ecs_users，但不清楚是從那取值的',
    `order_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '作何操作.0，未確認；1，已確認；2，已取消；3，無效；4，退貨；',
    `shipping_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '發貨狀態。0，未發貨；1，已發貨；2，已收貨；3，備貨中',
    `pay_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '支付狀態.0,未付款;1,付款中;2,已付款;',
    `action_note` varchar(255) NOT NULL COMMENT '操作備註',
    `log_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '操作時間',
    PRIMARY KEY (`action_id`),
    KEY `order_id` (`order_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='對訂單操作日誌表' AUTO_INCREMENT=18 ;
</code></pre>

<p>```</p>

<p>ecs_order_action.action_user好像並非ecs_users</p>

<h3><a id='ecs_order_goods'>ecs_order_goods</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_order_goods` (
    `rec_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '訂單商品資訊自增id',
    `order_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '訂單商品資訊對應的詳細資訊id，取值order_info的order_id',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '商品的的id，取值表ecs_goods 的goods_id',
    `goods_name` varchar(120) NOT NULL COMMENT '商品的名稱，取值表ecs_goods ',
    `goods_sn` varchar(60) NOT NULL COMMENT '商品的唯一貨號，取值ecs_goods ',
    `goods_number` smallint(5) unsigned NOT NULL DEFAULT '1' COMMENT '商品的購買數量',
    `market_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '商品的市場售價，取值ecs_goods ',
    `goods_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '商品的本店售價，取值ecs_goods ',
    `goods_attr` text NOT NULL COMMENT '購買該商品時所選擇的屬性；',
    `send_number` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '當不是實物時，是否已發貨，0，否；1，是',
    `is_real` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否是實物，0，否；1，是；取值ecs_goods ',
    `extension_code` varchar(30) NOT NULL COMMENT '商品的擴展屬性，比如像虛擬卡。取值ecs_goods ',
    `parent_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '父商品id，取值於ecs_cart的parent_id；如果有該值則是值多代表的物品的配件',
    `is_gift` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '是否是贈品，0，否；其他，是參加優惠活動的id，取值於ecs_favourable_activity 的act_id(跟xecs_cart 的is_gift跟其一樣)',
    PRIMARY KEY (`rec_id`),
    KEY `order_id` (`order_id`),
    KEY `goods_id` (`goods_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='訂單的商品資訊，注：訂單的商品資訊基本都是從購物車所對應的表中取來的。' AUTO_INCREMENT=27 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_order_info'>ecs_order_info</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_order_info` (
    `order_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '訂單詳細資訊自增id',
    `order_sn` varchar(20) NOT NULL COMMENT '訂單號，唯一',
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '用戶id，同ecs_users的user_id',
    `order_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '訂單狀態。0，未確認；1，已確認；2，已取消；3，無效；4，退貨；',
    `shipping_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '商品配送情況，0，未發貨；1，已發貨；2，已收貨；3，備貨中',
    `pay_status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '支付狀態；0，未付款；1，付款中；2，已付款',
    `consignee` varchar(60) NOT NULL COMMENT '收貨人的姓名，使用者頁面填寫，預設取值於表user_address',
    `country` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收貨人的國家，使用者頁面填寫，預設取值於表user_address，其id對應的值在ecs_region',
    `province` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收貨人的省份，使用者頁面填寫，預設取值於表user_address，其id對應的值在ecs_region',
    `city` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收貨人的城市，使用者頁面填寫，預設取值於表user_address，其id對應的值在ecs_region',
    `district` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '收貨人的地區，使用者頁面填寫，預設取值於表user_address，其id對應的值在ecs_region',
    `address` varchar(255) NOT NULL COMMENT '收貨人的詳細位址，使用者頁面填寫，預設取值於表user_address',
    `zipcode` varchar(60) NOT NULL COMMENT '收貨人的郵編，使用者頁面填寫，預設取值於表user_address',
    `tel` varchar(60) NOT NULL COMMENT '收貨人的電話，使用者頁面填寫，預設取值於表user_address',
    `mobile` varchar(60) NOT NULL COMMENT '收貨人的手機，使用者頁面填寫，預設取值於表user_address',
    `email` varchar(60) NOT NULL COMMENT '收貨人的手機，使用者頁面填寫，預設取值於表user_address',
    `best_time` varchar(120) NOT NULL COMMENT '收貨人的最佳送貨時間，使用者頁面填寫，預設取值於表user_address',
    `sign_building` varchar(120) NOT NULL COMMENT '收貨人的位址的標誌性建築，使用者頁面填寫，預設取值於表user_address',
    `postscript` varchar(255) NOT NULL COMMENT '訂單附言，由使用者提交訂單前填寫',
    `shipping_id` tinyint(3) NOT NULL DEFAULT '0' COMMENT '使用者選擇的配送方式id，取值表ecs_shipping',
    `shipping_name` varchar(120) NOT NULL COMMENT '使用者選擇的配送方式的名稱，取值表ecs_shipping',
    `pay_id` tinyint(3) NOT NULL DEFAULT '0' COMMENT '使用者選擇的支付方式的id，取值表ecs_payment',
    `pay_name` varchar(120) NOT NULL COMMENT '使用者選擇的支付方式的名稱，取值表ecs_payment',
    `how_oos` varchar(120) NOT NULL COMMENT '缺貨處理方式，等待所有商品備齊後再發； 取消訂單；與店主協商',
    `how_surplus` varchar(120) NOT NULL COMMENT '根據欄位猜測應該是餘額處理方式，程式未作這部分實現',
    `pack_name` varchar(120) NOT NULL COMMENT '包裝名稱，取值表ecs_pack',
    `card_name` varchar(120) NOT NULL COMMENT '賀卡的名稱，取值ecs_card ',
    `card_message` varchar(255) NOT NULL COMMENT '賀卡內容，由使用者提交',
    `inv_payee` varchar(120) NOT NULL COMMENT '發票抬頭，使用者頁面填寫',
    `inv_content` varchar(120) NOT NULL COMMENT '發票內容，使用者頁面選擇，取值ecs_shop_config的code欄位的值為invoice_content的value',
    `goods_amount` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '商品總金額',
    `shipping_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '配送費用',
    `insure_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '保價費用',
    `pay_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '支付費用,跟支付方式的配置相關，取值表ecs_payment',
    `pack_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '包裝費用，取值表取值表ecs_pack',
    `card_fee` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '賀卡費用，取值ecs_card ',
    `money_paid` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '已付款金額',
    `surplus` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '該訂單使用餘額的數量，取用戶設定餘額，使用者可用餘額，訂單金額中最小者',
    `integral` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '使用的積分的數量，取用戶使用積分，商品可用積分，用戶擁有積分中最小者',
    `integral_money` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '使用積分金額',
    `bonus` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '使用紅包金額',
    `order_amount` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '應付款金額',
    `from_ad` smallint(5) NOT NULL DEFAULT '0' COMMENT '訂單由某廣告帶來的廣告id，應該取值於ecs_ad',
    `referer` varchar(255) NOT NULL COMMENT '訂單的來源頁面',
    `add_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '訂單生成時間',
    `confirm_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '訂單確認時間',
    `pay_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '訂單支付時間',
    `shipping_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '訂單配送時間',
    `pack_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '包裝id，取值取值表ecs_pack',
    `card_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '賀卡id，使用者在頁面選擇，取值取值ecs_card ',
    `bonus_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '紅包的id，ecs_user_bonus的bonus_id',
    `invoice_no` varchar(50) NOT NULL COMMENT '發貨單號，發貨時填寫，可在訂單查詢查看',
    `extension_code` varchar(30) NOT NULL COMMENT '通過活動購買的商品的代號；GROUP_BUY是團購；AUCTION，是拍賣；SNATCH，奪寶奇兵；正常普通產品該處為空',
    `extension_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '通過活動購買的物品的id，取值ecs_goods_activity；如果是正常普通商品，該處為0',
    `to_buyer` varchar(255) NOT NULL COMMENT '商家給客戶的留言,當該欄位有值時可以在訂單查詢看到',
    `pay_note` varchar(255) NOT NULL COMMENT '付款備註，在訂單管理裡編輯修改',
    `agency_id` smallint(5) unsigned NOT NULL COMMENT '該筆訂單被指派給的辦事處的id，根據訂單內容和辦事處負責範圍自動決定，也可以有管理員修改，取值於表ecs_agency',
    `inv_type` varchar(60) NOT NULL COMMENT '發票類型，使用者頁面選擇，取值ecs_shop_config的code欄位的值為invoice_type的value',
    `tax` decimal(10,2) NOT NULL COMMENT '發票稅額',
    `is_separate` tinyint(1) NOT NULL DEFAULT '0' COMMENT '0，未分成或等待分成；1，已分成；2，取消分成；',
    `parent_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '能獲得推薦分成的用戶id，id取值於表ecs_users',
    `discount` decimal(10,2) NOT NULL COMMENT '折扣金額',
    PRIMARY KEY (`order_id`),
    UNIQUE KEY `order_sn` (`order_sn`),
    KEY `user_id` (`user_id`),
    KEY `order_status` (`order_status`),
    KEY `shipping_status` (`shipping_status`),
    KEY `pay_status` (`pay_status`),
    KEY `shipping_id` (`shipping_id`),
    KEY `pay_id` (`pay_id`),
    KEY `extension_code` (`extension_code`,`extension_id`),
    KEY `agency_id` (`agency_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='訂單的配送，賀卡等詳細資訊' AUTO_INCREMENT=24 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_pack'>ecs_pack</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_pack` (
    `pack_id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT COMMENT '包裝配置的自增id',
    `pack_name` varchar(120) NOT NULL COMMENT '包裝的名稱',
    `pack_img` varchar(255) NOT NULL COMMENT '包裝圖紙',
    `pack_fee` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '包裝的費用',
    `free_money` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '訂單達到此金額可以免除該包裝費用',
    `pack_desc` varchar(255) NOT NULL COMMENT '包裝描述',
    PRIMARY KEY (`pack_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='商品包裝資訊配置表' AUTO_INCREMENT=2 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_package_goods'>ecs_package_goods</a></h3>

<p>```</p>

<pre><code>CREATE TABLE IF NOT EXISTS `ecs_package_goods` (
  `package_id` mediumint(8) unsigned NOT NULL default '0',
  `goods_id` mediumint(8) unsigned NOT NULL default '0' COMMENT '取值自ecs_goods.goods_id',
  `goods_number` smallint(5) unsigned NOT NULL default '1',
  `admin_id` tinyint(3) unsigned NOT NULL default '0' COMMENT '取值自ecs_admin_user.user_id',
  PRIMARY KEY  (`package_id`,`goods_id`,`admin_id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
</code></pre>

<p>```</p>

<p>好像是2.6.x版後才有的table</p>

<h3><a id='ecs_payment'>ecs_payment</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_payment` (
    `pay_id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT COMMENT '已安裝的支付方式自增id',
    `pay_code` varchar(20) NOT NULL COMMENT '支付方式的英文縮寫，其實就是該支付方式處理外掛程式的不帶尾碼的檔案名部分',
    `pay_name` varchar(120) NOT NULL COMMENT '支付方式名稱',
    `pay_fee` varchar(10) NOT NULL DEFAULT '0' COMMENT '支付費用',
    `pay_desc` text NOT NULL COMMENT '支付方式描述',
    `pay_order` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '支付方式在頁面的顯示順序',
    `pay_config` text NOT NULL COMMENT '支付方式的配置資訊，包括商戶號和金鑰什麼的',
    `enabled` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否可用，0，否；1，是',
    `is_cod` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否貨到付款，0，否；1，是',
    `is_online` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否線上支付，0，否；1，是',
    PRIMARY KEY (`pay_id`),
    UNIQUE KEY `pay_code` (`pay_code`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='安裝的支付方式配置資訊' AUTO_INCREMENT=7 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_pay_log'>ecs_pay_log</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_pay_log` (
    `log_id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '支付記錄自增id',
    `order_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '對應的交易記錄的id，取值表ecs_order_info ',
    `order_amount` decimal(10,2) unsigned NOT NULL COMMENT '支付金額',
    `order_type` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '支付類型；0，訂單支付；1，會員預付款支付',
    `is_paid` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否已支付，0，否；1，是',
    PRIMARY KEY (`log_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=FIXED COMMENT='系統支付記錄' AUTO_INCREMENT=28 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_plugins'>ecs_plugins</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_plugins` (
    `code` varchar(30) NOT NULL DEFAULT '',
    `version` varchar(10) NOT NULL DEFAULT '',
    `library` varchar(255) NOT NULL DEFAULT '',
    `assign` tinyint(1) unsigned NOT NULL DEFAULT '0',
    `install_date` int(10) unsigned NOT NULL DEFAULT '0',
    PRIMARY KEY (`code`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8;
</code></pre>

<p>```</p>

<p>尚無資訊，應該是管理plugins用的</p>

<h3><a id='ecs_region'>ecs_region</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_region` (
    `region_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '表示該地區的id',
    `parent_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '該地區的上一個節點的地區id',
    `region_name` varchar(120) NOT NULL COMMENT '地區的名字',
    `region_type` tinyint(1) NOT NULL DEFAULT '2' COMMENT '該地區的下一個節點的地區id',
    `agency_id` smallint(5) unsigned NOT NULL COMMENT '辦事處的id,這裡有一個bug,同一個省不能有多個辦事處,該欄位只記錄最新的那個辦事處的id',
    PRIMARY KEY (`region_id`),
    KEY `parent_id` (`parent_id`),
    KEY `region_type` (`region_type`),
    KEY `agency_id` (`agency_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='地區清單' AUTO_INCREMENT=419 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_searchengine'>ecs_searchengine</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_searchengine` (
    `date` date NOT NULL DEFAULT '0000-00-00' COMMENT '搜尋引擎訪問日期',
    `searchengine` varchar(20) NOT NULL COMMENT '搜尋引擎名稱',
    `count` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '訪問次數',
    PRIMARY KEY (`date`,`searchengine`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='搜尋引擎訪問記錄';
</code></pre>

<p>```</p>

<h3><a id='ecs_sessions'>ecs_sessions</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_sessions` (
    `sesskey` char(32) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT 'sessionid,',
    `expiry` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'session創建時間',
    `userid` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '如果不是管理員，記錄使用者id',
    `adminid` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '如果是管理員記錄管理員id',
    `ip` char(15) NOT NULL COMMENT '用戶端ip',
    `data` char(255) NOT NULL COMMENT '序列化後的session資料，如果session資料大於255則將資料存到表ecs_sessions_data，此處為空',
    PRIMARY KEY (`sesskey`),
    KEY `expiry` (`expiry`)
    ) ENGINE=MEMORY DEFAULT CHARSET=utf8 COMMENT='session記錄表';
</code></pre>

<p>```</p>

<p>the ecs_sessions tables is MEMORY table, it is used to store user
current login information.</p>

<h3><a id='ecs_sessions_data'>ecs_sessions_data</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_sessions_data` (
    `sesskey` varchar(32) CHARACTER SET utf8 COLLATE utf8_bin NOT NULL COMMENT 'sessionid',
    `expiry` int(10) unsigned NOT NULL DEFAULT '0' COMMENT 'session創建時間',
    `data` longtext NOT NULL COMMENT 'session序列化後的數據',
    PRIMARY KEY (`sesskey`),
    KEY `expiry` (`expiry`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='session資料表（超過255位元組的session內容會保存在該表）';
</code></pre>

<p>```</p>

<h3><a id='ecs_shipping'>ecs_shipping</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_shipping` (
    `shipping_id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `shipping_code` varchar(20) NOT NULL COMMENT '配送方式的字串代號',
    `shipping_name` varchar(120) NOT NULL COMMENT '配送方式的名稱',
    `shipping_desc` varchar(255) NOT NULL COMMENT '配送方式的描述',
    `insure` varchar(10) NOT NULL DEFAULT '0' COMMENT '保價費用，單位元，或者是百分數，該值直接輸出為報價費用',
    `support_cod` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否支持貨到付款，1，支持；0，不支持',
    `enabled` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '該配送方式是否被禁用，1，可用；0，禁用',
    PRIMARY KEY (`shipping_id`),
    KEY `shipping_code` (`shipping_code`,`enabled`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='配送方式配置資訊表' AUTO_INCREMENT=9 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_shipping_area'>ecs_shipping_area</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_shipping_area` (
    `shipping_area_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `shipping_area_name` varchar(150) NOT NULL COMMENT '配送方式中的配送區域的名字',
    `shipping_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '該配送區域所屬的配送方式，同ecs_shipping的shipping_id',
    `configure` text NOT NULL COMMENT '序列化的該配送區域的費用配置資訊',
    PRIMARY KEY (`shipping_area_id`),
    KEY `shipping_id` (`shipping_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='配送方式所屬的配送區域和配送費用資訊' AUTO_INCREMENT=9 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_shop_config'>ecs_shop_config</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_shop_config` (
    `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '全站配置資訊自增id',
    `parent_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '父節點id，取值於該表id欄位的值',
    `code` varchar(30) NOT NULL COMMENT '跟變數名的作用差不多，其實就是語言包中的字串索引，如$_LANG[''cfg_range''][''cart_confirm'']',
    `type` varchar(10) NOT NULL COMMENT '該配置的類型，text，文本輸入框；password，密碼輸入框；textarea，文本區域；select，單選；options，迴圈生成多選；file,文件上傳；manual，手動生成多選；group，是標題分組；hidden，不在頁面顯示',
    `store_range` varchar(255) NOT NULL COMMENT '當語言包中的code欄位對應的是一個陣列時，那該處就是該陣列的索引，如$_LANG[''cfg_range''] [''cart_confirm''][1]；只有type欄位為select,options時才有值',
    `store_dir` varchar(255) NOT NULL COMMENT '當type為file時才有值，檔上傳後的保存目錄',
    `value` text NOT NULL COMMENT '該項配置的值',
    `sort_order` tinyint(3) unsigned NOT NULL DEFAULT '1' COMMENT '顯示順序，數位越大越靠後',
    PRIMARY KEY (`id`),
    UNIQUE KEY `code` (`code`),
    KEY `parent_id` (`parent_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='全站配置資訊表' AUTO_INCREMENT=903 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_snatch_log'>ecs_snatch_log</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_snatch_log` (
    `log_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `snatch_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '奪寶奇兵活動號，取值於ecs_goods_activity的act_id欄位',
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '出價的用戶id，取值於ecs_users的user_id',
    `bid_price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '出價的價格',
    `bid_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '出價的時間',
    PRIMARY KEY (`log_id`),
    KEY `snatch_id` (`snatch_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=FIXED COMMENT='奪寶奇兵出價記錄表' AUTO_INCREMENT=5 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_stats'>ecs_stats</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_stats` (
    `access_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '存取時間',
    `ip_address` varchar(15) NOT NULL COMMENT '訪問者ip',
    `visit_times` smallint(5) unsigned NOT NULL DEFAULT '1' COMMENT '訪問次數，如果之前有過訪問次數，在以前的基礎上＋1',
    `browser` varchar(60) NOT NULL COMMENT '流覽器及版本',
    `system` varchar(20) NOT NULL COMMENT '作業系統',
    `language` varchar(20) NOT NULL COMMENT '語言',
    `area` varchar(30) NOT NULL COMMENT 'ip所在地區',
    `referer_domain` varchar(100) NOT NULL COMMENT '頁面訪問來源功能變數名稱',
    `referer_path` varchar(200) NOT NULL COMMENT '頁面訪問來源除功能變數名稱外的路徑部分',
    `access_url` varchar(255) NOT NULL COMMENT '訪問分頁檔名',
    KEY `access_time` (`access_time`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='訪問資訊記錄表';
</code></pre>

<p>```</p>

<h3><a id='ecs_tag'>ecs_tag</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_tag` (
    `tag_id` mediumint(8) NOT NULL AUTO_INCREMENT COMMENT '商品標籤自增id',
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '用戶的id',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '商品的id',
    `tag_words` varchar(255) NOT NULL COMMENT '標籤內容',
    PRIMARY KEY (`tag_id`),
    KEY `user_id` (`user_id`),
    KEY `goods_id` (`goods_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='商品的標記' AUTO_INCREMENT=3 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_template'>ecs_template</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_template` (
    `filename` varchar(30) NOT NULL COMMENT '該條範本配置屬於哪個範本頁面',
    `region` varchar(40) NOT NULL COMMENT '該條範本配置在它所屬的範本檔中的位置',
    `library` varchar(40) NOT NULL COMMENT '該條範本配置在它所屬的範本檔中的位置處應該引入的lib的相對目錄位址',
    `sort_order` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '範本檔中這個位置的引入lib項的值的顯示順序',
    `id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '欄位意義待查',
    `number` tinyint(1) unsigned NOT NULL DEFAULT '5' COMMENT '每次顯示多少個值',
    `type` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '屬於哪個動態項，0，固定項；1，分類下的商品；2，品牌下的商品；3，文章列表；4，廣告位 ',
    `theme` varchar(60) NOT NULL COMMENT '該範本配置項屬於哪套範本的範本名',
    `remarks` varchar(30) NOT NULL COMMENT '備註，可能是預留欄位，沒有值所以沒確定用途',
    KEY `filename` (`filename`,`region`),
    KEY `theme` (`theme`),
    KEY `remarks` (`remarks`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='範本設置資料表';
</code></pre>

<p>```</p>

<h3><a id='ecs_topic'>ecs_topic</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_topic` (
    `topic_id` int(10) unsigned NOT NULL AUTO_INCREMENT COMMENT '專題自增id',
    `title` varchar(255) NOT NULL DEFAULT '''''' COMMENT '專題名稱',
    `intro` text NOT NULL COMMENT '專題介紹',
    `start_time` int(11) NOT NULL DEFAULT '0' COMMENT '專題開始時間',
    `end_time` int(10) NOT NULL DEFAULT '0' COMMENT '結束時間',
    `data` text NOT NULL COMMENT '專題資料內容，包括分類，商品等',
    `template` varchar(255) NOT NULL DEFAULT '''''' COMMENT '專題範本檔',
    `css` text NOT NULL COMMENT '專題樣式代碼',
    KEY `topic_id` (`topic_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='專題活動配置表' AUTO_INCREMENT=2 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_users'>ecs_users</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_users` (
    `user_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '會員資料自增id',
    `email` varchar(60) NOT NULL COMMENT '會員郵箱',
    `user_name` varchar(60) NOT NULL COMMENT '用戶名',
    `password` varchar(32) NOT NULL COMMENT '使用者密碼',
    `question` varchar(255) NOT NULL COMMENT '安全問題答案',
    `answer` varchar(255) NOT NULL COMMENT '安全問題',
    `sex` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '性別，0，保密；1，男；2，女',
    `birthday` date NOT NULL DEFAULT '0000-00-00' COMMENT '生日日期',
    `user_money` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '用戶現有資金',
    `frozen_money` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '用戶凍結資金',
    `pay_points` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '消費積分',
    `rank_points` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '會員等級積分',
    `address_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '預設的收貨信息地址id，取值表ecs_user_address ',
    `reg_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '註冊時間',
    `last_login` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '最後一次登錄時間',
    `last_time` datetime NOT NULL DEFAULT '0000-00-00 00:00:00' COMMENT '應該是最後一次修改資訊時間，該表資訊從其他表同步過來考慮',
    `last_ip` varchar(15) NOT NULL COMMENT '最後一次登錄ip',
    `visit_count` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '登錄次數',
    `user_rank` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '會員登記id，取值ecs_user_rank',
    `is_special` tinyint(3) unsigned NOT NULL DEFAULT '0',
    `salt` varchar(10) NOT NULL DEFAULT '0',
    `parent_id` mediumint(9) NOT NULL DEFAULT '0' COMMENT '推薦人會員id，',
    `flag` tinyint(3) unsigned NOT NULL DEFAULT '0',
    `alias` varchar(60) NOT NULL COMMENT '昵稱',
    `msn` varchar(60) NOT NULL COMMENT 'msn',
    `qq` varchar(20) NOT NULL COMMENT 'qq號',
    `office_phone` varchar(20) NOT NULL COMMENT '辦公電話',
    `home_phone` varchar(20) NOT NULL COMMENT '家庭電話',
    `mobile_phone` varchar(20) NOT NULL COMMENT '手機',
    `is_validated` tinyint(3) unsigned NOT NULL DEFAULT '0',
    `credit_line` decimal(10,2) unsigned NOT NULL COMMENT '信用額度，目前2.6.0版好像沒有作實現',
    PRIMARY KEY (`user_id`),
    UNIQUE KEY `user_name` (`user_name`),
    KEY `email` (`email`),
    KEY `parent_id` (`parent_id`),
    KEY `flag` (`flag`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC AUTO_INCREMENT=21 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_user_account'>ecs_user_account</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_user_account` (
    `id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '自增ID號',
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '用戶登錄後保存在session中的id號，跟users表中的user_id對應',
    `admin_user` varchar(255) NOT NULL COMMENT '操作該筆交易的管理員的用戶名',
    `amount` decimal(10,2) NOT NULL COMMENT '資金的數目，正數為增加，負數為減少',
    `add_time` int(10) NOT NULL DEFAULT '0' COMMENT '記錄插入時間',
    `paid_time` int(10) NOT NULL DEFAULT '0' COMMENT '記錄更新時間',
    `admin_note` varchar(255) NOT NULL COMMENT '管理員的被准',
    `user_note` varchar(255) NOT NULL COMMENT '用戶的被准',
    `process_type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '操作類型，1，退款；0，預付費，其實就是充值',
    `payment` varchar(90) NOT NULL COMMENT '支付管道的名稱，取自payment的pay_name欄位',
    `is_paid` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否已經付款，0，未付；1，已付',
    PRIMARY KEY (`id`),
    KEY `user_id` (`user_id`),
    KEY `is_paid` (`is_paid`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='用戶資金流動表，包括提現和充值' AUTO_INCREMENT=7 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_user_address'>ecs_user_address</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_user_address` (
    `address_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
    `address_name` varchar(50) NOT NULL,
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '用戶表中的流水號',
    `consignee` varchar(60) NOT NULL COMMENT '收貨人的名字',
    `email` varchar(60) NOT NULL COMMENT '收貨人的email',
    `country` smallint(5) NOT NULL DEFAULT '0' COMMENT '收貨人的國家',
    `province` smallint(5) NOT NULL DEFAULT '0' COMMENT '收貨人的省份',
    `city` smallint(5) NOT NULL DEFAULT '0' COMMENT '收貨人的城市',
    `district` smallint(5) NOT NULL DEFAULT '0' COMMENT '收貨人的地區',
    `address` varchar(120) NOT NULL COMMENT '收貨人的詳細地址',
    `zipcode` varchar(60) NOT NULL COMMENT '收貨人的郵編',
    `tel` varchar(60) NOT NULL COMMENT '收貨人的電話',
    `mobile` varchar(60) NOT NULL COMMENT '收貨人的手機',
    `sign_building` varchar(120) NOT NULL COMMENT '收貨位址的標誌性建築名',
    `best_time` varchar(120) NOT NULL COMMENT '收貨人的最佳收貨時間',
    PRIMARY KEY (`address_id`),
    KEY `user_id` (`user_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='收貨人的信息表' AUTO_INCREMENT=4 ;
</code></pre>

<p>```</p>

<p>在ecs_user_address的user_id與ec_users
table形成多對一的關聯(一個user可以有多個收貨地址)，表示一個人
但ecs_users中也有一個address_id(預設的收貨地址)，則跟ecs_user_address的address_id形成一對一的關聯。</p>

<h3><a id='ecs_user_bonus'>ecs_user_bonus</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_user_bonus` (
    `bonus_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '紅包的流水號',
    `bonus_type_id` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '紅包發送類型.0,按使用者如會員等級,會員名稱發放;1,按商品類別發送;2,按訂單金額所達到的額度發送;3,線下發送',
    `bonus_sn` bigint(20) unsigned NOT NULL DEFAULT '0' COMMENT '紅包號,如果為0就是沒有紅包號.如果大於0,就需要輸入該紅包號才能使用紅包',
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '該紅包屬於某會員的id.如果為0,就是該紅包不屬於某會員',
    `used_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '紅包使用的時間',
    `order_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '使用了該紅包的交易號',
    `emailed` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '猜的，應該是是否已經將紅包發送到用戶的郵箱；1，是；0，否；',
    PRIMARY KEY (`bonus_id`),
    KEY `user_id` (`user_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 COMMENT='已經發送的紅包資訊清單' AUTO_INCREMENT=122 ;
</code></pre>

<p>```</p>

<p>ecs_user_bonus.user_id :
該紅包屬於某會員的id.<strong>如果為0,就是該紅包不屬於某會員</strong>,</p>

<h3><a id='ecs_user_feed'>ecs_user_feed</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_user_feed` (
    `feed_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT,
    `user_id` mediumint(8) unsigned NOT NULL DEFAULT '0',
    `value_id` mediumint(8) unsigned NOT NULL DEFAULT '0',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0',
    `feed_type` tinyint(1) unsigned NOT NULL DEFAULT '0',
    `is_feed` tinyint(1) unsigned NOT NULL DEFAULT '0',
    PRIMARY KEY (`feed_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 AUTO_INCREMENT=1 ;
</code></pre>

<p>```</p>

<p>there is no information about ecs_user_feed now.</p>

<h3><a id='ecs_user_rank'>ecs_user_rank</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_user_rank` (
    `rank_id` tinyint(3) unsigned NOT NULL AUTO_INCREMENT COMMENT '會員等級編號，其中0是非會員',
    `rank_name` varchar(30) NOT NULL COMMENT '會員等級名稱',
    `min_points` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '該等級的最低積分',
    `max_points` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '該等級的最高積分',
    `discount` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '該會員等級的商品折扣',
    `show_price` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '是否在不是該等級會員購買頁面顯示該會員等級的折扣價格.1,顯示;0,不顯示',
    `special_rank` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否事特殊會員等級組.0,不是;1,是',
    PRIMARY KEY (`rank_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='會員等級配置資訊' AUTO_INCREMENT=3 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_virtual_card'>ecs_virtual_card</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_virtual_card` (
    `card_id` mediumint(8) NOT NULL AUTO_INCREMENT COMMENT '虛擬卡卡號自增id',
    `goods_id` mediumint(8) unsigned NOT NULL DEFAULT '0' COMMENT '該虛擬卡對應的商品id，取值於表ecs_goods',
    `card_sn` varchar(60) NOT NULL COMMENT '加密後的卡號',
    `card_password` varchar(60) NOT NULL COMMENT '加密後的密碼',
    `add_date` int(11) NOT NULL DEFAULT '0' COMMENT '卡號添加日期',
    `end_date` int(11) NOT NULL DEFAULT '0' COMMENT '卡號截至使用日期',
    `is_saled` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否賣出，0，否；1，是',
    `order_sn` varchar(20) NOT NULL COMMENT '賣出該卡號的交易號，取值表ecs_order_info',
    `crc32` int(11) NOT NULL DEFAULT '0' COMMENT 'crc32後的key',
    PRIMARY KEY (`card_id`),
    KEY `goods_id` (`goods_id`),
    KEY `car_sn` (`card_sn`),
    KEY `is_saled` (`is_saled`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='虛擬卡卡號庫' AUTO_INCREMENT=8 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_volume_price'>ecs_volume_price</a></h3>

<p>```</p>

<pre><code>CREATE TABLE IF NOT EXISTS `ecs_volume_price` (
  `price_type` tinyint(1) unsigned NOT NULL,
  `goods_id` mediumint(8) unsigned NOT NULL COMMENT '取值自ecs_goods.goods_id',
  `volume_number` smallint(5) unsigned NOT NULL default '0',
  `volume_price` decimal(10,2) NOT NULL default '0.00',
  PRIMARY KEY  (`price_type`,`goods_id`,`volume_number`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
</code></pre>

<p>```</p>

<p>尚無資訊</p>

<h3><a id='ecs_vote'>ecs_vote</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_vote` (
    `vote_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '線上調查自增id',
    `vote_name` varchar(250) NOT NULL COMMENT '線上調查主題',
    `start_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '線上調查開始時間',
    `end_time` int(11) unsigned NOT NULL DEFAULT '0' COMMENT '線上調查結束時間',
    `can_multi` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '能否多選，0，可以；1，不可以',
    `vote_count` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '投票人數也可以說投票次數',
    PRIMARY KEY (`vote_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='網站調查資訊記錄表' AUTO_INCREMENT=3 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_vote_log'>ecs_vote_log</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_vote_log` (
    `log_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '投票記錄自增id',
    `vote_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '關聯的投票主題id，取值表ecs_vote',
    `ip_address` varchar(15) NOT NULL COMMENT '投票的ip地址',
    `vote_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '投票的時間',
    PRIMARY KEY (`log_id`),
    KEY `vote_id` (`vote_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='投票記錄表' AUTO_INCREMENT=5 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_vote_option'>ecs_vote_option</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_vote_option` (
    `option_id` smallint(5) unsigned NOT NULL AUTO_INCREMENT COMMENT '投票選項自增id',
    `vote_id` smallint(5) unsigned NOT NULL DEFAULT '0' COMMENT '關聯的投票主題id，取值表ecs_vote',
    `option_name` varchar(250) NOT NULL COMMENT '投票選項的值',
    `option_count` int(8) unsigned NOT NULL DEFAULT '0' COMMENT '該選項的票數',
    PRIMARY KEY (`option_id`),
    KEY `vote_id` (`vote_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='投票的選項內容表' AUTO_INCREMENT=8 ;
</code></pre>

<p>```</p>

<h3><a id='ecs_wholesale'>ecs_wholesale</a></h3>

<p>```</p>

<pre><code>  CREATE TABLE IF NOT EXISTS `ecs_wholesale` (
    `act_id` mediumint(8) unsigned NOT NULL AUTO_INCREMENT COMMENT '批發方案自增id',
    `goods_id` mediumint(8) unsigned NOT NULL COMMENT '商品id',
    `goods_name` varchar(255) NOT NULL COMMENT '商品名稱',
    `rank_ids` varchar(255) NOT NULL COMMENT '適用會員登記，多個值之間用逗號分隔，取值於ecs_user_rank',
    `prices` text NOT NULL COMMENT '序列化後的商品屬性，數量，價格',
    `enabled` tinyint(3) unsigned NOT NULL COMMENT '批發方案是否可用',
    PRIMARY KEY (`act_id`),
    KEY `goods_id` (`goods_id`)
    ) ENGINE=MyISAM DEFAULT CHARSET=utf8 ROW_FORMAT=DYNAMIC COMMENT='批發方案表' AUTO_INCREMENT=3 ;
</code></pre>

<p>```</p>
]]></content>
  </entry>
  
</feed>
