
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Kent's Blog</title>
  <meta name="author" content="Kent">

  
  <meta name="description" content="This articles is a guild for installing Subversion (a.k.a SVN) in
CentOS5. Requirement apache server 2.x Install Install Subversion and mod_dav_svn &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.kent-chiu.com/blog/page/10">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Kent's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39152849-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Kent's Blog</a></h1>
  
    <h2>Kent的學習筆記(剛從dokuwiki搬過來，內容還在整修中)</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.kent-chiu.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/subversion_installation/">Subversion Installation</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/subversion_installation/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This articles is a guild for installing Subversion (a.k.a SVN) in
CentOS5.</p>

<h1>Requirement</h1>

<ol>
<li>apache server 2.x</li>
</ol>


<h1>Install</h1>

<h3>Install Subversion and mod_dav_svn</h3>

<p>Install Subversion server and WEBDev module of Apache - mod_dav_svn</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>yum install subversion mod_dav_svn </span></code></pre></td></tr></table></div></figure>


<p>mod_dav_svn is a module of Apache server, we need it for accessing svn
via http(s) protocol.</p>

<h3>Create Repository</h3>

<p>Using following command to create a repository home dictionary.</p>

<p>In this case, we create repository under ”/opt/svn” folder.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>svnadmin create /opt/svn/repos </span></code></pre></td></tr></table></div></figure>


<h3>Modify Apache Configuration</h3>

<p>Add a location section into Apache config file, it makes web server
accessing /opt/svn/repos directory as public folder.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vi /etc/httpd/conf/httpd.conf
</span><span class='line'>#appending flowing section
</span><span class='line'> 
</span><span class='line'>&lt;Location /svn/repos&gt;
</span><span class='line'>  DAV svn
</span><span class='line'>  SVNPath /opt/svn/repos
</span><span class='line'>  AuthType Basic
</span><span class='line'>  AuthName "Subversion repository"
</span><span class='line'>  AuthUserFile /opt/svn/password
</span><span class='line'>  Require valid-user
</span><span class='line'>&lt;/Location&gt;</span></code></pre></td></tr></table></div></figure>


<h3>Changing Directory Owner</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>chown -R apache.apache /opt/svn</span></code></pre></td></tr></table></div></figure>


<h3>Add Users For Accessing SVN</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'># create a new user in password file under /opt/svn with argument -c
</span><span class='line'>htpasswd -c /opt/svn/password Account1 
</span><span class='line'># appending new users by htpasswd WITHOUT -c argument
</span><span class='line'>htpasswd /opt/svn/password Account2</span></code></pre></td></tr></table></div></figure>


<p>you can see all user list in password file under /opt/svn/password, if
you would like to disable a user, just put &#8216;#&#8217; in front of it.</p>

<p>&lt;code note> if you got permission denied when committing, you may
check the SELinux config,disabled it when you are still encoutting the
permission problem. &lt;/note></p>

<h1>Verify</h1>

<p>open this url in web browser - <a href="http://SVN_SERVER_IP/svn/repos">http://SVN_SERVER_IP/svn/repos</a>, it will
ask you an account and password.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/structure/">ECShop Structure</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/structure/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ECShop upload 的目錄</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
<span class='line-number'>180</span>
<span class='line-number'>181</span>
<span class='line-number'>182</span>
<span class='line-number'>183</span>
<span class='line-number'>184</span>
<span class='line-number'>185</span>
<span class='line-number'>186</span>
<span class='line-number'>187</span>
<span class='line-number'>188</span>
<span class='line-number'>189</span>
<span class='line-number'>190</span>
<span class='line-number'>191</span>
<span class='line-number'>192</span>
<span class='line-number'>193</span>
<span class='line-number'>194</span>
<span class='line-number'>195</span>
<span class='line-number'>196</span>
<span class='line-number'>197</span>
<span class='line-number'>198</span>
<span class='line-number'>199</span>
<span class='line-number'>200</span>
<span class='line-number'>201</span>
<span class='line-number'>202</span>
<span class='line-number'>203</span>
<span class='line-number'>204</span>
<span class='line-number'>205</span>
<span class='line-number'>206</span>
<span class='line-number'>207</span>
<span class='line-number'>208</span>
<span class='line-number'>209</span>
<span class='line-number'>210</span>
<span class='line-number'>211</span>
<span class='line-number'>212</span>
<span class='line-number'>213</span>
<span class='line-number'>214</span>
<span class='line-number'>215</span>
<span class='line-number'>216</span>
<span class='line-number'>217</span>
<span class='line-number'>218</span>
<span class='line-number'>219</span>
<span class='line-number'>220</span>
<span class='line-number'>221</span>
<span class='line-number'>222</span>
<span class='line-number'>223</span>
<span class='line-number'>224</span>
<span class='line-number'>225</span>
<span class='line-number'>226</span>
<span class='line-number'>227</span>
<span class='line-number'>228</span>
<span class='line-number'>229</span>
<span class='line-number'>230</span>
<span class='line-number'>231</span>
<span class='line-number'>232</span>
<span class='line-number'>233</span>
<span class='line-number'>234</span>
<span class='line-number'>235</span>
<span class='line-number'>236</span>
<span class='line-number'>237</span>
<span class='line-number'>238</span>
<span class='line-number'>239</span>
<span class='line-number'>240</span>
<span class='line-number'>241</span>
<span class='line-number'>242</span>
<span class='line-number'>243</span>
<span class='line-number'>244</span>
<span class='line-number'>245</span>
<span class='line-number'>246</span>
<span class='line-number'>247</span>
<span class='line-number'>248</span>
<span class='line-number'>249</span>
<span class='line-number'>250</span>
<span class='line-number'>251</span>
<span class='line-number'>252</span>
<span class='line-number'>253</span>
<span class='line-number'>254</span>
<span class='line-number'>255</span>
<span class='line-number'>256</span>
<span class='line-number'>257</span>
<span class='line-number'>258</span>
<span class='line-number'>259</span>
<span class='line-number'>260</span>
<span class='line-number'>261</span>
<span class='line-number'>262</span>
<span class='line-number'>263</span>
<span class='line-number'>264</span>
<span class='line-number'>265</span>
<span class='line-number'>266</span>
<span class='line-number'>267</span>
<span class='line-number'>268</span>
<span class='line-number'>269</span>
<span class='line-number'>270</span>
<span class='line-number'>271</span>
<span class='line-number'>272</span>
<span class='line-number'>273</span>
<span class='line-number'>274</span>
<span class='line-number'>275</span>
<span class='line-number'>276</span>
<span class='line-number'>277</span>
<span class='line-number'>278</span>
<span class='line-number'>279</span>
<span class='line-number'>280</span>
<span class='line-number'>281</span>
<span class='line-number'>282</span>
<span class='line-number'>283</span>
<span class='line-number'>284</span>
<span class='line-number'>285</span>
<span class='line-number'>286</span>
<span class='line-number'>287</span>
<span class='line-number'>288</span>
<span class='line-number'>289</span>
<span class='line-number'>290</span>
<span class='line-number'>291</span>
<span class='line-number'>292</span>
<span class='line-number'>293</span>
<span class='line-number'>294</span>
<span class='line-number'>295</span>
<span class='line-number'>296</span>
<span class='line-number'>297</span>
<span class='line-number'>298</span>
<span class='line-number'>299</span>
<span class='line-number'>300</span>
<span class='line-number'>301</span>
<span class='line-number'>302</span>
<span class='line-number'>303</span>
<span class='line-number'>304</span>
<span class='line-number'>305</span>
<span class='line-number'>306</span>
<span class='line-number'>307</span>
<span class='line-number'>308</span>
<span class='line-number'>309</span>
<span class='line-number'>310</span>
<span class='line-number'>311</span>
<span class='line-number'>312</span>
<span class='line-number'>313</span>
<span class='line-number'>314</span>
<span class='line-number'>315</span>
<span class='line-number'>316</span>
<span class='line-number'>317</span>
<span class='line-number'>318</span>
<span class='line-number'>319</span>
<span class='line-number'>320</span>
<span class='line-number'>321</span>
<span class='line-number'>322</span>
<span class='line-number'>323</span>
<span class='line-number'>324</span>
<span class='line-number'>325</span>
<span class='line-number'>326</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>       ├ activity.php 活動列表
</span><span class='line'>       ├ affiche.php 廣告處理文件
</span><span class='line'>       ├ affiliate.php 生成商品列表
</span><span class='line'>       ├ article.php 文章內容
</span><span class='line'>       ├ article_cat.php文章分類
</span><span class='line'>       ├ auction.php 拍賣前台文件
</span><span class='line'>       ├ brand.php 品牌列表
</span><span class='line'>       ├ captcha.php 生成驗證碼
</span><span class='line'>       ├ catalog.php 列出所以分類及品牌
</span><span class='line'>       ├ category.php 商品分類
</span><span class='line'>       ├ comment.php 提交用戶評論
</span><span class='line'>       ├ compare.php 商品比較程序
</span><span class='line'>       ├ cycle_image.php  輪播圖片程序
</span><span class='line'>       ├ feed.php RSS Feed 生成程序
</span><span class='line'>       ├ flow.php 購物流程
</span><span class='line'>       ├ gallery.php 商品相冊
</span><span class='line'>       ├ goods.php 商品詳情
</span><span class='line'>       ├ goods_script.php 生成商品列表
</span><span class='line'>       ├ group_buy.php 團購商品前台文件
</span><span class='line'>       ├ index.php 首頁文件
</span><span class='line'>       ├ myship.php 支付配送DEMO
</span><span class='line'>       ├ pick_out.php 選購中心
</span><span class='line'>       ├ receive.php 處理收回確認的頁面
</span><span class='line'>       ├ region.php 地區切換程序
</span><span class='line'>       ├ respond.php 支付響應頁面
</span><span class='line'>       ├ robots.txt
</span><span class='line'>       ├ search.php 搜索程序
</span><span class='line'>       ├ sitemaps.php  google sitemap 文件
</span><span class='line'>       ├ snatch.php 奪寶奇兵前台頁面
</span><span class='line'>       ├ tag_cloud.php 標籤雲
</span><span class='line'>       ├ topic.php 專題前台
</span><span class='line'>       ├ user.php 會員中心
</span><span class='line'>       ├ vote.php 調查程序
</span><span class='line'>       ├ wholesale.php 批發前台文件
</span><span class='line'>       ├ admin文件夾
</span><span class='line'>       │   ├ account_log.php 管理中心帳戶變動記錄
</span><span class='line'>       │   ├ admin_logs.php 記錄管理員操作日誌
</span><span class='line'>       │   ├ ads.php 廣告管理程序
</span><span class='line'>       │   ├ adsense.php 站外JS投放的統計程序
</span><span class='line'>       │   ├ ad_position.php廣告位置管理程序
</span><span class='line'>       │   ├ affiliate.php 程序說明
</span><span class='line'>       │   ├ affiliate_ck.php 程序說明
</span><span class='line'>       │   ├ agency.php 管理中心辦事處管理
</span><span class='line'>       │   ├ area_manage.php 地區列表管理文件
</span><span class='line'>       │   ├ article.php 管理中心文章處理程序文件
</span><span class='line'>       │   ├ articlecat.php 文章分類管理程序
</span><span class='line'>       │   ├ article_auto.php
</span><span class='line'>       │   ├ attention_list.php
</span><span class='line'>       │   ├ attribute.php 屬性規格管理
</span><span class='line'>       │   ├ auction.php 管理中心拍賣活動管理
</span><span class='line'>       │   ├ bonus.php 紅包類型的處理
</span><span class='line'>       │   ├ brand.php管理中心品牌管理
</span><span class='line'>       │   ├ captcha_manage.php
</span><span class='line'>       │   ├ card.php 賀卡管理程序
</span><span class='line'>       │   ├ category.php 商品分類管理程序
</span><span class='line'>       │   ├ check_file_priv.php 系統文件檢測
</span><span class='line'>       │   ├ comment_manage.php 用戶評論管理程序
</span><span class='line'>       │   ├ convert.php 轉換程序
</span><span class='line'>       │   ├ cron.php 計劃任務
</span><span class='line'>       │   ├ database.php 數據庫管理
</span><span class='line'>       │   ├ ebao_commend.php 易寶推薦
</span><span class='line'>       │   ├ edit_languages.php 管理中心語言項編輯(前台語言項)
</span><span class='line'>       │   ├ email_list.php 郵件列表管理
</span><span class='line'>       │   ├ favourable.php 管理中心優惠活動管理
</span><span class='line'>       │   ├ flashplay.php
</span><span class='line'>       │   ├ flow_stats.php 綜合流量統計
</span><span class='line'>       │   ├ friend_link.php 友情鏈接管理
</span><span class='line'>       │   ├ gen_goods_script.php 生成顯示商品的js代碼
</span><span class='line'>       │   ├ get_password.php 找回管理員密碼
</span><span class='line'>       │   ├ goods.php 商品管理程序
</span><span class='line'>       │   ├ goods_auto.php
</span><span class='line'>       │   ├ goods_batch.php 商品批量上傳、修改
</span><span class='line'>       │   ├ goods_booking.php 缺貨處理管理程序
</span><span class='line'>       │   ├ goods_export.php
</span><span class='line'>       │   ├ goods_type.php 商品類型管理程序
</span><span class='line'>       │   ├ group_buy.php 管理中心團購商品管理
</span><span class='line'>       │   ├ guest_stats.php 客戶統計
</span><span class='line'>       │   ├ index.php 控制台首頁
</span><span class='line'>       │   ├ integrate.php 第三方程序會員數據整合插件管理程序
</span><span class='line'>       │   ├ magazine_list.php
</span><span class='line'>       │   ├ mail_template.php 管理中心模版管理程序
</span><span class='line'>       │   ├ message.php 管理中心管理員留言程序
</span><span class='line'>       │   ├ navigator.php
</span><span class='line'>       │   ├ order.php 訂單管理
</span><span class='line'>       │   ├ order_stats.php 訂單統計
</span><span class='line'>       │   ├ pack.php 包裝管理程序
</span><span class='line'>       │   ├ payment.php 支付方式管理程序
</span><span class='line'>       │   ├ picture_batch.php 圖片批量處理程序
</span><span class='line'>       │   ├ privilege.php 管理員信息以及權限管理程序
</span><span class='line'>       │   ├ sale_general.php 銷售概況
</span><span class='line'>       │   ├ sale_list.php 銷售明細列表程序
</span><span class='line'>       │   ├ sale_order.php 商品銷售排行
</span><span class='line'>       │   ├ searchengine_stats.php 搜索引擎關鍵字統計
</span><span class='line'>       │   ├ search_log.php
</span><span class='line'>       │   ├ shipping.php 配送方式管理程序
</span><span class='line'>       │   ├ shipping_area.php 配送區域管理程序
</span><span class='line'>       │   ├ shophelp.php 幫助信息管理程序
</span><span class='line'>       │   ├ shopinfo.php 網店信息管理頁面
</span><span class='line'>       │   ├ shop_config.php  管理中心商店設置
</span><span class='line'>       │   ├ sitemap.php 站點地圖生成程序
</span><span class='line'>       │   ├ sms.php 短信模塊 之 控制器
</span><span class='line'>       │   ├ snatch.php 奪寶奇兵管理程序
</span><span class='line'>       │   ├ sql.php sql管理程序
</span><span class='line'>       │   ├ tag_manage.php 後台標籤管理
</span><span class='line'>       │   ├ template.php 管理中心模版管理程序
</span><span class='line'>       │   ├ topic.php 專題管理
</span><span class='line'>       │   ├ users.php 會員管理程序
</span><span class='line'>       │   ├ users_order.php 會員排行統計程序
</span><span class='line'>       │   ├ user_account.php 會員帳目管理(包括預付款，餘額)
</span><span class='line'>       │   ├ user_msg.php 客戶留言
</span><span class='line'>       │   ├ user_rank.php 會員等級管理程序
</span><span class='line'>       │   ├ view_sendlist.php
</span><span class='line'>       │   ├ virtual_card.php 虛擬卡商品管理程序
</span><span class='line'>       │   ├ visit_sold.php 訪問購買比例
</span><span class='line'>       │   ├ vote.php 調查管理程序
</span><span class='line'>       │   ├ wholesale.php  管理中心批發管理
</span><span class='line'>       │   ├ help 的目錄  後台操作幫助文件
</span><span class='line'>       │   ├ images 的目錄
</span><span class='line'>       │   ├ includes 的目錄
</span><span class='line'>       │   │  ├ cls_exchange.php 後台自動操作數據庫的類文件
</span><span class='line'>       │   │  ├ cls_google_sitemap.php Google sitemap 類
</span><span class='line'>       │   │  ├ cls_phpzip.php ZIP 處理類
</span><span class='line'>       │   │  ├ cls_sql_dump.php 數據庫導出類
</span><span class='line'>       │   │  ├ inc_menu.php 管理中心菜單數組
</span><span class='line'>       │   │  ├ init.php 管理中心公用文件
</span><span class='line'>       │   │  ├ lib_goods.php 管理中心商品相關函數
</span><span class='line'>       │   │  ├ lib_main.php 管理中心公用函數庫
</span><span class='line'>       │   │  └ lib_template.php 管理中心模版相關公用函數庫
</span><span class='line'>       │   ├ styles 的目錄
</span><span class='line'>       │   ├ templates 的目錄
</span><span class='line'>       │   └ js 的目錄
</span><span class='line'>       │       ├ colorselector.js
</span><span class='line'>       │       ├ common.js
</span><span class='line'>       │       ├ listtable.js
</span><span class='line'>       │       ├ md5.js
</span><span class='line'>       │       ├ selectzone.js
</span><span class='line'>       │       ├ tab.js
</span><span class='line'>       │       ├ todolist.js
</span><span class='line'>       │       ├ topbar.js
</span><span class='line'>       │       └ validator.js 表單驗證類
</span><span class='line'>       ├ api 的目錄
</span><span class='line'>       │   ├ checkorder.php 檢查訂單 API
</span><span class='line'>       │   ├ cron.php
</span><span class='line'>       │   └ init.php API 公用初始化文件
</span><span class='line'>       ├ cert 的目錄
</span><span class='line'>       ├ data 的目錄
</span><span class='line'>       │   ├ ffiliate.html
</span><span class='line'>       │   ├ goods_script.html
</span><span class='line'>       │   ├ order_print.html
</span><span class='line'>       │   ├ afficheimg 的目錄
</span><span class='line'>       │   ├ brandlogo 的目錄
</span><span class='line'>       │   ├ captcha 的目錄 驗證碼背景圖片存放位置
</span><span class='line'>       │   ├ cardimg 的目錄
</span><span class='line'>       │   ├ feedbackimg 的目錄
</span><span class='line'>       │   ├ images 的目錄
</span><span class='line'>       │   ├ packimg 的目錄
</span><span class='line'>       │   └ sqldata 的目錄
</span><span class='line'>       ├ images 的目錄
</span><span class='line'>       │   └ upload 的目錄
</span><span class='line'>       │        ├ File 文件上傳存放處
</span><span class='line'>       │        ├ Flash flash上傳存放處
</span><span class='line'>       │        ├ Image 圖片上傳存放處
</span><span class='line'>       │        └ Media 視頻上傳存放處
</span><span class='line'>       ├ includes 的目錄
</span><span class='line'>       │   ├ cls_captcha.php 驗證碼圖片類
</span><span class='line'>       │   ├ cls_ecshop.php 基礎類
</span><span class='line'>       │   ├ cls_error.php 用戶級錯誤處理類
</span><span class='line'>       │   ├ cls_iconv.php 字符集轉換類
</span><span class='line'>       │   ├ cls_image.php 後台對上傳文件的處理類(實現圖片上傳，圖片縮小， 增加水印)
</span><span class='line'>       │   ├ cls_json.php JSON 類
</span><span class='line'>       │   ├ cls_mysql.php MYSQL 公用類庫
</span><span class='line'>       │   ├ cls_rss.php RSS 類
</span><span class='line'>       │   ├ cls_session.php SESSION 公用類庫
</span><span class='line'>       │   ├ cls_sms.php 短信模塊 之 模型（類庫）
</span><span class='line'>       │   ├ cls_smtp.php SMTP 郵件類
</span><span class='line'>       │   ├ cls_sql_executor.php SQL語句執行類。
</span><span class='line'>       │   ├ cls_template.php 模版類
</span><span class='line'>       │   ├ cls_transport.php 服務器之間數據傳輸器
</span><span class='line'>       │   ├ inc_constant.php 常量
</span><span class='line'>       │   ├ init.php 前台公用文件
</span><span class='line'>       │   ├ lib.debug.php
</span><span class='line'>       │   ├ lib_article.php 文章及文章分類相關函數庫
</span><span class='line'>       │   ├ lib_clips.php ECSHOP 用戶相關函數庫
</span><span class='line'>       │   ├ lib_code.php 加密解密類
</span><span class='line'>       │   ├ lib_common.php 公用函數庫
</span><span class='line'>       │   ├ lib_goods.php 商品相關函數庫
</span><span class='line'>       │   ├ lib_insert.php 動態內容函數庫
</span><span class='line'>       │   ├ lib_main.php 前台公用函數庫
</span><span class='line'>       │   ├ lib_order.php 購物流程函數庫
</span><span class='line'>       │   ├ lib_passport.php 用戶帳號相關函數庫
</span><span class='line'>       │   ├ lib_payment.php 支付接口函數庫
</span><span class='line'>       │   ├ lib_time.php 時間函數
</span><span class='line'>       │   ├ lib_transaction.php ECSHOP 用戶交易相關函數庫
</span><span class='line'>       │   ├ codetable 的目錄
</span><span class='line'>       │   │    ├ big5-gb.table
</span><span class='line'>       │   │    ├ big5_utf8.php
</span><span class='line'>       │   │    ├ gb-big5.table
</span><span class='line'>       │   │    ├ gb_utf8.php
</span><span class='line'>       │   │    └ ipdata.dat
</span><span class='line'>       │   ├ fckeditor 的目錄 fckeditor編輯器目錄
</span><span class='line'>       │   └ modules 的目錄
</span><span class='line'>       │         ├ convert 的目錄
</span><span class='line'>       │         │    ├ shopex46.php vshopex4.6轉換程序插件
</span><span class='line'>       │         │    └ shopex47.php shopex4.7轉換程序插件
</span><span class='line'>       │         ├ cron 的目錄
</span><span class='line'>       │         │    ├ auto_manage.php 自動上下架管理
</span><span class='line'>       │         │    └ ipdel.php 定期刪除
</span><span class='line'>       │         ├ integrates 的目錄
</span><span class='line'>       │         │    ├ bmforum.php 會員數據處理類
</span><span class='line'>       │         │    ├ discuz.php
</span><span class='line'>       │         │    ├ discuz55.php
</span><span class='line'>       │         │    ├ dvbbs.php
</span><span class='line'>       │         │    ├ ecshop.php
</span><span class='line'>       │         │    ├ integrate.php
</span><span class='line'>       │         │    ├ ipb.php
</span><span class='line'>       │         │    ├ molyx.php
</span><span class='line'>       │         │    ├ phpbb.php
</span><span class='line'>       │         │    ├ phpwind.php
</span><span class='line'>       │         │    ├ phpwind5.php
</span><span class='line'>       │         │    └ vbb.php
</span><span class='line'>       │         ├ payment 的目錄
</span><span class='line'>       │         │    ├ alipay.php 支付寶插件
</span><span class='line'>       │         │    ├ balance.php 餘額支付插件
</span><span class='line'>       │         │    ├ bank.php 銀行匯款（轉帳）插件
</span><span class='line'>       │         │    ├ cappay.php 首信易支付插件
</span><span class='line'>       │         │    ├ chinabank.php 網銀在線插件
</span><span class='line'>       │         │    ├ cncard.php 雲網支付插件
</span><span class='line'>       │         │    ├ cod.php 貨到付款插件
</span><span class='line'>       │         │    ├ ctopay.php Ctopay 支付插件
</span><span class='line'>       │         │    ├ express.php express支付系統插件
</span><span class='line'>       │         │    ├ ips.php ips支付系統插件
</span><span class='line'>       │         │    ├ kuaiqian.php 快錢插件
</span><span class='line'>       │         │    ├ nps.php NPS支付插件
</span><span class='line'>       │         │    ├ pay800.php 800pay 支付寶插件
</span><span class='line'>       │         │    ├ paypal.php 貝寶插件
</span><span class='line'>       │         │    ├ paypalcn.php 貝寶中國插件
</span><span class='line'>       │         │    ├ post.php 郵局匯款插件
</span><span class='line'>       │         │    ├ tenpay.php 財付通插件
</span><span class='line'>       │         │    ├ udpay.php 網匯通插件
</span><span class='line'>       │         │    ├ xpay.php 易付通插件
</span><span class='line'>       │         │    └ yeepay.php YeePay易寶插件
</span><span class='line'>       │         └ shipping 的目錄
</span><span class='line'>       │               ├ cac.php 上門取貨插件
</span><span class='line'>       │               ├ city_express.php 城際快遞插件
</span><span class='line'>       │               ├ ems.php EMS插件
</span><span class='line'>       │               ├ flat.php 郵政包裹插件
</span><span class='line'>       │               ├ fpd.php 到付運費插件
</span><span class='line'>       │               ├ post_express.php 郵政包裹插件
</span><span class='line'>       │               ├ post_mail.php 郵局平郵插件
</span><span class='line'>       │               ├ presswork.php 掛號印刷品插件
</span><span class='line'>       │               ├ sf_express.php 順豐速運 配送方式插件
</span><span class='line'>       │               ├ sto_express.php 申通快遞 配送方式插件
</span><span class='line'>       │               ├ yto.php 圓通速遞插件
</span><span class='line'>       │               └ zto.php 中通速遞插件
</span><span class='line'>       ├ install 的目錄  安裝文件目錄
</span><span class='line'>       ├ js 的目錄
</span><span class='line'>       │   ├ auto_complete.js
</span><span class='line'>       │   ├ calendar.php
</span><span class='line'>       │   ├ common.js
</span><span class='line'>       │   ├ compare.js
</span><span class='line'>       │   ├ global.js
</span><span class='line'>       │   ├ lefttime.js
</span><span class='line'>       │   ├ myship.js
</span><span class='line'>       │   ├ region.js
</span><span class='line'>       │   ├ shopping_flow.js
</span><span class='line'>       │   ├ transport.js
</span><span class='line'>       │   ├ user.js
</span><span class='line'>       │   ├ utils.js
</span><span class='line'>       │   └ calendar 的目錄
</span><span class='line'>       ├ languages 的目錄  語言風格文件
</span><span class='line'>       │   ├ zh_cn 的目錄
</span><span class='line'>       │   │   ├
</span><span class='line'>       │   │   ├ admin 的目錄
</span><span class='line'>       │   │   ├ convert 的目錄
</span><span class='line'>       │   │   ├ cron 的目錄
</span><span class='line'>       │   │   ├ payment 的目錄
</span><span class='line'>       │   │   └ shipping 的目錄
</span><span class='line'>       │   └ zh_tw 的目錄
</span><span class='line'>       │        ├ admin 的目錄
</span><span class='line'>       │        ├ convert 的目錄
</span><span class='line'>       │        ├ cron 的目錄
</span><span class='line'>       │        ├ payment 的目錄
</span><span class='line'>       │        └ shipping 的目錄
</span><span class='line'>       ├ plugins 的目錄
</span><span class='line'>       ├ templates 的目錄
</span><span class='line'>       │   ├ backup 的目錄
</span><span class='line'>       │   │   └ ibrary 的目錄
</span><span class='line'>       │   ├ caches 的目錄
</span><span class='line'>       │   └ compiled 的目錄
</span><span class='line'>       │        └ admin 的目錄
</span><span class='line'>       ├ themes 的目錄
</span><span class='line'>       │   ├ default 的目錄
</span><span class='line'>       │   │   ├ images 的目錄
</span><span class='line'>       │   │   └ library 的目錄
</span><span class='line'>       │   └ sport 的目錄
</span><span class='line'>       ├ wap 的目錄
</span><span class='line'>       │   ├ article.php
</span><span class='line'>       │   ├ brands.php
</span><span class='line'>       │   ├ buy.php
</span><span class='line'>       │   ├ category.php
</span><span class='line'>       │   ├ comment.php
</span><span class='line'>       │   ├ goods.php
</span><span class='line'>       │   ├ goods_list.php
</span><span class='line'>       │   ├ index.php
</span><span class='line'>       │   ├ user.php
</span><span class='line'>       │   ├ includes 的目錄
</span><span class='line'>       │   │   ├ init.php
</span><span class='line'>       │   │   ├ lib_main.php
</span><span class='line'>       │   └ templates 的目錄
</span><span class='line'>       │        ├ article.wml
</span><span class='line'>       │        ├ article_list.wml
</span><span class='line'>       │        ├ brands.wml
</span><span class='line'>       │        ├ buy.wml
</span><span class='line'>       │        ├ category.wml
</span><span class='line'>       │        ├ comment.wml
</span><span class='line'>       │        ├ goods.wml
</span><span class='line'>       │        ├ goods_img.wml
</span><span class='line'>       │        ├ goods_list.wml
</span><span class='line'>       │        ├ index.wml
</span><span class='line'>       │        ├ login.wml
</span><span class='line'>       │        ├ order_list.wml
</span><span class='line'>       │        └ user.wml
</span><span class='line'>       └ widget 的目錄
</span><span class='line'>            ├ blog_sohu.php
</span><span class='line'>            ├ blog_sohu.xhtml
</span><span class='line'>            └ images 的目錄</span></code></pre></td></tr></table></div></figure>


<h1>Major Pages</h1>

<p>各主要頁面 所用模組圖例</p>

<ol>
<li>首頁:index.dwt</li>
<li>文章列表:article_cat.dwt</li>
<li>文章顯示:article.dwt</li>
<li>商品分類:category.dwt</li>
<li>商品比較:compare.dwt</li>
<li>商品詳情:goods.dwt</li>
<li>搜索結果:search_result.dwt</li>
<li>奪寶奇兵:snatch.dwt</li>
</ol>


<h1>Library files</h1>

<ol>
<li>articles.lbi - 文章列表</li>
<li>article_info.lbi - 文章內容</li>
<li>article_list.lbi - 文章列表</li>
<li>best_goods.lbi - 精品推薦</li>
<li>bought_goods.lbi - 購買過此商品的人購買過哪些商品</li>
<li>brand_goods.lbi - 品牌的商品</li>
<li>cart.lbi - 購物車</li>
<li>cart_view.lbi - 查看購物車</li>
<li>category_tree.lbi - 商品分類樹</li>
<li>cat_goods.lbi - 分類下的商品</li>
<li>comments.lbi - 用戶評論</li>
<li>comment_form.lbi - 發表評論的表單</li>
<li>consignee.lbi - 收貨人信息</li>
<li>fittings.lbi - 相關配件</li>
<li>footer.lbi - 頁腳</li>
<li>gallery.lbi - 商品相冊</li>
<li>goods_detail.lbi - 商品詳情</li>
<li>goods_info.lbi - 商品基本資訊</li>
<li>goods_list.lbi - 商品列表</li>
<li>help.lbi - 説明內容</li>
<li>history.lbi - 歷史記錄</li>
<li>hot_goods.lbi - 熱賣商品</li>
<li>invoice_query.lbi - 發貨單查詢</li>
<li>member.lbi - 會員登錄區</li>
<li>member_info.lbi - 會員資訊</li>
<li>nav_main.lbi - 主導航</li>
<li>new_goods.lbi - 新品上架</li>
<li>order_confirm.lbi - 訂單確認</li>
<li>order_detail.lbi - 訂單詳情</li>
<li>order_view.lbi - 訂單資訊</li>
<li>package_card.lbi - 包裝和賀卡</li>
<li>pages.lbi - 列表分頁</li>
<li>page_top.lbi - 頁面頂部</li>
<li>payment.lbi - 支付方式</li>
<li>promotion.lbi - 促銷商品</li>
<li>properties.lbi - 商品屬性</li>
<li>register_login.lbi - 購物流程登錄和註冊</li>
<li>related_goods.lbi - 相關商品</li>
<li>search_advanced.lbi - 高級搜索表單</li>
<li>search_form.lbi - 搜索表單</li>
<li>search_result.lbi - 搜索結果</li>
<li>shipping.lbi - 配送方式</li>
<li>signin.lbi - 會員登錄表單</li>
<li>snatch_bid.lbi - 奪寶奇兵出價表單</li>
<li>snatch_goods.lbi - 奪寶奇兵活動的商品</li>
<li>snatch_list.lbi - 奪寶奇兵活動列表</li>
<li>snatch_price.lbi - 奪寶奇兵價格列表</li>
<li>snatch_result.lbi - 奪寶奇兵活動結果</li>
<li>top10.lbi - 銷售排行</li>
<li>ur_here.lbi - 當前位置</li>
<li>user_address.lbi - 會員中心收貨人列表</li>
<li>user_address_add.lbi - 會員中心添加收貨人</li>
<li>user_booking.lbi - 會員中心用戶缺貨登記</li>
<li>user_booking_add.lbi - 會員中心用戶添加缺貨登記</li>
<li>user_collect.lbi - 會員中心用戶我的最愛</li>
<li>user_forgetpassword.lbi - 會員中心找回密碼</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/start/">EC</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/start/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li><a href="http://wiki.kent-chiu.com/doku.php?id=ec:ec101" title="ec:ec101">EC 101</a></li>
<li><a href="http://bbs.ecshop.com/viewthread.php?tid=78529" title="http://bbs.ecshop.com/viewthread.php?tid=78529">大陸為什麼不流行用信用卡支付</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/spring_dm_101/">Spring DM 101</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/spring_dm_101/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Since OSGi, with its class wiring, versioning, reloading, superseeds the
WAR classpath, Spring DM will ignore the WAR predefined locations and
will always use the OSGi classpath instead. This means that classes
imported by a WAR bundle can be used even if they are not present under
WEB-INF/classes folder or inside a jar under WEB-INF/lib. This also
means that any class under WEB-INF/classes will not be considered if
it&#8217;s not available in the WAR OSGi classpath.</p>

<p>the easiest ways to support the pre-defined WAR locations, is to add
them to the bundle classpath, by adding them to the bundle manifest:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Bundle-Classpath: .,WEB-INF/classes,WEB-INF/lib/some.jar,WEB-INF/lib/lib.jar</span></code></pre></td></tr></table></div></figure>


<h4>tag lib</h4>

<p>the tag definitions are automatically discovered, the tag classes are
not - again, the OSGi classpath takes priority. When dealing with
libraries that export a lot of tags, one can use the Require-Bundle
header instead of Import-Package for importing the tags:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Require-Bundle: org.springframework.osgi.jstl.osgi</span></code></pre></td></tr></table></div></figure>


<h1>Configuration</h1>

<h3>The Service Registry</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
</span><span class='line'>&lt;beans xmlns="http://www.springframework.org/schema/beans"
</span><span class='line'>       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
</span><span class='line'>       xmlns:osgi="http://www.springframework.org/schema/osgi"
</span><span class='line'>       xsi:schemaLocation="
</span><span class='line'>  http://www.springframework.org/schema/beans
</span><span class='line'>  http://www.springframework.org/schema/beans/spring-beans.xsd
</span><span class='line'>  http://www.springframework.org/schema/osgi
</span><span class='line'>  http://www.springframework.org/schema/osgi/spring-osgi.xsd"&gt;
</span><span class='line'> 
</span><span class='line'>    &lt;bean id="weatherDao" class="org.springframework.osgi.samples.weather.dao.StaticDataWeatherDaoImpl"/&gt;
</span><span class='line'> 
</span><span class='line'>    &lt;osgi:service ref="weatherDao" interface="org.springframework.osgi.samples.weather.dao.WeatherDao"/&gt;
</span><span class='line'> 
</span><span class='line'>&lt;/beans&gt;</span></code></pre></td></tr></table></div></figure>


<h3>Using Service</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
</span><span class='line'>&lt;beans xmlns="http://www.springframework.org/schema/beans"
</span><span class='line'>       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
</span><span class='line'>       xmlns:osgi="http://www.springframework.org/schema/osgi"
</span><span class='line'>       xsi:schemaLocation="
</span><span class='line'>  http://www.springframework.org/schema/beans
</span><span class='line'>  http://www.springframework.org/schema/beans/spring-beans.xsd
</span><span class='line'>  http://www.springframework.org/schema/osgi
</span><span class='line'>  http://www.springframework.org/schema/osgi/spring-osgi.xsd"&gt;
</span><span class='line'> 
</span><span class='line'>    &lt;bean id="weatherService"
</span><span class='line'>        class="org.springframework.osgi.samples.weather.service.WeatherServiceImpl"&gt;
</span><span class='line'>        &lt;property name="weatherDao"&gt;
</span><span class='line'>            &lt;osgi:reference interface="org.springframework.osgi.samples.weather.dao.WeatherDao"/&gt;
</span><span class='line'>        &lt;/property&gt;
</span><span class='line'>    &lt;/bean&gt;
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'>    &lt;osgi:service ref="weatherService"&gt;
</span><span class='line'>        &lt;osgi:interfaces&gt;
</span><span class='line'>            &lt;value&gt;org.springframework.osgi.samples.weather.service.WeatherService&lt;/value&gt;
</span><span class='line'>        &lt;/osgi:interfaces&gt;
</span><span class='line'>        &lt;osgi:service-properties&gt;
</span><span class='line'>            &lt;entry key="foo" value="bar"/&gt;
</span><span class='line'>            &lt;entry key="baz" value="myprop"/&gt;
</span><span class='line'>        &lt;/osgi:service-properties&gt;
</span><span class='line'>    &lt;/osgi:service&gt;
</span><span class='line'> 
</span><span class='line'>&lt;/beans&gt;</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/sonar_101/">Sonar 101</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/sonar_101/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>如何看懂 Sonar 報表</h1>

<p>Sonar主要還是透過maven的一些plugins像
<a href="http://maven.apache.org/plugins/maven-pmd-plugin/" title="http://maven.apache.org/plugins/maven-pmd-plugin/">PMD</a>,
<a href="http://maven.apache.org/plugins/maven-pmd-plugin/" title="http://maven.apache.org/plugins/maven-pmd-plugin/">CPD</a>,
<a href="http://mojo.codehaus.org/findbugs-maven-plugin/" title="http://mojo.codehaus.org/findbugs-maven-plugin/">findbugs</a>,
<a href="http://maven.apache.org/plugins/maven-checkstyle-plugin/" title="http://maven.apache.org/plugins/maven-checkstyle-plugin/">checkstyle</a>,
<a href="http://mojo.codehaus.org/cobertura-maven-plugin/" title="http://mojo.codehaus.org/cobertura-maven-plugin/">cobertura(coverage)</a>,
<a href="http://mojo.codehaus.org/javancss-maven-plugin/" title="http://mojo.codehaus.org/javancss-maven-plugin/">JavaNCSS</a>,…
來對java程式碼做靜態分析(static
analysis),然後用比較美觀的方式呈現將各種報表整合在一起。想要看懂Sonar的分析結果，就得先了解它做了那些方面的分析。
所有相關分析的術語跟分析方式的概要說明在<a href="http://docs.codehaus.org/display/SONAR/Metric+definitions" title="http://docs.codehaus.org/display/SONAR/Metric+definitions">這裡</a>。</p>

<h2>Dashboard</h2>

<p>Dashboard看的是統計跟平均值，真正有用的資訊，應該是drilldown進去看到細節會比較有用</p>

<p>Dashboard中常會看到向上或向下的三角型，通常會有灰、紅、綠三色，那個叫<a href="http://docs.codehaus.org/display/SONAR/Tendencies" title="http://docs.codehaus.org/display/SONAR/Tendencies">Tendency</a>，是指跟前一次build出來的results比較的結果.</p>

<h3>Rules Compliance</h3>

<p><img src="/images/wiki/maven/sonar_101_001.png" alt="sonar_101_001.png" /></p>

<p>左邊的圖是程式五項能力指標</p>

<ol>
<li>Usa. Usability 可用性</li>
<li>Eff. Efficiency 效率</li>
<li>Mai. Maintainabilitiy 維護性</li>
<li>Por. Portability 可攜性</li>
<li>Rel. Reliability 可靠性</li>
</ol>


<p>愈高愈好，最好能五個指標都是 100%</p>

<p>右邊的Voilations是程式經過checkstyle, PDM,
findbugs,….這些rule檢查後的不通過數量，嚴重性依上而下為</p>

<ul>
<li>Blocker 阻塞</li>
<li>Critical 嚴重</li>
<li>Major 主要</li>
<li>Minor 次要</li>
<li>Info 資訊</li>
</ul>


<p>檢查不通過的數量當然是愈少愈好，理想值是都為0</p>

<p>建議盡可能的把所有的check rules打開，然後再把不適用的rule做調整或停用</p>

<h3>Code coverage</h3>

<p><img src="/images/wiki/maven/sonar_101_002.png" alt="sonar_101_002.png" /></p>

<p>程式的單元測試覆蓋率</p>

<ul>
<li>line converage 行覆蓋率 : 100行程式碼，有95被測到，就算95%</li>
<li>branch coverage 分支覆蓋率 : if - elseif - else
如果只測到if內的code就只有33%，若測到 if - elseif 就是66%，if -
elseif - else全測到就是100%</li>
<li>tests test class數量</li>
<li>skipped 略過沒測的數量</li>
</ul>


<p>另外常見的還有</p>

<ul>
<li>class converage : 類別覆蓋率</li>
<li>method converage : 方法覆蓋率</li>
</ul>


<p>覆蓋率愈高愈好，100%為理想值，但通常，粒度(Grain)的單位愈小，愈難達到100%，粒度的大小由上至下為，類別
> 方法 > 分支 >　行 一般來說，建議值為：</p>

<ul>
<li>class converage 100%</li>
<li>method converage 100%</li>
<li>branch coverage
採用<a href="http://en.wikipedia.org/wiki/Test-driven_development" title="http://en.wikipedia.org/wiki/Test-driven_development">TDD</a>的號稱可以達到95%,
但個人建議值在 70% 以上</li>
<li>line coverage
採用<a href="http://en.wikipedia.org/wiki/Test-driven_development" title="http://en.wikipedia.org/wiki/Test-driven_development">TDD</a>的號稱可以達到95%,
, 但個人建議值在 80% 以上</li>
</ul>


<p>覆蓋率比較有爭議性， 覆蓋率 !=
品質，但基本上把不需要測試的settor,gettor去掉後，保持line
coverage在75%以上，應該不難。</p>

<h3>Complexity</h3>

<p><img src="/images/wiki/maven/sonar_101_003.png" alt="sonar_101_003.png" /></p>

<p>程式的複雜度，採用<a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity" title="http://en.wikipedia.org/wiki/Cyclomatic_complexity">McCabe</a>的計算方式</p>

<p>左邊是平均值，右邊的chart圖是統計值，統計有兩個view，可以從class的角度或從method的角度(建議)來看</p>

<p>x軸是複雜度，y軸是數量， 在本例中：</p>

<ul>
<li>複雜度為1的method約有600個</li>
<li>複雜度為2的method約有180個</li>
<li>複雜度為4的method約有100個</li>
<li>…</li>
</ul>


<p>以method為計算單位的建議值</p>

<p>  Cyclomatic Complexity   Risk Evaluation                            中文解釋</p>

<hr />

<p>  1 to 10                 a simple program, without very much risk   method夠簡單，風險低
  11 to 20                a more complex program, moderate risk      method有點複雜，有點風險
  21 to 50                a complex, high risk program               method很複雜，高風險
  > 50                   an un-testable program (very high risk)    只有上帝跟原開發者才懂的method(也許過個月後，只有剩上帝懂)</p>

<h3>Chidamber &amp; Kemerer</h3>

<p><img src="/images/wiki/maven/sonar_101_004.png" alt="sonar_101_004.png" /></p>

<p>左邊的chart圖是LCOM4(Lack of cohesion of methods)，右邊是RFC(Response
for class)
LCOM4是用來判別類別是否具有太多的責任的指標，一般來說，類別設計應該符合<a href="http://wiki.kent-chiu.com/doku.php?id=prog:ood_5_principles#srp" title="prog:ood_5_principles">單一責任原則</a>,如果一個類別之中的methods，並沒有共同的參數或是公用的field，那表示此類別可能可以進行切割。</p>

<p><a href="http://www.sonarsource.org/clean-up-design-at-class-level-with-sonar/" title="http://www.sonarsource.org/clean-up-design-at-class-level-with-sonar/">LCOM4的說明文章</a>
LCOM4的chart圖x軸是LCOM4的值，y軸是class的數量</p>

<ul>
<li>LCOM4 = 1 好的類別，表示類別只有一個責任</li>
<li>LCOM4 >= 2 可能需進行切割的類別，數字表示可以切割的數量</li>
<li>LCOM4 = 0 空類別</li>
</ul>


<p><img src="/images/wiki/maven/sonar_101_008.png" alt="sonar_101_008.png" /></p>

<p>上圖中，LCOM4=3，每一個區域表示可以被獨立切割的部份</p>

<p>RFC的chart圖x軸是RFC的值，y軸是class的數量，RFC的值愈小愈好，</p>

<ul>
<li>0\~50 建議值</li>
<li>> 50 表示該類別太過複雜</li>
</ul>


<p>這個chart圖，通常會搭配<a href="http://docs.codehaus.org/display/SONAR/Dependency+Structure+Matrix" title="http://docs.codehaus.org/display/SONAR/Dependency+Structure+Matrix">Dependency Structure Matrix
(DSM)</a></p>

<h3>Comments &amp; Duplications</h3>

<p><img src="/images/wiki/maven/sonar_101_005.png" alt="sonar_101_005.png" /></p>

<p>左邊是程式註解的數量，右邊是程式重覆(copy &amp; paste code)的數量</p>

<h3>Package design</h3>

<p><img src="/images/wiki/maven/sonar_101_006.png" alt="sonar_101_006.png" /></p>

<p>左邊的Package tangle index是指package糾纏指標，右邊的Dependencies to
cut是指有多少個packages需要做依賴性切割</p>

<p>Package tangle index的值愈小愈好</p>

<ul>
<li>0% 最佳值</li>
<li>100% 最差值</li>
</ul>


<p>Dependencies to cut的值愈小愈好，理想值為0</p>

<p>![sonar_101_009.jpg][]</p>

<p>只要圖中消除紅底白色的部份，就可以有效降低Package tangle index</p>

<h3>Size metrics</h3>

<p><img src="/images/wiki/maven/sonar_101_007.png" alt="sonar_101_007.png" /></p>

<p>左邊的Lines of code(loc)是程式數量的統計，右邊的classes是類別內容的統計</p>

<h2>Resource Viewer</h2>

<p>TBD</p>

<h1>Resources</h1>

<ul>
<li><a href="http://www.sonarsource.org/" title="http://www.sonarsource.org/">官方網站</a></li>
<li><a href="http://docs.codehaus.org/display/SONAR/Use+Sonar" title="http://docs.codehaus.org/display/SONAR/Use+Sonar">官方文件</a></li>
<li><a href="http://docs.codehaus.org/display/SONAR/Metric+definitions" title="http://docs.codehaus.org/display/SONAR/Metric+definitions">評估指標的定義</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/solaris_rhel_ubuntu_-_pros_and_cons/">Solaris ,RHEL ,Ubuntu - Pros and Cons</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/solaris_rhel_ubuntu_-_pros_and_cons/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Comparison Table</h2>

<p>Open Solaris</p>

<p>CentOs</p>

<p>Ubuntu</p>

<p>Version</p>

<p>10</p>

<p>5</p>

<p>904</p>

<p>Kernel</p>

<p>unix</p>

<p>linux</p>

<p>linux</p>

<p>commercial Version</p>

<p>Solaris</p>

<p>Red Hat</p>

<p>X</p>

<p>Availability</p>

<p>★★★★★</p>

<p>★★★★</p>

<p>★★★</p>

<p>LAMP package</p>

<p>★★</p>

<p>★★★</p>

<p>★★★★★</p>

<p>package manager</p>

<p>★★</p>

<p>★★★★</p>

<p>★★★★★</p>

<p>Security</p>

<p>★★★★★</p>

<p>★★★★</p>

<p>★★</p>

<p>Performance(x86 PC)</p>

<p>★★★★</p>

<p>★★★★★</p>

<p>★★★★★</p>

<p>Fault Tolerance</p>

<p>★★★★★</p>

<p>★★★★</p>

<p>★★</p>

<p>Popular(server)</p>

<p>★★★</p>

<p>★★★★★</p>

<p>★★</p>

<p>Community</p>

<p>★★</p>

<p>★★★★</p>

<p>★★★★★</p>

<p>Text Mode^<a href="#fn__1">1)</a>^</p>

<p>No</p>

<p>Yes</p>

<p>Yes</p>

<p>Features</p>

<p>ZFS \
 D-Trace \
 Self-Healing</p>

<p>industry standard \
 Scalable Hardware Support \
 Cluster and Load Balancing Support</p>

<h3>Trend</h3>

<p><img src="/images/wiki/linux/trend_linux.png" alt="trend_linux.png" /></p>

<h2>Solaris (Open Solaris)</h2>

<h3>Pros</h3>

<ul>
<li>High Availability</li>
<li>Unix Base Kernel</li>
<li><a href="http://en.wikipedia.org/wiki/ZFS" title="http://en.wikipedia.org/wiki/ZFS">ZFS</a></li>
<li><a href="http://en.wikipedia.org/wiki/Dtrace" title="http://en.wikipedia.org/wiki/Dtrace">D-Trace</a></li>
</ul>


<h3>Cons</h3>

<ul>
<li><p>Hard to use.</p>

<ul>
<li>There are not enough document to set functions up of solaris.</li>
</ul>
</li>
<li><p>Difference usage style.</p>

<ul>
<li>The experience of Linux could not totally apply to Solaris.</li>
</ul>
</li>
<li><p>Sun bought by Oracle, no body know how will Solaris going.</p></li>
</ul>


<h3>Conclusion</h3>

<p>If we need using Open Solaris as our server, we need more efforts on
this.</p>

<p>The unix base Solaris provides high Availability and more scalability
and the amazing
<a href="http://en.wikipedia.org/wiki/ZFS" title="http://en.wikipedia.org/wiki/ZFS">ZFS</a>
and
<a href="http://en.wikipedia.org/wiki/Dtrace" title="http://en.wikipedia.org/wiki/Dtrace">D-Trace</a>.</p>

<p>if we don&#8217;t have man who is familiar with it Solaris, it is hard to
manage. <strong>More power more responsibility.</strong></p>

<h2>RHEL (CentOS)</h2>

<h3>Pros</h3>

<ul>
<li>industry standard for production servers</li>
<li>Stable Builds</li>
<li>Scalable Hardware Support</li>
<li>Cluster and Load Balancing Support</li>
<li>Longer Release Dates and Support</li>
<li>Enhanced Remote Management</li>
</ul>


<h3>Cons</h3>

<ul>
<li>for security reason, RHEL disabled most function, we need more
efforts to set it up if we need those.</li>
</ul>


<h3>Conclusion</h3>

<p>Red Hat Enterprise Linux (RHEL) is quickly becoming the industry
standard for production servers.The CentOS is a Community version of
RHEL.</p>

<p>Regarding our resource, if we don&#8217;t have any professional support, <strong>I
strong recommended to use RHEL as our production server</strong>.</p>

<p>The RHEL is reliable enough and easy to manage.</p>

<h2>Ubuntu</h2>

<h3>Pros</h3>

<ul>
<li>Large Community</li>
</ul>


<h3>Cons</h3>

<ul>
<li>most people using Ubuntu as a Desktop rather than as a Server.</li>
</ul>


<h3>Conclusion</h3>

<p>Not recommended using Ubuntu as a production server.</p>

<p>^<a href="#fnt__1">1)</a>^ running without GUI</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/smarty_101/">Smarty 101</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/smarty_101/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>the smarty is a template engine of php. there are some features of
smarty listed blow:</p>

<ul>
<li>split any UI control in smarty, php only provides the data source</li>
<li>if ‹ and > can&#8217;t parsed as well, we can use \$left_delimiter and
\$right_delimiter instend.</li>
<li>function name is case-<strong>in</strong>sensitive but variable is case-sensitive</li>
</ul>


<h2>Smarty Note</h2>

<h3>Using array veriable in smarty</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>$user = array("firstname" =&gt; "Kent", "lastname" =&gt; "Chiu", "email" =&gt; "kent.chiu@mail.com");
</span><span class='line'>$tpl-&gt;assign("user", $user);
</span><span class='line'>?&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{$user.firstname}
</span><span class='line'>{$user.lastname}
</span><span class='line'>{$user.email}</span></code></pre></td></tr></table></div></figure>


<h3>Using object veriable in smarty</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$obj = new UserObject();
</span><span class='line'>$tpl-&gt;assign("obj", $obj);</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{$obj-&gt;firstname}
</span><span class='line'>{$obj-&gt;lastname}
</span><span class='line'>{$obj-&gt;method()}</span></code></pre></td></tr></table></div></figure>


<h3>Function in Smarty</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{$var|function}
</span><span class='line'>{$var|function:"argument(option)"}</span></code></pre></td></tr></table></div></figure>


<h3>attributes</h3>

<ul>
<li>static values don&#8217;t have to be enclosed in quotes</li>
<li>it is recommended for literal strings</li>
<li>variables should not be in quotes.</li>
<li>boolean value can be specified as true, on, and yes, or false, off,
and no</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{include file="header.tpl"}
</span><span class='line'> 
</span><span class='line'>{include file=$includeFile}
</span><span class='line'> 
</span><span class='line'>{include file=#includeFile#}
</span><span class='line'> 
</span><span class='line'>{html_select_date display_days=yes}
</span><span class='line'> 
</span><span class='line'>&lt;SELECT name=company&gt;
</span><span class='line'>{html_options values=$vals selected=$selected output=$output}
</span><span class='line'>&lt;/SELECT&gt;</span></code></pre></td></tr></table></div></figure>


<h2>variables</h2>

<p>Smarty has several different types of variables. The type of the
variable depends on what symbol it is prefixed with (or enclosed
within).</p>

<h3>variables assigned from php</h3>

<ul>
<li>using the sign&#8217;\$&#8217;</li>
<li>Associative arrays by &#8216;.&#8217; (period) symbol</li>
<li>Array indexes by &#8216;[]&#8217; symbol</li>
<li>Objects by &#8216;→&#8217;</li>
</ul>


<h4>Associative arrays by &#8216;.&#8217; (period) symbol</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$smarty = new Smarty;
</span><span class='line'>$smarty-&gt;assign('Contacts',
</span><span class='line'> array('fax' =&gt; '555-222-9876',
</span><span class='line'> 'email' =&gt; 'zaphod@slartibartfast.com',
</span><span class='line'> 'phone' =&gt; array('home' =&gt; '555-444-3333',
</span><span class='line'> 'cell' =&gt; '555-111-1234')));
</span><span class='line'>$smarty-&gt;display('index.tpl');</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{$Contacts.fax}&lt;br&gt;
</span><span class='line'>{$Contacts.email}&lt;br&gt;
</span><span class='line'>{* you can print arrays of arrays as well *}
</span><span class='line'>{$Contacts.phone.home}&lt;br&gt;
</span><span class='line'>{$Contacts.phone.cell}&lt;br&gt;</span></code></pre></td></tr></table></div></figure>


<h4>Array indexes by &#8216;[]&#8217; symbol</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$smarty = new Smarty;
</span><span class='line'>$smarty-&gt;assign('Contacts', 
</span><span class='line'>                 array('555-222-9876',  'zaphod@slartibartfast.com',  
</span><span class='line'>                       array('555-444-3333', '555-111-1234')));
</span><span class='line'>$smarty-&gt;display('index.tpl');</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{$Contacts[0]}&lt;br&gt;
</span><span class='line'>{$Contacts[1]}&lt;br&gt;
</span><span class='line'>{* you can print arrays of arrays as well *}
</span><span class='line'>{$Contacts[2][0]}&lt;br&gt;
</span><span class='line'>{$Contacts[2][1]}&lt;br&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>555-222-9876&lt;br&gt;
</span><span class='line'>zaphod@slartibartfast.com&lt;br&gt;
</span><span class='line'>555-444-3333&lt;br&gt;
</span><span class='line'>555-111-1234&lt;br&gt;</span></code></pre></td></tr></table></div></figure>


<h4>Objects by &#8216;->&#8217;</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>name: {$person-&gt;name}&lt;br&gt;
</span><span class='line'>email: {$person-&gt;email}&lt;br&gt;</span></code></pre></td></tr></table></div></figure>


<h3>variables loaded from config files</h3>

<p>there are two syntaxes for accessing variables assigned from config
files.</p>

<ol>
<li>enclosed with double &#8216;#&#8217;(sharp mark) , ex: #config#</li>
<li>with smarty variable , ex \$smarty.config</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pageTitle = "This is mine"
</span><span class='line'>bodyBgColor = "#eeeeee"
</span><span class='line'>tableBorderSize = "3"
</span><span class='line'>tableBgColor = "#bbbbbb"
</span><span class='line'>rowBgColor = "#cccccc"</span></code></pre></td></tr></table></div></figure>


<h4>enclose by \</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>config_load file="foo.conf"}
</span><span class='line'>&lt;html&gt;
</span><span class='line'>&lt;title&gt;{#pageTitle#}&lt;/title&gt;
</span><span class='line'>&lt;body bgcolor="{#bodyBgColor#}"&gt;
</span><span class='line'>&lt;table border="{#tableBorderSize#}" bgcolor="{#tableBgColor#}"&gt;
</span><span class='line'>&lt;tr bgcolor="{#rowBgColor#}"&gt;
</span><span class='line'>    &lt;td&gt;First&lt;/td&gt;
</span><span class='line'>    &lt;td&gt;Last&lt;/td&gt;
</span><span class='line'>    &lt;td&gt;Address&lt;/td&gt;
</span><span class='line'>&lt;/tr&gt;
</span><span class='line'>&lt;/table&gt;
</span><span class='line'>&lt;/body&gt;
</span><span class='line'>&lt;/html&gt;</span></code></pre></td></tr></table></div></figure>


<h4>with smarty variable</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{config_load file="foo.conf"}
</span><span class='line'>&lt;html&gt;
</span><span class='line'>&lt;title&gt;{$smarty.config.pageTitle}&lt;/title&gt;
</span><span class='line'>&lt;body bgcolor="{$smarty.config.bodyBgColor}"&gt;
</span><span class='line'>&lt;table border="{$smarty.config.tableBorderSize}" bgcolor="{$smarty.config.tableBgColor}"&gt;
</span><span class='line'>&lt;tr bgcolor="{$smarty.config.rowBgColor}"&gt;
</span><span class='line'>    &lt;td&gt;First&lt;/td&gt;
</span><span class='line'>    &lt;td&gt;Last&lt;/td&gt;
</span><span class='line'>    &lt;td&gt;Address&lt;/td&gt;
</span><span class='line'>&lt;/tr&gt;
</span><span class='line'>&lt;/table&gt;
</span><span class='line'>&lt;/body&gt;
</span><span class='line'>&lt;/html&gt;</span></code></pre></td></tr></table></div></figure>


<h2>{\$smarty} reserved variable</h2>

<ol>
<li>Request variables(get,post,server,session, … etc)</li>
<li>{\$smarty.now}</li>
<li>{\$smarty.const}</li>
<li>{\$smarty.capture}</li>
<li>{\$smarty.config}</li>
<li>{\$smarty.section}, {\$smarty.foreach}</li>
<li>{\$smarty.template}</li>
</ol>


<h3>Request variables</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* display value of page from URL (GET) http://www.domain.com/index.php?page=foo *}
</span><span class='line'>{$smarty.get.page}
</span><span class='line'> 
</span><span class='line'>{* display the variable "page" from a form (POST) *}
</span><span class='line'>{$smarty.post.page}
</span><span class='line'> 
</span><span class='line'>{* display the value of the cookie "username" *}
</span><span class='line'>{$smarty.cookies.username}
</span><span class='line'> 
</span><span class='line'>{* display the server variable "SERVER_NAME" *}
</span><span class='line'>{$smarty.server.SERVER_NAME}
</span><span class='line'> 
</span><span class='line'>{* display the system environment variable "PATH" *}
</span><span class='line'>{$smarty.env.PATH}
</span><span class='line'> 
</span><span class='line'>{* display the php session variable "id" *}
</span><span class='line'>{$smarty.session.id}
</span><span class='line'> 
</span><span class='line'>{* display the variable "username" from merged get/post/cookies/server/env *}
</span><span class='line'>{$smarty.request.username}</span></code></pre></td></tr></table></div></figure>


<h3>{\$smarty.now}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* use the date_format modifier to show current date and time *}
</span><span class='line'>{$smarty.now|date_format:"%Y-%m-%d %H:%M:%S"}</span></code></pre></td></tr></table></div></figure>


<h3>{\$smarty.const}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{$smarty.const._MY_CONST_VAL}</span></code></pre></td></tr></table></div></figure>


<h3>{\$smarty.capture}</h3>

<p>The output captured via {capture}..{/capture} construct can be accessed
using {\$smarty} variable reference to the
<a href="#capture" title="php:smarty:smarty_101 ↵">capture</a> function for more detail.</p>

<h3>{\$smarty.config}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{$smarty} variable can be used to refer to loaded config variables. </span></code></pre></td></tr></table></div></figure>


<p>reference to the <a href="#config_load" title="php:smarty:smarty_101 ↵">config_load</a>
for more detail.</p>

<h3>{\$smarty.section}, {\$smarty.foreach}</h3>

<p>{\$smarty} variable can be used to refer to &#8216;section&#8217; and &#8216;foreach&#8217; loop
properties. See docs for
<a href="#section_sectionelse" title="php:smarty:smarty_101 ↵">section</a> and
<a href="#foreach_foreachelse" title="php:smarty:smarty_101 ↵">foreach</a>.</p>

<h3>{\$smarty.template}</h3>

<p>current template name</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{$smarty.template};
</span><span class='line'>{* output myTemplate.tpl *}</span></code></pre></td></tr></table></div></figure>


<h2>Variable Modifiers</h2>

<ul>
<li><p>applied to</p>

<ol>
<li>variables</li>
<li>custom functions</li>
<li>strings</li>
<li>all php-functions (has two little pitfalls)</li>
</ol>
</li>
<li><p>applied a modifier by |(pipe)</p></li>
<li>additional parameters by :(colon)</li>
<li>apply to array have to using &#8216;@&#8217; or it will apply to all elements of
array.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* apply modifier to a variable *}
</span><span class='line'>{$title|upper}
</span><span class='line'> 
</span><span class='line'>{* modifier with parameters *}
</span><span class='line'>{$title|truncate:40:'...'}
</span><span class='line'> 
</span><span class='line'>{* apply modifier to a function parameter *}
</span><span class='line'>{html_table loop=$myvar|upper}
</span><span class='line'> 
</span><span class='line'>{* with parameters *}
</span><span class='line'>{html_table loop=$myvar|truncate:40:'...'}
</span><span class='line'> 
</span><span class='line'>{* apply modifier to literal string *}
</span><span class='line'>{'foobar'|upper}
</span><span class='line'> 
</span><span class='line'>{* using date_format to format the current date *}
</span><span class='line'>{$smarty.now|date_format:"%Y/%m/%d"}
</span><span class='line'> 
</span><span class='line'>{* apply modifier to a custom function *}
</span><span class='line'>{mailto|upper address='smarty@example.com'}
</span><span class='line'> 
</span><span class='line'>{* using  php's str_repeat *}
</span><span class='line'>{'='|str_repeat:80}
</span><span class='line'> 
</span><span class='line'>{* php's count *}
</span><span class='line'>{$myArray|@count}
</span><span class='line'> 
</span><span class='line'>{* php's shuffle on servers's ip *}
</span><span class='line'>{$smarty.server.SERVER_ADDR|shuffle}
</span><span class='line'> 
</span><span class='line'>(* this will uppercase and truncate the whole array *}
</span><span class='line'>&lt;select name="name_id"&gt;
</span><span class='line'>{html_options output=$myArray|upper|truncate:20}
</span><span class='line'>&lt;/select&gt;</span></code></pre></td></tr></table></div></figure>


<h3>date_format</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'> 
</span><span class='line'>$config['date'] = '%I:%M %p';
</span><span class='line'>$config['time'] = '%H:%M:%S';
</span><span class='line'>$smarty-&gt;assign('config', $config);
</span><span class='line'>$smarty-&gt;assign('yesterday', strtotime('-1 day'));
</span><span class='line'> 
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{$smarty.now|date_format}
</span><span class='line'>{$smarty.now|date_format:"%A, %B %e, %Y"}
</span><span class='line'>{$smarty.now|date_format:"%H:%M:%S"}
</span><span class='line'>{$yesterday|date_format}
</span><span class='line'>{$yesterday|date_format:"%A, %B %e, %Y"}
</span><span class='line'>{$yesterday|date_format:"%H:%M:%S"}
</span><span class='line'>&lt;/ocde&gt;
</span><span class='line'> 
</span><span class='line'>&lt;code |h output&gt;
</span><span class='line'>Jan 1, 2022
</span><span class='line'>01/01/22
</span><span class='line'>02:33 pm
</span><span class='line'>Dec 31, 2021
</span><span class='line'>Monday, December 1, 2021
</span><span class='line'>14:33:00</span></code></pre></td></tr></table></div></figure>


<h4>the formatting control char</h4>

<ul>
<li>%a - abbreviated weekday name according to the current locale</li>
<li>%A - full weekday name according to the current locale</li>
<li>%b - abbreviated month name according to the current locale</li>
<li>%B - full month name according to the current locale</li>
<li>%c - preferred date and time representation for the current locale</li>
<li>%C - century number (the year divided by 100 and truncated to an
integer, range 00 to 99)</li>
<li>%d - day of the month as a decimal number (range 01 to 31)</li>
<li>%D - same as %m/%d/%y</li>
<li>%e - day of the month as a decimal number, a single digit is
preceded by a space (range 1 to 31)</li>
<li>%g - Week-based year within century [00,99]</li>
<li>%G - Week-based year, including the century [0000,9999]</li>
<li>%h - same as %b</li>
<li>%H - hour as a decimal number using a 24-hour clock (range 00 to 23)</li>
<li>%I - hour as a decimal number using a 12-hour clock (range 01 to 12)</li>
<li>%j - day of the year as a decimal number (range 001 to 366)</li>
<li>%k - Hour (24-hour clock) single digits are preceded by a blank.
(range 0 to 23)</li>
<li>%l - hour as a decimal number using a 12-hour clock, single digits
preceeded by a space (range 1 to 12)</li>
<li>%m - month as a decimal number (range 01 to 12)</li>
<li>%M - minute as a decimal number</li>
<li>%n - newline character</li>
<li>%p - either `am&#8217; or `pm&#8217; according to the given time value, or the
corresponding strings for the current locale</li>
<li>%r - time in a.m. and p.m. notation</li>
<li>%R - time in 24 hour notation</li>
<li>%S - second as a decimal number</li>
<li>%t - tab character</li>
<li>%T - current time, equal to %H:%M:%S</li>
<li>%u - weekday as a decimal number [1,7], with 1 representing Monday</li>
<li>%U - week number of the current year as a decimal number, starting
with the first Sunday as the first day of the first week</li>
<li>%V - The ISO 8601:1988 week number of the current year as a decimal
number, range 01 to 53, where week 1 is the first week that has at
least 4 days in the current year, and with Monday as the first day
of the week.</li>
<li>%w - day of the week as a decimal, Sunday being 0</li>
<li>%W - week number of the current year as a decimal number, starting
with the first Monday as the first day of the first week</li>
<li>%x - preferred date representation for the current locale without
the time</li>
<li>%X - preferred time representation for the current locale without
the date</li>
<li>%y - year as a decimal number without a century (range 00 to 99)</li>
<li>%Y - year as a decimal number including the century</li>
<li>%Z - time zone or name or abbreviation</li>
<li>%% - a literal `%&#8217; character</li>
</ul>


<h2>Built-in Functions</h2>

<ul>
<li>{capture}</li>
<li>{config_load}</li>
<li>{foreach},{foreachelse}</li>
<li>{if},{elseif},{else}</li>
<li>{include}</li>
<li>{include_php}</li>
<li>{insert}</li>
<li>{ldelim},{rdelim}</li>
<li>{literal}</li>
<li>{php}</li>
<li>{section},{sectionelse}</li>
<li>{strip}</li>
</ul>


<h3>{capture}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* we don't want to print a div tag unless content is displayed *}
</span><span class='line'>{capture name=banner}
</span><span class='line'>  {include file='get_banner.tpl'}
</span><span class='line'>{/capture}
</span><span class='line'> 
</span><span class='line'>{if $smarty.capture.banner ne ''}
</span><span class='line'>&lt;div id="banner"&gt;{$smarty.capture.banner}&lt;/div&gt;
</span><span class='line'>{/if}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{capture name=some_content assign=popText}
</span><span class='line'>The server is {$smarty.server.SERVER_NAME|upper} at {$smarty.server.SERVER_ADDR}&lt;br&gt;
</span><span class='line'>Your ip is {$smarty.server.REMOTE_ADDR}.
</span><span class='line'>{/capture}
</span><span class='line'>&lt;a href="#" {popup caption='Server Info' text=$popText}&gt;help&lt;/a&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{config_load}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#this is config file comment
</span><span class='line'> 
</span><span class='line'># global variables
</span><span class='line'>pageTitle = "Main Menu"
</span><span class='line'>bodyBgColor = #000000
</span><span class='line'>tableBgColor = #000000
</span><span class='line'>rowBgColor = #00ff00
</span><span class='line'> 
</span><span class='line'>#customer variables section
</span><span class='line'>[Customer]
</span><span class='line'>pageTitle = "Customer Info"</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{config_load file="example.conf"}
</span><span class='line'> 
</span><span class='line'>&lt;html&gt;
</span><span class='line'>&lt;title&gt;{#pageTitle#|default:"No title"}&lt;/title&gt;
</span><span class='line'>&lt;body bgcolor="{#bodyBgColor#}"&gt;
</span><span class='line'>&lt;table border="{#tableBorderSize#}" bgcolor="{#tableBgColor#}"&gt;
</span><span class='line'>   &lt;tr bgcolor="{#rowBgColor#}"&gt;
</span><span class='line'>      &lt;td&gt;First&lt;/td&gt;
</span><span class='line'>      &lt;td&gt;Last&lt;/td&gt;
</span><span class='line'>      &lt;td&gt;Address&lt;/td&gt;
</span><span class='line'>   &lt;/tr&gt;
</span><span class='line'>&lt;/table&gt;
</span><span class='line'>&lt;/body&gt;
</span><span class='line'>&lt;/html&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{config_load file='example.conf' section='Customer'}
</span><span class='line'> 
</span><span class='line'>&lt;html&gt;
</span><span class='line'>&lt;title&gt;{#pageTitle#}&lt;/title&gt;
</span><span class='line'>&lt;body bgcolor="{#bodyBgColor#}"&gt;
</span><span class='line'>&lt;table border="{#tableBorderSize#}" bgcolor="{#tableBgColor#}"&gt;
</span><span class='line'>   &lt;tr bgcolor="{#rowBgColor#}"&gt;
</span><span class='line'>      &lt;td&gt;First&lt;/td&gt;
</span><span class='line'>      &lt;td&gt;Last&lt;/td&gt;
</span><span class='line'>      &lt;td&gt;Address&lt;/td&gt;
</span><span class='line'>   &lt;/tr&gt;
</span><span class='line'>&lt;/table&gt;
</span><span class='line'>&lt;/body&gt;
</span><span class='line'>&lt;/html&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{foreach},{foreachelse}</h3>

<p>{foreach} properties are</p>

<ol>
<li>index</li>
<li>iteration</li>
<li>first</li>
<li>last</li>
<li>show</li>
<li>total</li>
</ol>


<h4>Demonstrates the item attributes</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>$arr = array(1000, 1001, 1002);
</span><span class='line'>$smarty-&gt;assign('myArray', $arr);
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;ul&gt;
</span><span class='line'>{foreach from=$myArray item=foo}
</span><span class='line'>    &lt;li&gt;{$foo}&lt;/li&gt;
</span><span class='line'>{/foreach}
</span><span class='line'>&lt;/ul&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;ul&gt;
</span><span class='line'>    &lt;li&gt;1000&lt;/li&gt;
</span><span class='line'>    &lt;li&gt;1001&lt;/li&gt;
</span><span class='line'>    &lt;li&gt;1002&lt;/li&gt;
</span><span class='line'>&lt;/ul&gt;</span></code></pre></td></tr></table></div></figure>


<h4>Demonstrates the item and key attributes</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>$arr = array(9 =&gt; 'Tennis', 3 =&gt; 'Swimming', 8 =&gt; 'Coding');
</span><span class='line'>$smarty-&gt;assign('myArray', $arr);
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;ul&gt;
</span><span class='line'>{foreach from=$myArray key=k item=v}
</span><span class='line'>   &lt;li&gt;{$k}: {$v}&lt;/li&gt;
</span><span class='line'>{/foreach}
</span><span class='line'>&lt;/ul&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;ul&gt;
</span><span class='line'>    &lt;li&gt;9: Tennis&lt;/li&gt;
</span><span class='line'>    &lt;li&gt;3: Swimming&lt;/li&gt;
</span><span class='line'>    &lt;li&gt;8: Coding&lt;/li&gt;
</span><span class='line'>&lt;/ul&gt;</span></code></pre></td></tr></table></div></figure>


<h4>Database example with {foreachelse}</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>  $search_condition = "where name like '$foo%' ";
</span><span class='line'>  $sql = 'select contact_id, name, nick from contacts '.$search_condition.' order by name';
</span><span class='line'>  $smarty-&gt;assign('results', $db-&gt;getAssoc($sql) );
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{foreach key=cid item=con from=$results}
</span><span class='line'>    &lt;a href="contact.php?contact_id={$cid}"&gt;{$con.name} - {$con.nick}&lt;/a&gt;&lt;br /&gt;
</span><span class='line'>{foreachelse}
</span><span class='line'>    No items were found in the search
</span><span class='line'>{/foreach}</span></code></pre></td></tr></table></div></figure>


<h3>{if},{elseif},{else}</h3>

<p>  Qualifier          Alternates   Syntax Example           Meaning                        PHP Equivalent</p>

<hr />

<p>  ==                 eq           \$a eq \$b               equals                         ==
  !=                 ne, neq      \$a neq \$b              not equals                     !=
  >                 gt           \$a gt \$b               greater than                   >
  &lt;                 lt           \$a lt \$b               less than                      &lt;
  >=                gte, ge      \$a ge \$b               greater than or equal          >=
  ⇐                  lte, le      \$a le \$b               less than or equal             ⇐
  ===                             \$a === 0                check for identity             ===
  !                  not          not \$a                  negation (unary)               !
  %                  mod          \$a mod \$b              modulous                       %
  is [not] div by                 \$a is not div by 4      divisible by                   \$a % \$b == 0
  is [not] even                   \$a is not even          [not] an even number (unary)   \$a % 2 == 0
  is [not] even by                \$a is not even by \$b   grouping level [not] even      (\$a / \$b) % 2 == 0
  is [not] odd                    \$a is not odd           [not] an odd number (unary)    \$a % 2 != 0
  is [not] odd by                 \$a is not odd by \$b    [not] an odd grouping          (\$a / \$b) % 2 != 0</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{if $name eq 'Fred'}
</span><span class='line'>    Welcome Sir.
</span><span class='line'>{elseif $name eq 'Wilma'}
</span><span class='line'>    Welcome Ma'am.
</span><span class='line'>{else}
</span><span class='line'>    Welcome, whatever you are.
</span><span class='line'>{/if}</span></code></pre></td></tr></table></div></figure>


<h3>{include}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{include file="header.tpl" title="Main Menu" table_bgcolor="#c0c0c0" links=$link_array}
</span><span class='line'> 
</span><span class='line'>{* body of template goes here *}
</span><span class='line'> 
</span><span class='line'>{include file="footer.tpl" logo="http://my.domain.com/logo.gif"}</span></code></pre></td></tr></table></div></figure>


<h3>{include_php}</h3>

<p>{include_php} is pretty much deprecated from Smarty, you can accomplish
the same functionality via a custom template function.</p>

<h3>{insert}</h3>

<p>{insert} tags work much like {include} tags, except that {insert} tags
are NOT cached when template caching is enabled. They will be executed
on every invocation of the template.</p>

<p>this function is usful for some content we don&#8217;t want to cache, like AD
banner or something else.</p>

<h3>{ldelim},{rdelim}</h3>

<p>Used to output &#8216;{&#8217; and &#8216;}&#8217;</p>

<h3>{literal}</h3>

<p>any context with in the {literal}{/literal} will not interpreted.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{literal}
</span><span class='line'>&lt;script language=javascript&gt;
</span><span class='line'>&lt;!--
</span><span class='line'>function isblank(field) {
</span><span class='line'>  if (field.value == '') { 
</span><span class='line'>    return false; 
</span><span class='line'>  } else {
</span><span class='line'>    document.loginform.submit();
</span><span class='line'>    return true;
</span><span class='line'>  }
</span><span class='line'>}
</span><span class='line'>// --&gt;
</span><span class='line'>&lt;/script&gt;
</span><span class='line'>{/literal}</span></code></pre></td></tr></table></div></figure>


<h3>{php}</h3>

<p>The {php} tags allow PHP code to be embedded directly into the template.
They will not be escaped, regardless of the \$php_handling setting.
This is for advanced users only, not normally needed and <strong>not
recommended</strong>.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* this template includes a {php} block that assign's the variable $varX *}
</span><span class='line'>{php}
</span><span class='line'>   global $foo, $bar;
</span><span class='line'>   if($foo == $bar){
</span><span class='line'>     echo 'This will be sent to browser';
</span><span class='line'>   }
</span><span class='line'>  // assign a variable to Smarty
</span><span class='line'>  $this-&gt;assign('varX','Toffee');
</span><span class='line'>{/php}
</span><span class='line'>{* output the variable *}
</span><span class='line'>&lt;strong&gt;{$varX}&lt;/strong&gt; is my fav ice cream :-)</span></code></pre></td></tr></table></div></figure>


<h3>{section},{sectionelse}</h3>

<p>A {section} is for looping over arrays of data, unlike {foreach} which
is used to loop over a single associative array. Every {section} tag
must be paired with a closing {/section} tag.</p>

<p>{section} properties are</p>

<ol>
<li>index</li>
<li>index_prev</li>
<li>index_next</li>
<li>iteration</li>
<li>first</li>
<li>last</li>
<li>rownum</li>
<li>loop</li>
<li>show</li>
<li>total.</li>
</ol>


<h4>Nested {section}</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'> 
</span><span class='line'>$id = array(1001,1002,1003);
</span><span class='line'>$smarty-&gt;assign('custid',$id);
</span><span class='line'> 
</span><span class='line'>$fullnames = array('John Smith','Jack Jones','Jane Munson');
</span><span class='line'>$smarty-&gt;assign('name',$fullnames);
</span><span class='line'> 
</span><span class='line'>$addr = array('253 N 45th', '417 Mulberry ln', '5605 apple st');
</span><span class='line'>$smarty-&gt;assign('address',$addr);
</span><span class='line'> 
</span><span class='line'>$types = array(
</span><span class='line'>           array( 'home phone', 'cell phone', 'e-mail'),
</span><span class='line'>           array( 'home phone', 'web'),
</span><span class='line'>           array( 'cell phone')
</span><span class='line'>         );
</span><span class='line'>$smarty-&gt;assign('contact_type', $types);
</span><span class='line'> 
</span><span class='line'>$info = array(
</span><span class='line'>           array('555-555-5555', '666-555-5555', 'john@myexample.com'),
</span><span class='line'>           array( '123-456-4', 'www.example.com'),
</span><span class='line'>           array( '0457878')
</span><span class='line'>        );
</span><span class='line'>$smarty-&gt;assign('contact_info', $info);
</span><span class='line'> 
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{section name=customer loop=$custid}
</span><span class='line'>&lt;hr&gt;
</span><span class='line'>  id: {$custid[customer]}&lt;br /&gt;
</span><span class='line'>  name: {$name[customer]}&lt;br /&gt;
</span><span class='line'>  address: {$address[customer]}&lt;br /&gt;
</span><span class='line'>  {section name=contact loop=$contact_type[customer]}
</span><span class='line'>    {$contact_type[customer][contact]}: {$contact_info[customer][contact]}&lt;br /&gt;
</span><span class='line'>  {/section}
</span><span class='line'>{/section}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;hr&gt;
</span><span class='line'>  id: 1000&lt;br /&gt;
</span><span class='line'>  name: John Smith&lt;br /&gt;
</span><span class='line'>  address: 253 N 45th&lt;br /&gt;
</span><span class='line'>    home phone: 555-555-5555&lt;br /&gt;
</span><span class='line'>    cell phone: 666-555-5555&lt;br /&gt;
</span><span class='line'>    e-mail: john@myexample.com&lt;br /&gt;
</span><span class='line'>&lt;hr&gt;
</span><span class='line'>  id: 1001&lt;br /&gt;
</span><span class='line'>  name: Jack Jones&lt;br /&gt;
</span><span class='line'>  address: 417 Mulberry ln&lt;br /&gt;
</span><span class='line'>    home phone: 123-456-4&lt;br /&gt;
</span><span class='line'>    web: www.example.com&lt;br /&gt;
</span><span class='line'>&lt;hr&gt;
</span><span class='line'>  id: 1002&lt;br /&gt;
</span><span class='line'>  name: Jane Munson&lt;br /&gt;
</span><span class='line'>  address: 5605 apple st&lt;br /&gt;
</span><span class='line'>    cell phone: 0457878&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<h4>Database sample with {sectionelse}</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>$sql = 'select id, name, home, cell, email from contacts '
</span><span class='line'>      ."where name like '$foo%' ";
</span><span class='line'>$smarty-&gt;assign('contacts', $db-&gt;getAll($sql));
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;table&gt;
</span><span class='line'>&lt;tr&gt;&lt;th&gt;&nbsp;&lt;/th&gt;&lt;th&gt;Name&gt;&lt;/th&gt;&lt;th&gt;Home&lt;/th&gt;&lt;th&gt;Cell&lt;/th&gt;&lt;th&gt;Email&lt;/th&gt;&lt;/tr&gt;
</span><span class='line'>{section name=co loop=$contacts}
</span><span class='line'>  &lt;tr&gt;
</span><span class='line'>    &lt;td&gt;&lt;a href="view.php?id={$contacts[co].id}"&gt;view&lt;a&gt;&lt;/td&gt;
</span><span class='line'>    &lt;td&gt;{$contacts[co].name}&lt;/td&gt;
</span><span class='line'>    &lt;td&gt;{$contacts[co].home}&lt;/td&gt;
</span><span class='line'>    &lt;td&gt;{$contacts[co].cell}&lt;/td&gt;
</span><span class='line'>    &lt;td&gt;{$contacts[co].email}&lt;/td&gt;
</span><span class='line'>  &lt;tr&gt;
</span><span class='line'>{sectionelse}
</span><span class='line'>  &lt;tr&gt;&lt;td colspan="5"&gt;No items found&lt;/td&gt;&lt;/tr&gt;
</span><span class='line'>{/section}
</span><span class='line'>&lt;/table&gt;</span></code></pre></td></tr></table></div></figure>


<h4>.index, .index_prev, .index_next</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>$data = array(1001,1002,1003,1004,1005);
</span><span class='line'>$smarty-&gt;assign('rows',$data);
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* $rows[row.index] and $rows[row] are identical in meaning *}
</span><span class='line'>&lt;table&gt;
</span><span class='line'>  &lt;tr&gt;
</span><span class='line'>    &lt;th&gt;index&lt;/th&gt;&lt;th&gt;id&lt;/th&gt;
</span><span class='line'>    &lt;th&gt;index_prev&lt;/th&gt;&lt;th&gt;prev_id&lt;/th&gt;
</span><span class='line'>    &lt;th&gt;index_next&lt;/th&gt;&lt;th&gt;next_id&lt;/th&gt;
</span><span class='line'>  &lt;/tr&gt;
</span><span class='line'>{section name=row loop=$rows}
</span><span class='line'>  &lt;tr&gt;
</span><span class='line'>    &lt;td&gt;{$smarty.section.row.index}&lt;/td&gt;&lt;td&gt;{$rows[row]}&lt;/td&gt;
</span><span class='line'>    &lt;td&gt;{$smarty.section.row.index_prev}&lt;/td&gt;&lt;td&gt;{$rows[row.index_prev]}&lt;/td&gt;
</span><span class='line'>    &lt;td&gt;{$smarty.section.row.index_next}&lt;/td&gt;&lt;td&gt;{$rows[row.index_next]}&lt;/td&gt;
</span><span class='line'>  &lt;/tr&gt;
</span><span class='line'>{/section}
</span><span class='line'>&lt;/table&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>index  id    index_prev prev_id index_next next_id
</span><span class='line'>0      1001  -1                 1          1002
</span><span class='line'>1      1002  0          1001    2          1003
</span><span class='line'>2      1003  1          1002    3          1004
</span><span class='line'>3      1004  2          1003    4          1005
</span><span class='line'>4      1005  3          1004    5</span></code></pre></td></tr></table></div></figure>


<h4>.show</h4>

<p>show is used as a parameter to section and is a boolean value. If FALSE,
the section will not be displayed. If there is a {sectionelse} present,
that will be alternately displayed.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{section name=customer loop=$customers show=$show_customer_info}
</span><span class='line'>  {$smarty.section.customer.rownum} id: {$customers[customer]}&lt;br /&gt;
</span><span class='line'>{/section}
</span><span class='line'> 
</span><span class='line'>{if $smarty.section.customer.show}
</span><span class='line'>  the section was shown.
</span><span class='line'>{else}
</span><span class='line'>  the section was not shown.
</span><span class='line'>{/if}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>1 id: 1000&lt;br /&gt;
</span><span class='line'>2 id: 1001&lt;br /&gt;
</span><span class='line'>3 id: 1002&lt;br /&gt;
</span><span class='line'> 
</span><span class='line'>the section was shown.</span></code></pre></td></tr></table></div></figure>


<h3>{strip}</h3>

<p>Many times web designers run into the issue where white space and
carriage returns affect the output of the rendered HTML (browser
“features”), so you must run all your tags together in the template to
get the desired results. This usually ends up in unreadable or
unmanageable templates. Anything within {strip}{/strip} tags are
stripped of the extra spaces or carriage returns at the beginnings and
ends of the lines before they are displayed. This way you can keep your
templates readable, and not worry about extra white space causing
problems.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* the following will be all run into one line upon output *}
</span><span class='line'>{strip}
</span><span class='line'>&lt;table border='0'&gt;
</span><span class='line'> &lt;tr&gt;
</span><span class='line'>  &lt;td&gt;
</span><span class='line'>   &lt;a href="{$url}"&gt;
</span><span class='line'>    &lt;font color="red"&gt;This is a test&lt;/font&gt;
</span><span class='line'>   &lt;/a&gt;
</span><span class='line'>  &lt;/td&gt;
</span><span class='line'> &lt;/tr&gt;
</span><span class='line'>&lt;/table&gt;
</span><span class='line'>{/strip}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;table border='0'&gt;&lt;tr&gt;&lt;td&gt;&lt;a href="http://. snipped...&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</span></code></pre></td></tr></table></div></figure>


<p>if any white space or &#8216;CR&#8217; charachter affect web layout, we could use
{srip} to avoid it</p>

<h2>Custom Functions</h2>

<p>Smarty comes with several custom functions that you can use in the
templates.</p>

<ul>
<li>{assign}</li>
<li>{counter}</li>
<li>{cycle}</li>
<li>{debug}</li>
<li>{eval}</li>
<li>{fetch}</li>
<li>{html_checkboxes}</li>
<li>{html_image}</li>
<li>{html_options}</li>
<li>{html_radios}</li>
<li>{html_select_date}</li>
<li>{html_select_time}</li>
<li>{html_table}</li>
<li>{mailto}</li>
<li>{math}</li>
<li>{popup}</li>
<li>{popup_init}</li>
<li>{textformat}</li>
</ul>


<h3>{assign}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{assign var='name' value='Bob'}
</span><span class='line'>The value of $name is {$name}.</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>The value of $name is Bob.</span></code></pre></td></tr></table></div></figure>


<p>examples 2:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{assign var=running_total value=`$running_total+$some_array[row].some_value`}</span></code></pre></td></tr></table></div></figure>


<h3>{counter}</h3>

<p>{counter} will remember the count on each iteration.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* initialize the count *}
</span><span class='line'>{counter start=0 skip=2}&lt;br /&gt;
</span><span class='line'>{counter}&lt;br /&gt;
</span><span class='line'>{counter}&lt;br /&gt;
</span><span class='line'>{counter}&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>0&lt;br /&gt;
</span><span class='line'>2&lt;br /&gt;
</span><span class='line'>4&lt;br /&gt;
</span><span class='line'>6&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{cycle}</h3>

<p>{cycle} is used to alternate a set of values. This makes it easy to for
example, alternate between two or more colors in a table, or cycle
through an array of values.</p>

<ul>
<li>the advance attribute is used to repeat a value. When set to FALSE,
the next call to {cycle} will print the same value.</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{section name=rows loop=$data}
</span><span class='line'>&lt;tr bgcolor="{cycle values="#eeeeee,#d0d0d0"}"&gt;
</span><span class='line'>   &lt;td&gt;{$data[rows]}&lt;/td&gt;
</span><span class='line'>&lt;/tr&gt;
</span><span class='line'>{/section}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;tr bgcolor="#eeeeee"&gt;
</span><span class='line'>   &lt;td&gt;1&lt;/td&gt;
</span><span class='line'>&lt;/tr&gt;
</span><span class='line'>&lt;tr bgcolor="#d0d0d0"&gt;
</span><span class='line'>   &lt;td&gt;2&lt;/td&gt;
</span><span class='line'>&lt;/tr&gt;
</span><span class='line'>&lt;tr bgcolor="#eeeeee"&gt;
</span><span class='line'>   &lt;td&gt;3&lt;/td&gt;
</span><span class='line'>&lt;/tr&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{debug}</h3>

<p>{debug} dumps the debug console to the page. This works regardless of
the debug settings in the php script.</p>

<h3>{eval}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>emphstart = &lt;strong&gt;
</span><span class='line'>emphend = &lt;/strong&gt;
</span><span class='line'>title = Welcome to {$company}'s home page!
</span><span class='line'>ErrorCity = You must supply a {#emphstart#}city{#emphend#}.
</span><span class='line'>ErrorState = You must supply a {#emphstart#}state{#emphend#}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{config_load file='setup.conf'}
</span><span class='line'> 
</span><span class='line'>{eval var=$foo}
</span><span class='line'>{eval var=#title#}
</span><span class='line'>{eval var=#ErrorCity#}
</span><span class='line'>{eval var=#ErrorState# assign='state_error'}
</span><span class='line'>{$state_error}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>This is the contents of foo.
</span><span class='line'>Welcome to Foobar Pub & Grill's home page!
</span><span class='line'>You must supply a &lt;strong&gt;city&lt;/strong&gt;.
</span><span class='line'>You must supply a &lt;strong&gt;state&lt;/strong&gt;.</span></code></pre></td></tr></table></div></figure>


<h3>{fetch}</h3>

<p>{fetch} is used to retrieve files from the local file system, http, or
ftp and display the contents.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* include some javascript in your template *}
</span><span class='line'>{fetch file='/export/httpd/www.example.com/docs/navbar.js'}
</span><span class='line'> 
</span><span class='line'>{* embed some weather text in your template from another web site *}
</span><span class='line'>{fetch file='http://www.myweather.com/68502/'}
</span><span class='line'> 
</span><span class='line'>{* fetch a news headline file via ftp *}
</span><span class='line'>{fetch file='ftp://user:password@ftp.example.com/path/to/currentheadlines.txt'}
</span><span class='line'>{* as above but with variables *}
</span><span class='line'>{fetch file="ftp://`$user`:`$password`@`$server`/`$path`"}
</span><span class='line'> 
</span><span class='line'>{* assign the fetched contents to a template variable *}
</span><span class='line'>{fetch file='http://www.myweather.com/68502/' assign='weather'}
</span><span class='line'>{if $weather ne ''}
</span><span class='line'>  &lt;div id="weather"&gt;{$weather}&lt;/div&gt;
</span><span class='line'>{/if}</span></code></pre></td></tr></table></div></figure>


<h3>{html_checkboxes}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'> 
</span><span class='line'>$smarty-&gt;assign('cust_ids', array(1000,1001,1002,1003));
</span><span class='line'>$smarty-&gt;assign('cust_names', array(
</span><span class='line'>                                'Joe Schmoe',
</span><span class='line'>                                'Jack Smith',
</span><span class='line'>                                'Jane Johnson',
</span><span class='line'>                                'Charlie Brown')
</span><span class='line'>                              );
</span><span class='line'>$smarty-&gt;assign('customer_id', 1001);
</span><span class='line'> 
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{html_checkboxes name='id' values=$cust_ids output=$cust_names 
</span><span class='line'>   selected=$customer_id  separator='&lt;br /&gt;'}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;label&gt;&lt;input type="checkbox" name="id[]" value="1000" /&gt;Joe Schmoe&lt;/label&gt;&lt;br /&gt;
</span><span class='line'>&lt;label&gt;&lt;input type="checkbox" name="id[]" value="1001" checked="checked" /&gt;Jack Smith&lt;/label&gt;
</span><span class='line'>&lt;br /&gt;
</span><span class='line'>&lt;label&gt;&lt;input type="checkbox" name="id[]" value="1002" /&gt;Jane Johnson&lt;/label&gt;&lt;br /&gt;
</span><span class='line'>&lt;label&gt;&lt;input type="checkbox" name="id[]" value="1003" /&gt;Charlie Brown&lt;/label&gt;&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{html_image}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{html_image file='pumpkin.jpg'}
</span><span class='line'>{html_image file='/path/from/docroot/pumpkin.jpg'}
</span><span class='line'>{html_image file='../path/relative/to/currdir/pumpkin.jpg'}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;img src="pumpkin.jpg" alt="" width="44" height="68" /&gt;
</span><span class='line'>&lt;img src="/path/from/docroot/pumpkin.jpg" alt="" width="44" height="68" /&gt;
</span><span class='line'>&lt;img src="../path/relative/to/currdir/pumpkin.jpg" alt="" width="44" height="68" /&gt;</span></code></pre></td></tr></table></div></figure>


<p>Technical Note: {html_image} requires a hit to the disk to read the
image and calculate the height and width. If you don&#8217;t use template
caching, it is generally better to avoid {html_image} and leave image
tags static for optimal performance.</p>

<h3>{html_options}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>$smarty-&gt;assign('myOptions', array(
</span><span class='line'>                                1800 =&gt; 'Joe Schmoe',
</span><span class='line'>                                9904 =&gt; 'Jack Smith',
</span><span class='line'>                                2003 =&gt; 'Charlie Brown')
</span><span class='line'>                                );
</span><span class='line'>$smarty-&gt;assign('mySelect', 9904);
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{html_options name=foo options=$myOptions selected=$mySelect}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;select name="foo"&gt;
</span><span class='line'>&lt;option label="Joe Schmoe" value="1800"&gt;Joe Schmoe&lt;/option&gt;
</span><span class='line'>&lt;option label="Jack Smith" value="9904" selected="selected"&gt;Jack Smith&lt;/option&gt;
</span><span class='line'>&lt;option label="Charlie Brown" value="2003"&gt;Charlie Brown&lt;/option&gt;
</span><span class='line'>&lt;/select&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{html_radios}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'> 
</span><span class='line'>$smarty-&gt;assign('cust_ids', array(1000,1001,1002,1003));
</span><span class='line'>$smarty-&gt;assign('cust_names', array(
</span><span class='line'>                              'Joe Schmoe',
</span><span class='line'>                              'Jack Smith',
</span><span class='line'>                              'Jane Johnson',
</span><span class='line'>                              'Charlie Brown')
</span><span class='line'>                              );
</span><span class='line'>$smarty-&gt;assign('customer_id', 1001);
</span><span class='line'> 
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{html_radios name='id' values=$cust_ids output=$cust_names
</span><span class='line'>       selected=$customer_id separator='&lt;br /&gt;'}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;label for="id_1000"&gt;
</span><span class='line'>&lt;input type="radio" name="id" value="1000" id="id_1000" /&gt;Joe Schmoe&lt;/label&gt;&lt;br /&gt;
</span><span class='line'>&lt;label for="id_1001"&gt;&lt;input type="radio" name="id" value="1001" id="id_1001" checked="checked" /&gt;Jack Smith&lt;/label&gt;&lt;br /&gt;
</span><span class='line'>&lt;label for="id_1002"&gt;&lt;input type="radio" name="id" value="1002" id="id_1002" /&gt;Jane Johnson&lt;/label&gt;&lt;br /&gt;
</span><span class='line'>&lt;label for="id_1003"&gt;&lt;input type="radio" name="id" value="1003" id="id_1003" /&gt;Charlie Brown&lt;/label&gt;&lt;br /&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{html_select_date}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{html_select_date}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;select name="Date_Month"&gt;
</span><span class='line'>&lt;option value="1"&gt;January&lt;/option&gt;
</span><span class='line'>&lt;option value="2"&gt;February&lt;/option&gt;
</span><span class='line'>&lt;option value="3"&gt;March&lt;/option&gt;
</span><span class='line'>  ..... snipped .....
</span><span class='line'>&lt;option value="10"&gt;October&lt;/option&gt;
</span><span class='line'>&lt;option value="11"&gt;November&lt;/option&gt;
</span><span class='line'>&lt;option value="12" selected="selected"&gt;December&lt;/option&gt;
</span><span class='line'>&lt;/select&gt;
</span><span class='line'>&lt;select name="Date_Day"&gt;
</span><span class='line'>&lt;option value="1"&gt;01&lt;/option&gt;
</span><span class='line'>&lt;option value="2"&gt;02&lt;/option&gt;
</span><span class='line'>&lt;option value="3"&gt;03&lt;/option&gt;
</span><span class='line'>  ..... snipped .....
</span><span class='line'>&lt;option value="11"&gt;11&lt;/option&gt;
</span><span class='line'>&lt;option value="12"&gt;12&lt;/option&gt;
</span><span class='line'>&lt;option value="13" selected="selected"&gt;13&lt;/option&gt;
</span><span class='line'>&lt;option value="14"&gt;14&lt;/option&gt;
</span><span class='line'>&lt;option value="15"&gt;15&lt;/option&gt;
</span><span class='line'>  ..... snipped .....
</span><span class='line'>&lt;option value="29"&gt;29&lt;/option&gt;
</span><span class='line'>&lt;option value="30"&gt;30&lt;/option&gt;
</span><span class='line'>&lt;option value="31"&gt;31&lt;/option&gt;
</span><span class='line'>&lt;/select&gt;
</span><span class='line'>&lt;select name="Date_Year"&gt;
</span><span class='line'>&lt;option value="2006" selected="selected"&gt;2006&lt;/option&gt;
</span><span class='line'>&lt;/select&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{html_select_time}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{html_select_time use_24_hours=true}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;select name="Time_Hour"&gt;
</span><span class='line'>&lt;option value="00"&gt;00&lt;/option&gt;
</span><span class='line'>&lt;option value="01"&gt;01&lt;/option&gt;
</span><span class='line'>... snipped ....
</span><span class='line'>&lt;option value="08"&gt;08&lt;/option&gt;
</span><span class='line'>&lt;option value="09" selected&gt;09&lt;/option&gt;
</span><span class='line'>&lt;option value="10"&gt;10&lt;/option&gt;
</span><span class='line'>... snipped ....
</span><span class='line'>&lt;option value="22"&gt;22&lt;/option&gt;
</span><span class='line'>&lt;option value="23"&gt;23&lt;/option&gt;
</span><span class='line'>&lt;/select&gt;
</span><span class='line'>&lt;select name="Time_Minute"&gt;
</span><span class='line'>&lt;option value="00"&gt;00&lt;/option&gt;
</span><span class='line'>&lt;option value="01"&gt;01&lt;/option&gt;
</span><span class='line'>... snipped ....
</span><span class='line'>&lt;option value="19"&gt;19&lt;/option&gt;
</span><span class='line'>&lt;option value="20" selected&gt;20&lt;/option&gt;
</span><span class='line'>&lt;option value="21"&gt;21&lt;/option&gt;
</span><span class='line'>... snipped ....
</span><span class='line'>&lt;option value="58"&gt;58&lt;/option&gt;
</span><span class='line'>&lt;option value="59"&gt;59&lt;/option&gt;
</span><span class='line'>&lt;/select&gt;
</span><span class='line'>&lt;select name="Time_Second"&gt;
</span><span class='line'>&lt;option value="00"&gt;00&lt;/option&gt;
</span><span class='line'>&lt;option value="01"&gt;01&lt;/option&gt;
</span><span class='line'>... snipped ....
</span><span class='line'>&lt;option value="22"&gt;22&lt;/option&gt;
</span><span class='line'>&lt;option value="23" selected&gt;23&lt;/option&gt;
</span><span class='line'>&lt;option value="24"&gt;24&lt;/option&gt;
</span><span class='line'>... snipped ....
</span><span class='line'>&lt;option value="58"&gt;58&lt;/option&gt;
</span><span class='line'>&lt;option value="59"&gt;59&lt;/option&gt;
</span><span class='line'>&lt;/select&gt;
</span><span class='line'>&lt;select name="Time_Meridian"&gt;
</span><span class='line'>&lt;option value="am" selected&gt;AM&lt;/option&gt;
</span><span class='line'>&lt;option value="pm"&gt;PM&lt;/option&gt;
</span><span class='line'>&lt;/select&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{html_table}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>$smarty-&gt;assign( 'data', array(1,2,3,4,5,6,7,8,9) );
</span><span class='line'>$smarty-&gt;assign( 'tr', array('bgcolor="#eeeeee"','bgcolor="#dddddd"') );
</span><span class='line'>$smarty-&gt;display('index.tpl');
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{**** Example One ****}
</span><span class='line'>{html_table loop=$data}
</span><span class='line'> 
</span><span class='line'>{**** Example Two ****}
</span><span class='line'>{html_table loop=$data cols=4 table_attr='border="0"'}
</span><span class='line'> 
</span><span class='line'>{**** Example Three ****}
</span><span class='line'>{html_table loop=$data cols="first,second,third,fourth" tr_attr=$tr}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;!-- example One output --&gt;
</span><span class='line'>&lt;table border="1"&gt;
</span><span class='line'>&lt;tbody&gt;
</span><span class='line'>&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;/tr&gt;
</span><span class='line'>&lt;tr&gt;&lt;td&gt;4&lt;/td&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;/tr&gt;
</span><span class='line'>&lt;tr&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;td&gt;9&lt;/td&gt;&lt;/tr&gt;
</span><span class='line'>&lt;/tbody&gt;
</span><span class='line'>&lt;/table&gt;
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'>&lt;!-- example Two output --&gt;
</span><span class='line'>&lt;table border="0"&gt;
</span><span class='line'>&lt;tbody&gt;
</span><span class='line'>&lt;tr&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
</span><span class='line'>&lt;tr&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;/tr&gt;
</span><span class='line'>&lt;tr&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;&nbsp;&lt;/td&gt;&lt;td&gt;&nbsp;&lt;/td&gt;&lt;td&gt;&nbsp;&lt;/td&gt;&lt;/tr&gt;
</span><span class='line'>&lt;/tbody&gt;
</span><span class='line'>&lt;/table&gt;
</span><span class='line'> 
</span><span class='line'>&lt;!-- example Three output --&gt;
</span><span class='line'>&lt;table border="1"&gt;
</span><span class='line'>&lt;thead&gt;
</span><span class='line'>&lt;tr&gt;
</span><span class='line'>&lt;th&gt;first&lt;/th&gt;&lt;th&gt;second&lt;/th&gt;&lt;th&gt;third&lt;/th&gt;&lt;th&gt;fourth&lt;/th&gt;
</span><span class='line'>&lt;/tr&gt;
</span><span class='line'>&lt;/thead&gt;
</span><span class='line'>&lt;tbody&gt;
</span><span class='line'>&lt;tr bgcolor="#eeeeee"&gt;&lt;td&gt;1&lt;/td&gt;&lt;td&gt;2&lt;/td&gt;&lt;td&gt;3&lt;/td&gt;&lt;td&gt;4&lt;/td&gt;&lt;/tr&gt;
</span><span class='line'>&lt;tr bgcolor="#dddddd"&gt;&lt;td&gt;5&lt;/td&gt;&lt;td&gt;6&lt;/td&gt;&lt;td&gt;7&lt;/td&gt;&lt;td&gt;8&lt;/td&gt;&lt;/tr&gt;
</span><span class='line'>&lt;tr bgcolor="#eeeeee"&gt;&lt;td&gt;9&lt;/td&gt;&lt;td&gt;&nbsp;&lt;/td&gt;&lt;td&gt;&nbsp;&lt;/td&gt;&lt;td&gt;&nbsp;&lt;/td&gt;&lt;/tr&gt;
</span><span class='line'>&lt;/tbody&gt;
</span><span class='line'>&lt;/table&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{mailto}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{mailto address="me@example.com"}
</span><span class='line'>&lt;a href="mailto:me@example.com" &gt;me@example.com&lt;/a&gt;
</span><span class='line'> 
</span><span class='line'>{mailto address="me@example.com" text="send me some mail"}
</span><span class='line'>&lt;a href="mailto:me@example.com" &gt;send me some mail&lt;/a&gt;
</span><span class='line'> 
</span><span class='line'>{mailto address="me@example.com" encode="javascript"}
</span><span class='line'>&lt;script type="text/javascript" language="javascript"&gt;
</span><span class='line'>   eval(unescape('%64%6f% ... snipped ...%61%3e%27%29%3b'))
</span><span class='line'>&lt;/script&gt;
</span><span class='line'> 
</span><span class='line'>{mailto address="me@example.com" encode="hex"}
</span><span class='line'>&lt;a href="mailto:%6d%65.. snipped..3%6f%6d"&gt;&#x6d;&..snipped...#x6f;&#x6d;&lt;/a&gt;
</span><span class='line'> 
</span><span class='line'>{mailto address="me@example.com" subject="Hello to you!"}
</span><span class='line'>&lt;a href="mailto:me@example.com?subject=Hello%20to%20you%21" &gt;me@example.com&lt;/a&gt;
</span><span class='line'> 
</span><span class='line'>{mailto address="me@example.com" cc="you@example.com,they@example.com"}
</span><span class='line'>&lt;a href="mailto:me@example.com?cc=you@example.com%2Cthey@example.com" &gt;me@example.com&lt;/a&gt;
</span><span class='line'> 
</span><span class='line'>{mailto address="me@example.com" extra='class="email"'}
</span><span class='line'>&lt;a href="mailto:me@example.com" class="email"&gt;me@example.com&lt;/a&gt;
</span><span class='line'> 
</span><span class='line'>{mailto address="me@example.com" encode="javascript_charcode"}
</span><span class='line'>&lt;script type="text/javascript" language="javascript"&gt;
</span><span class='line'>    &lt;!--
</span><span class='line'>    {document.write(String.fromCharCode(60,97, ... snipped ....60,47,97,62))}
</span><span class='line'>    //--&gt;
</span><span class='line'>&lt;/script&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{math}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* ====== example a =====   *}
</span><span class='line'>{* $height=4, $width=5 *}
</span><span class='line'>{math equation="x + y" x=$height y=$width}
</span><span class='line'> 
</span><span class='line'>{* output is 9 *}
</span><span class='line'> 
</span><span class='line'>{* ====== example b =====   *}
</span><span class='line'>{* $row_height = 10, $row_width = 20, #col_div# = 2, assigned in template *}
</span><span class='line'> 
</span><span class='line'>{math equation="height * width / division"
</span><span class='line'>  height=$row_height
</span><span class='line'>  width=$row_width
</span><span class='line'>  division=#col_div#}
</span><span class='line'> 
</span><span class='line'>{* output is 100 *}
</span><span class='line'> 
</span><span class='line'>{* ====== example c =====   *}
</span><span class='line'>{* you can use parenthesis *}
</span><span class='line'>{math equation="(( x + y ) / z )" x=2 y=10 z=2}
</span><span class='line'> 
</span><span class='line'>{* output is 6 *}
</span><span class='line'> 
</span><span class='line'>{* ====== example d =====   *}
</span><span class='line'>{* you can supply a format parameter in sprintf format *}
</span><span class='line'> 
</span><span class='line'>{math equation="x + y" x=4.4444 y=5.0000 format="%.2f"}
</span><span class='line'>{* output is 9.44 *}</span></code></pre></td></tr></table></div></figure>


<h3>{popup}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* popup_init must be called once at the top of the page *}
</span><span class='line'>{popup_init src='/javascripts/overlib.js'}
</span><span class='line'> 
</span><span class='line'>{* create a link with a popup window when you move your mouse over *}
</span><span class='line'>&lt;a href="mypage.html" {popup text='This link takes you to my page!'}&gt;mypage&lt;/a&gt;
</span><span class='line'> 
</span><span class='line'>{* you can use html, links, etc in your popup text *}
</span><span class='line'>&lt;a href="mypage.html" {popup sticky=true caption='mypage contents'
</span><span class='line'>text="&lt;ul&gt;&lt;li&gt;links&lt;/li&gt;&lt;li&gt;pages&lt;/li&gt;&lt;li&gt;images&lt;/li&gt;&lt;/ul&gt;"
</span><span class='line'>snapx=10 snapy=10 trigger='onClick'}&gt;mypage&lt;/a&gt;
</span><span class='line'> 
</span><span class='line'>{* a popup  over a table cell *}
</span><span class='line'>&lt;tr&gt;&lt;td {popup caption='Part details' text=$part_long_description}&gt;{$part_number}&lt;/td&gt;&lt;/tr&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{popup_init}</h3>

<p>{popup} is an integration of overLib, a library used for popup windows.
These are used for context sensitive information, such as help windows
or tooltips.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;head&gt;
</span><span class='line'>{* popup_init must be called once at the top of the page *}
</span><span class='line'>{popup_init src='javascripts/overlib/overlib.js'}
</span><span class='line'> 
</span><span class='line'>{* fully qualified url example *}
</span><span class='line'>{popup_init src='http://myserver.org/my_js_libs/overlib/overlib.js'}
</span><span class='line'>&lt;/head&gt;
</span><span class='line'> 
</span><span class='line'>// the first example will output
</span><span class='line'>&lt;head&gt;
</span><span class='line'>&lt;div id="overDiv" style="position:absolute; visibility:hidden; z-index:1000;"&gt;&lt;/div&gt;
</span><span class='line'>&lt;script type="text/javascript" language="JavaScript" src="javascripts/overlib/overlib.js"&gt;&lt;/script&gt;
</span><span class='line'>&lt;/head&gt;</span></code></pre></td></tr></table></div></figure>


<h3>{textformat}</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{textformat wrap=40 indent=4}
</span><span class='line'> 
</span><span class='line'>   This is foo.
</span><span class='line'>   This is foo.
</span><span class='line'>   This is foo.
</span><span class='line'>   This is foo.
</span><span class='line'>   This is foo.
</span><span class='line'>   This is foo.
</span><span class='line'> 
</span><span class='line'>   This is bar.
</span><span class='line'> 
</span><span class='line'>   bar foo bar foo     foo.
</span><span class='line'>   bar foo bar foo     foo.
</span><span class='line'>   bar foo bar foo     foo.
</span><span class='line'>   bar foo bar foo     foo.
</span><span class='line'>   bar foo bar foo     foo.
</span><span class='line'>   bar foo bar foo     foo.
</span><span class='line'>   bar foo bar foo     foo.
</span><span class='line'> 
</span><span class='line'>{/textformat}</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>This is foo. This is foo. This
</span><span class='line'>   is foo. This is foo. This is foo.
</span><span class='line'>   This is foo.
</span><span class='line'> 
</span><span class='line'>   This is bar.
</span><span class='line'> 
</span><span class='line'>   bar foo bar foo foo. bar foo bar
</span><span class='line'>   foo foo. bar foo bar foo foo. bar
</span><span class='line'>   foo bar foo foo. bar foo bar foo
</span><span class='line'>   foo. bar foo bar foo foo. bar foo
</span><span class='line'>   bar foo foo.</span></code></pre></td></tr></table></div></figure>


<h2>debug in smarty</h2>

<p>Expect to use <a href="#debug" title="php:smarty:smarty_101 ↵">{debug}</a>, an other way
is enabled smarty debugger will pop a windows and display all useful
information within it (a.k.a <a href="http://www.smarty.net/manual/en/chapter.debugging.console.php" title="http://www.smarty.net/manual/en/chapter.debugging.console.php">debuging
console</a>).</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$smarty-&gt;debugging = true;
</span><span class='line'>$smarty-&gt;debug_tpl = SMARTY_DIR . "debug.tpl";</span></code></pre></td></tr></table></div></figure>


<p>you can also combine the
<a href="http://www.php-debug.com/www/index.php" title="http://www.php-debug.com/www/index.php">PHP_Debug</a>
with smarty debugger page, check
<a href="http://www.phpinsider.com/smarty-forum/viewtopic.php?t=11125" title="http://www.phpinsider.com/smarty-forum/viewtopic.php?t=11125">here</a>
to get more details.</p>

<h2>Constants</h2>

<ul>
<li>SMARTY_DIR - full system path</li>
<li>SMARTY_CORE_DIR - full system path to the location of the Smarty
core files</li>
</ul>


<h2>Smarty Class Variables</h2>

<ul>
<li>\$template_dir</li>
<li>\$compile_dir</li>
<li>\$config_dir</li>
<li>\$plugins_dir</li>
<li>\$debugging</li>
<li>\$debug_tpl</li>
<li>\$debugging_ctrl</li>
<li>\$autoload_filters</li>
<li>\$compile_check</li>
<li>\$force_compile</li>
<li>\$caching</li>
<li>\$cache_dir</li>
<li>\$cache_lifetime</li>
<li>\$cache_handler_func</li>
<li>\$cache_modified_check</li>
<li>\$config_overwrite</li>
<li>\$config_booleanize</li>
<li>\$config_read_hidden</li>
<li>\$config_fix_newlines</li>
<li>\$default_template_handler_func</li>
<li>\$php_handling</li>
<li>\$security</li>
<li>\$secure_dir</li>
<li>\$security_settings</li>
<li>\$trusted_dir-</li>
<li>\$left_delimiter</li>
<li>\$right_delimiter</li>
<li>\$compiler_class</li>
<li>\$request_vars_order</li>
<li>\$request_use_auto_globals</li>
<li>\$error_reporting</li>
<li>\$compile_id</li>
<li>\$use_sub_dirs</li>
<li>\$default_modifiers</li>
<li>\$default_resource_type</li>
</ul>


<h2>Smarty Class Methods</h2>

<ul>
<li>append() – append an element to an assigned array</li>
<li>append_by_ref() – append values by reference</li>
<li>assign() – assign values to the templates</li>
<li>assign_by_ref() – assign values by reference</li>
<li>clear_all_assign() – clears the values of all assigned variables</li>
<li>clear_all_cache() – clears the entire template cache</li>
<li>clear_assign() – clears the value of an assigned variable</li>
<li>clear_cache() – clears the cache for a specific template</li>
<li>clear_compiled_tpl() – clears the compiled version of the
specified template resource</li>
<li>clear_config() – clears assigned config variables</li>
<li>config_load() – loads config file data and assigns it to the
template</li>
<li>display() – displays the template</li>
<li>fetch() – returns the template output</li>
<li>get_config_vars() – returns the given loaded config variable value</li>
<li>get_registered_object() – returns a reference to a registered
object</li>
<li>get_template_vars() – returns assigned variable value(s)</li>
<li>is_cached() – returns true if there is a valid cache for this
template</li>
<li>load_filter() – load a filter plugin</li>
<li>register_block() – dynamically register block functions plugins</li>
<li>register_compiler_function() – dynamically register a compiler
function plugin</li>
<li>register_function() – dynamically register template function
plugins</li>
<li>register_modifier() – dynamically register modifier plugin</li>
<li>register_object() – register an object for use in the templates</li>
<li>register_outputfilter() – dynamically register outputfilters</li>
<li>register_postfilter() – dynamically register postfilters</li>
<li>register_prefilter() – dynamically register prefilters</li>
<li>register_resource() – dynamically register resources</li>
<li>trigger_error() – output an error message</li>
<li>template_exists() – checks whether the specified template exists</li>
<li>unregister_block() – dynamically unregister block function plugins</li>
<li>unregister_compiler_function() – dynamically unregister a compiler
function</li>
<li>unregister_function – dynamically unregister template function
plugin</li>
<li>unregister_modifier() – dynamically unregister modifier plugin</li>
<li>unregister_object() – dynamically unregister an object</li>
<li>unregister_outputfilter() – dynamically unregister an output filter</li>
<li>unregister_postfilter() – dynamically unregister a postfilter</li>
<li>unregister_prefilter() – dynamically unregister a prefilter</li>
<li>unregister_resource() – dynamically unregister a resource plugin</li>
</ul>


<h2>Caching</h2>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>require('Smarty.class.php');
</span><span class='line'>$smarty = new Smarty;
</span><span class='line'> 
</span><span class='line'>$smarty-&gt;caching = 1;
</span><span class='line'> 
</span><span class='line'>$smarty-&gt;display('index.tpl');
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>


<h3>is_cached()</h3>

<p>The is_cached() function can be used to test if a template has a valid
cache or not. If you have a cached template that requires something like
a database fetch, you can use this to skip that process.</p>

<p>WYou can keep parts of a page dynamic with the {insert} template
function. Let&#8217;s say the whole page can be cached except for a banner
that is displayed down the side of the page. By using the {insert}
function for the banner, you can keep this element dynamic within the
cached content.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>require('Smarty.class.php');
</span><span class='line'>$smarty = new Smarty;
</span><span class='line'> 
</span><span class='line'>$smarty-&gt;caching = 1;
</span><span class='line'> 
</span><span class='line'>if(!$smarty-&gt;is_cached('index.tpl')) {
</span><span class='line'>    // No cache available, do variable assignments here.
</span><span class='line'>    $contents = get_database_contents();
</span><span class='line'>    $smarty-&gt;assign($contents);
</span><span class='line'>}
</span><span class='line'> 
</span><span class='line'>$smarty-&gt;display('index.tpl');
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>


<h2>push objects to page</h2>

<ol>
<li>register objects to the template. (<strong>RECOMMANDED</strong>)</li>
<li>assign() or assign_by_ref() function.</li>
</ol>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>// the object
</span><span class='line'> 
</span><span class='line'>class My_Object {
</span><span class='line'>    function meth1($params, &$smarty_obj) {
</span><span class='line'>        return 'this is my meth1';
</span><span class='line'>    }
</span><span class='line'>}
</span><span class='line'> 
</span><span class='line'>$myobj = new My_Object;
</span><span class='line'> 
</span><span class='line'>// registering the object (will be by reference)
</span><span class='line'>$smarty-&gt;register_object('foobar',$myobj);
</span><span class='line'> 
</span><span class='line'>// if we want to restrict access to certain methods or properties, list them
</span><span class='line'>$smarty-&gt;register_object('foobar',$myobj,array('meth1','meth2','prop1'));
</span><span class='line'> 
</span><span class='line'>// if you want to use the traditional object parameter format, pass a boolean of false
</span><span class='line'>$smarty-&gt;register_object('foobar',$myobj,null,false);
</span><span class='line'> 
</span><span class='line'>// We can also assign objects. assign_by_ref when possible.
</span><span class='line'>$smarty-&gt;assign_by_ref('myobj', $myobj);
</span><span class='line'> 
</span><span class='line'>$smarty-&gt;display('index.tpl');
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{* access our registered object *}
</span><span class='line'>{foobar-&gt;meth1 p1='foo' p2=$bar}
</span><span class='line'> 
</span><span class='line'>{* you can also assign the output *}
</span><span class='line'>{foobar-&gt;meth1 p1='foo' p2=$bar assign='output'}
</span><span class='line'>the output was {$output}
</span><span class='line'> 
</span><span class='line'>{* access our assigned object *}
</span><span class='line'>{$myobj-&gt;meth1('foo',$bar)}</span></code></pre></td></tr></table></div></figure>


<h2>Filters</h2>

<ol>
<li>prefilters - activated before templates complied</li>
<li>postfilters - activated after templates complied</li>
<li>output filters - invoked by display() or fetch()</li>
</ol>


<h3>prefilters</h3>

<p>Can be used for filter out some information that should not output to
browser, ex: comment</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>// put this in your application
</span><span class='line'>function remove_dw_comments($tpl_source, &$smarty)
</span><span class='line'>{
</span><span class='line'>    return preg_replace("/&lt;!--#.*--&gt;/U",'',$tpl_source);
</span><span class='line'>}
</span><span class='line'> 
</span><span class='line'>// register the prefilter
</span><span class='line'>$smarty-&gt;register_prefilter('remove_dw_comments');
</span><span class='line'>$smarty-&gt;display('index.tpl');
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>


<h3>postfilters</h3>

<p>it is useful if want to add some content to all templates.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php
</span><span class='line'>// put this in your application
</span><span class='line'>function add_header_comment($tpl_source, &$smarty)
</span><span class='line'>{
</span><span class='line'>    return "&lt;?php echo \"&lt;!-- Created by Smarty! --&gt;\n\"; ?&gt;\n".$tpl_source;
</span><span class='line'>}
</span><span class='line'> 
</span><span class='line'>// register the postfilter
</span><span class='line'>$smarty-&gt;register_postfilter('add_header_comment');
</span><span class='line'>$smarty-&gt;display('index.tpl');
</span><span class='line'>?&gt; </span></code></pre></td></tr></table></div></figure>


<p>the postfilter above will make the compiled Smarty template index.tpl
look like:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;!-- Created by Smarty! --&gt;
</span><span class='line'>{* rest of template content... *}</span></code></pre></td></tr></table></div></figure>


<h3>output filters</h3>

<p><strong>TBD</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/smalltalk_best_practice_patterns_study_note/">Smalltalk Best Practice Patterns閱讀筆記</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/smalltalk_best_practice_patterns_study_note/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Smalltalk Best Practice Patterns是Kent
Beck的經典之著，書名看起來是Smalltalk語言的最佳實踐，但一樣適合在其他語言。本書承習著K.B的寫書的特色，輕薄短小，字字珠磯。以下是我一邊閱讀時一邊紀錄下的筆記，我這本書沒有很細仔去看，但是大約的掠過，所以可能對內容上會有誤解。</p>

<h2>程式風格 (Style)</h2>

<p>這邊的風格不是只是狹義的程式風格慣例(convention)，而是一些程式撰寫時的Style。程式好的風格如下：</p>

<ul>
<li>Once and only once - 不要有重覆的程式碼</li>
<li>Lots of little pieces - 短一點的method</li>
<li>Replacing objects - a.k.a code for interface</li>
<li>Moving objects - Another property of systems with good style is that
their objects can be easily moved to new contexts</li>
<li>Rates of change - don’t put two rates of change together</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/simplexml/">SimpleXML</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/simplexml/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><ul>
<li>access single element by name</li>
<li>access multi elements by array with name</li>
</ul>


<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;members&gt;
</span><span class='line'>    &lt;user id="kent"&gt;Kent Chiu&lt;/user&gt;
</span><span class='line'>    &lt;user id="leon"&gt;Leon Wong&lt;/user&gt;
</span><span class='line'>&lt;/members&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>  $members = simplexml_load_file('member.xml'); // root
</span><span class='line'>    $root-&gt;user[0]; // Kent Chiu
</span><span class='line'>    $root-&gt;user[1]; // Leon Wong
</span><span class='line'>        $root-&gt;user[0][id]; // kent
</span><span class='line'>    $root-&gt;user[0] = 'DraculaCwg'; // now Kent Chiu is replaced to DraculaCwg
</span><span class='line'>    $root-&gt;user[2] = "New User"; // appends a node 
</span><span class='line'>    $root-&gt;user[2][id] = "new";</span></code></pre></td></tr></table></div></figure>


<h2>Resources</h2>

<ul>
<li><a href="http://tw2.php.net/manual/en/book.simplexml.php" title="http://tw2.php.net/manual/en/book.simplexml.php">SimpleXML at
PHP.net</a></li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/show_log_in_eclipse_console/">Show Log in Eclipse Console</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/show_log_in_eclipse_console/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Using eclipse <strong>External Tools configuration</strong> to run a tail program to
keep monitor log files.</p>

<p><img src="/images/wiki/php/show_log_in_eclipse_console_01.png" alt="show_log_in_eclipse_console_01.png" /></p>

<p>Please ensure you have should tail program</p>

<ul>
<li>Location: point to your tail program</li>
<li>Working Directory: Using <strong>Browse Workspace</strong> to select your project
node.</li>
<li>Arguments: -f &lt;log file name></li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/11/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/9/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/05/17/my-intellij-idea-shortcut/">My IntelliJ IDEA Shortcut</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/12/jesper-report-font-issue/">Jesper Report, IReport 匯出成中文PDF</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/12/jasperreport-101/">JasperReport 101</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/06/mac-tips/">Mac Tips</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/22/clean-code/">Clean Code閱讀筆記</a>
      </li>
    
  </ul>
</section>

Included file &#8216;asides/twitter.html&#8217; not found in _includes directory



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Kent -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'kentchiu';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
