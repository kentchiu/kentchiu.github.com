
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Kent's Blog</title>
  <meta name="author" content="Kent">

  
  <meta name="description" content="這邊採用Behavior_Driven_Development所建議的User
Story格式進行撰寫，簡介可以看這裡或者是這裡 1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
Title (one line describing the story)
  &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.kent-chiu.com/blog/page/9">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Kent's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39152849-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Kent's Blog</a></h1>
  
    <h2>Kent的學習筆記(剛從dokuwiki搬過來，內容還在整修中)</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.kent-chiu.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/user_story/">User Story簡介</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/user_story/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>這邊採用<a href="http://en.wikipedia.org/wiki/Behavior_Driven_Development" title="http://en.wikipedia.org/wiki/Behavior_Driven_Development">Behavior_Driven_Development</a>所建議的User
Story格式進行撰寫，簡介可以看<a href="http://dannorth.net/whats-in-a-story" title="http://dannorth.net/whats-in-a-story">這裡</a>或者是<a href="http://c2.com/cgi/wiki?UserStoryTemplate" title="http://c2.com/cgi/wiki?UserStoryTemplate">這裡</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Title (one line describing the story)
</span><span class='line'> 
</span><span class='line'>Narrative:
</span><span class='line'>As a [role]
</span><span class='line'>I want [feature]
</span><span class='line'>So that [benefit]
</span><span class='line'> 
</span><span class='line'>Acceptance Criteria: (presented as Scenarios)
</span><span class='line'> 
</span><span class='line'>Scenario 1: Title
</span><span class='line'>Given [context] And [some more context]...
</span><span class='line'>When [event]
</span><span class='line'>Then [outcome] And [another outcome]...
</span><span class='line'> 
</span><span class='line'>Scenario 2: ...</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Story: Account Holder withdraws cash
</span><span class='line'> 
</span><span class='line'>As an Account Holder
</span><span class='line'>I want to withdraw cash from an ATM
</span><span class='line'>So that I can get money when the bank is closed
</span><span class='line'> 
</span><span class='line'>Scenario 1: Account has sufficient funds
</span><span class='line'>Given the account balance is \$100 And the card is valid And the machine contains enough money
</span><span class='line'>When the Account Holder requests \$20
</span><span class='line'>Then the ATM should dispense \$20 And the account balance should be \$80 And the card should be returned
</span><span class='line'> 
</span><span class='line'>Scenario 2: Account has insufficient funds
</span><span class='line'>Given the account balance is \$10 And the card is valid And the machine contains enough money
</span><span class='line'>When the Account Holder requests \$20
</span><span class='line'>Then the ATM should not dispense any money And the ATM should say there are insufficient funds And the account balance should be \$20 And the card should be returned
</span><span class='line'> 
</span><span class='line'>Scenario 3: Card has been disabled
</span><span class='line'>Given the card is disabled
</span><span class='line'>When the Account Holder requests \$20
</span><span class='line'>Then the ATM should retain the card
</span><span class='line'>And the ATM should say the card has been retained
</span><span class='line'> 
</span><span class='line'>Scenario 4: The ATM has insufficient funds
</span><span class='line'>...</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/upgrade_php_to_5.3.x/">Upgrade PHP to 5.3</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/upgrade_php_to_5.3.x/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>wget http://download.fedora.redhat.com/pub/epel/5/i386/epel-release-5-3.noarch.rpm
</span><span class='line'>wget http://rpms.famillecollet.com/enterprise/remi-release-5.rpm
</span><span class='line'>rpm -Uvh remi-release-5*.rpm epel-release-5*.rpm
</span><span class='line'>yum --enablerepo=remi update php</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>php -v
</span><span class='line'> 
</span><span class='line'>PHP 5.3.0 (cli) (built: Jul 19 2009 17:55:08)
</span><span class='line'>Copyright (c) 1997-2009 The PHP Group
</span><span class='line'>Zend Engine v2.3.0, Copyright (c) 1998-2009 Zend Technologies</span></code></pre></td></tr></table></div></figure>


<p>if you got dependency issue, you should also update mysql as same time
use this command</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>yum --enablerepo=remi update php mysql</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/update_or_delete_from_subquery_result/">Update or Delete With Subquery Reslut</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/update_or_delete_from_subquery_result/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>if you try to delete a table and that table is using in subquery like
this</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>DELETE FROM table_a WHERE col_a IN (SELECT col_a FROM table_a) </span></code></pre></td></tr></table></div></figure>


<p>The syntax will cause a error says “You can&#8217;t specify target table &#8216;m&#8217;
for update in FROM clause”, error code is 1093. This is cause by MYSQL
DON&#8217;T support update table which also used in subquery.</p>

<p>The solution is using alias like this</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>DELETE FROM table_a WHERE col_a IN (SELECT col_a FROM (SELECT col_a FROM table_a) AS table_x)</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/top-down_v.s_bottom-up_design/">由上而下 vs 由下至上 的設計</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/top-down_v.s_bottom-up_design/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>在開始IDCView專案時，因為底層的模型相對複雜，在用Prototype <a href="http://www.balsamiq.com/products/mockups" title="http://www.balsamiq.com/products/mockups">Balsamiq
Mockups</a>^<a href="#fn__1">1)</a>^軟體繪製完成後，就用<a href="http://wiki.kent-chiu.com/doku.php?id=prog:top-down_v.s_bottom-up_design" title="prog:top-down_v.s_bottom-up_design">Domain
Driven
Design</a>的方式對底層的電力設備模型進行分析。模型塑模(modeling)到可開發程度後，就<strong>很真覺</strong>的寫了一些API去操作這些模型。結果就很<strong>順理成章</strong>的採用了Bottom-Up(由下至上)的設計開發方式。</p>

<p>整個架構，為了搭配語言及現有的API^<a href="#fn__2">2)</a>^特性，並沒有使用Rich
Domain而是採POJO的設計方式，採用了4個主要的layers為<code>presentation → application → service → domain object(POJO)</code>。</p>

<p>在一段開發時間後，寫了好一堆個人認為應該相當好用的APIs(service
layer)，就打算套到servlet裡，就在這個時侯才發現，設計出來的API，在他的client
(servlet)裡，並沒有那麼好用，總是需要額外的加工，才有辦法使用這些services或者是要好幾個api
called才能完成一件事。在發現這個問題後，就改用Top-down的方式開發，事情就順利多了，而且每個設計出來的service也都剛好符合servlet的使用，並不需要太多的加工就可以有合適的service可以用，service的methods數量也大幅的減少。</p>

<p>所以，個人認為Top-down的方式比較能達到<a href="http://wiki.kent-chiu.com/doku.php?id=prog:k.i.s.s" title="prog:k.i.s.s">K.I.S.S</a>的效果，尤其是對採用<a href="http://wiki.kent-chiu.com/doku.php?id=prog:tdd" title="prog:tdd">TDD</a>開發方式的人來說，因為TDD有一個準備動作，就是列出所有待測的TODOs，然後挑一個最簡單的來實作。這樣，其實很容易造成太多用不到的API，因為，基本上這樣的設計方式，是在在設計一個完整的元件，而不是<strong>剛好夠用</strong>元件。</p>

<p>整個開發流程是：</p>

<ol>
<li>確定網頁大概會傳入/傳出那些參數</li>
<li>撰寫 servlet test cases</li>
<li>撰寫 servlet</li>
<li>決定需要的service API</li>
<li>Mock service API</li>
<li>servlet完成</li>
<li>撰寫 service test cases</li>
<li>實作 service interface</li>
<li>用DBUnit模擬db</li>
</ol>


<p>在<em>確定網頁大概會傳入/傳出那些參數</em>後，即可決定servlet的大致動作，然後就可以<em>撰寫
servlet test
cases</em>來<strong>mock</strong>參數的傳入及<strong>verify</strong>參數的傳出，然後，即可進行<em>撰寫
servlet</em>來滿足servlet test cases，但是servlet需要service來完成 business
logic，而且，因為是直接servlet裡決定service的api<strong>長相</strong>(此時要假設有一個完美的service
api可以解決掉你的問題，並為這個api取一個直覺的名字)，所以，通常比較能設計出清楚而直接的service
api，接著，用mock的方式來mock service
api的動作，一方面可以比較快速的得到一個可以動的api，另一方面可以為設計做一個較乾淨的切割。接再讓Servlet的test
cases通過測試了。</p>

<p>再來就是service
API的實作，如果實作部份跟資料庫有關，就用DBUnit來確定service會正常動作，而不是用mockup的方式了。</p>

<p>改採Top-down最大的收獲是最終的設計比較符合<a href="http://wiki.kent-chiu.com/doku.php?id=prog:k.i.s.s" title="prog:k.i.s.s">K.I.S.S</a>的原則，但元件的很多<del>不必要</del>很好用功能的功能就不見了，所以，以後，萬一、如果、可能、或許要用到時，就得再加進去了。</p>

<p>&lt;node
warn>本文並是不在說Bottom-Up的設計不可取，而是要看需求，之前在開發Framework或Component
base的程式時，反而是Bottom-Up比較適合，因為，你永遠不知道，別人會怎麼來使用你的API&lt;/note></p>

<h1>Service Design</h1>

<p>在前幾個模組的設計，對於service
layer是採用一個模組(或servlet)只有一個service的設計方式，而且每個service只有一個interface(class
file)，也只有一個相對的實作，一開始的動機為了讓模組間切割的更乾淨，但這樣做，會造成了不少重覆實作的Bad
Smell，所以，最後為了去掉這些重覆，就還是改回多個services的架構.</p>

<p>改成一個模組多個services的架構後，service的interface不但簡化了許多，而且更符合<a href="http://wiki.kent-chiu.com/doku.php?id=prog:ood_5_principles#srp" title="prog:ood_5_principles">SRP</a>，也消除了更多的重覆，更讓整體架構往更佳的方向前進，所以，去除重覆是很多最佳實踐的基石。</p>

<p>^<a href="#fnt__1">1)</a>^ 再次感謝佛心的Balsamiq送我一個lincense</p>

<p>^<a href="#fnt__2">2)</a>^ JPA</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/the_use_the_index_luke_study_note/">The Use Thd index,Luke 學習筆記</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/the_use_the_index_luke_study_note/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>這篇的內容，主要是記錄 <a href="http://use-the-index-luke.com" title="http://use-the-index-luke.com">Use the
index,Luke</a>
這本線上書籍的學習筆記。 內容大部份取自該網站。</p>

<p>關於 <a href="http://use-the-index-luke.com" title="http://use-the-index-luke.com">Use the
index,Luke</a>
這本書：這本書是以Open
Document的方式公佈在網路上，有網頁版及pdf版可以下載，
本書的內容主要描述database
index的方方面面，該書作者認為對一個開發人員來說，對於database的性能調教，只需要瞭解index就很足够了。</p>

<h2>Anatomy of an SQL Index</h2>

<h3>The Leaf Nodes</h3>

<p><img src="/images/wiki/database/the_use_the_index_luke_study_note_001.png" alt="the_use_the_index_luke_study_note_001.png" /></p>

<ul>
<li>大部分的database的index設計多以B-Tree結構實作</li>
<li>index本身不為database的一部分,是另外存放在table之外</li>
<li>index是在database的block或page上操作</li>
<li>index結構小且固定，易於排序或異動操作</li>
<li>一個indexed data對應到一個table row，indexed data是排序過的，但table
data本身是沒有排序過的</li>
<li>indexed data的排序不是簡單的由大到小，或由小大而，而是balanced
search tree (B-Tree)的排序結構</li>
</ul>


<h3>The Tree</h3>

<p><img src="/images/wiki/database/the_use_the_index_luke_study_note_002.png" alt="the_use_the_index_luke_study_note_002.png" /></p>

<ul>
<li>B-Tree的每一個node有兩個以上的值，會由小到大排列</li>
<li>B-Tree的next level的節點的最後一個值，會為上一級節點的值</li>
<li>同一個level的節點內的值也會由小到大依序排列</li>
<li>值可以是重覆的</li>
</ul>


<p><img src="/images/wiki/database/the_use_the_index_luke_study_note_003.png" alt="the_use_the_index_luke_study_note_003.png" /></p>

<ul>
<li>以據B-Tree，可以很快的找任一個節點</li>
<li>以要找值”57”來說，從root開始找的規則如上圖所示

<ol>
<li>root找57介於39到83之間，找出下一級(level
2)的節點的最大節為83的節點</li>
<li>找到level2的節點為
46,53,57,83，裡面已有我們要的值”57”，再依上述的規則找level3的節點</li>
<li>找到level3的節點為
55,57,57,此節點已經是葉節點(leaf)，所以，即為我們的要節點</li>
</ol>
</li>
</ul>


<p>一般數百萬的資料，tree的深度約在4\~5層，最糟的情形下，tree的深度也不應該大於7層</p>

<h3>Slow Indexes</h3>

<p>即使使用了index，search的動作還是有可能很慢，主要的原因發生在以下兩個操作</p>

<ol>
<li>Scanning a wider range than intended</li>
<li>Table access</li>
</ol>


<h5>Scanning a wider range than intended</h5>

<p>像上例中，57的使在leaf
node出現了兩次，這代表如果有需要，database會對這個兩個57的子節點做更多的比對，而這種情形，在index愈大時，愈容易發生</p>

<h5>Table access</h5>

<p>在最糟的情形下，每一個rowid可能分佈在不同的table
block，這表示database需要讀入更多的table
block才能完成操作，另句話說，如果所有的rowid分佈在同一個table
block，那麼只需讀一個table block就可以完成search</p>

<h2>The Where Clause</h2>

<h3>The Equals Operator</h3>

<p>以下以此table的schema為例</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>CREATE TABLE employees (
</span><span class='line'>   employee_id   NUMBER         NOT NULL,
</span><span class='line'>   first_name    VARCHAR2(1000) NOT NULL,
</span><span class='line'>   last_name     VARCHAR2(1000) NOT NULL,
</span><span class='line'>   date_of_birth DATE           NOT NULL,
</span><span class='line'>   phone_number  VARCHAR2(1000) NOT NULL,
</span><span class='line'>   CONSTRAINT employees_pk PRIMARY KEY (employee_id)
</span><span class='line'>);</span></code></pre></td></tr></table></div></figure>


<p>employee_id是pk，針對pk做query後得到的execution plan如下</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>SELECT first_name, last_name
</span><span class='line'>  FROM employees
</span><span class='line'> WHERE employee_id = 123
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'>-----------------------------------------------------------------
</span><span class='line'>| Id | Operation                   | Name         | Rows | Cost |
</span><span class='line'>-----------------------------------------------------------------
</span><span class='line'>|  0 | SELECT STATEMENT            |              |    1 |    2 |
</span><span class='line'>|  1 |  TABLE ACCESS BY INDEX ROWID| EMPLOYEES    |    1 |    2 |
</span><span class='line'>|* 2 |   INDEX UNIQUE SCAN         | EMPLOYEES_PK |    1 |    1 |
</span><span class='line'>-----------------------------------------------------------------
</span><span class='line'> 
</span><span class='line'>Predicate Information (IDENTIFIED BY operation id):
</span><span class='line'>---------------------------------------------------
</span><span class='line'>   2 - access("EMPLOYEE_ID"=123)</span></code></pre></td></tr></table></div></figure>


<p>由上面的結果可以看到此sql是透過速度最快的<em>INDEX UNIQUE
SCAN</em>執行，可以得到唯一的結果，然後需再透過<em>TABLE ACCESS BY INDEX
ROWID</em>取得”first_name”, “last_name”， 取”first_name”,
“last_name”是透過<a href="#the_leaf_nodes" title="database:the_use_the_index_luke_study_note">The Leaf Nodes</a>方式，所以速度很快</p>

<p>如果在EMPLOYEE_ID再加入一個sub ID時，讓employee_id,
subsidiary_id成為一個UNIQUE INDEX</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>CREATE UNIQUE INDEX employee_pk 
</span><span class='line'>    ON employees (employee_id, subsidiary_id);</span></code></pre></td></tr></table></div></figure>


<p>當where條件中，同時包含employee_id, subsidiary_id, 就會用INDEX UNIQUE
SCAN</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>SELECT first_name, last_name
</span><span class='line'>  FROM employees
</span><span class='line'> WHERE employee_id   = 123
</span><span class='line'>   AND subsidiary_id = 30;
</span><span class='line'> 
</span><span class='line'>-----------------------------------------------------------------
</span><span class='line'>| Id | Operation                   | Name         | Rows | Cost |
</span><span class='line'>-----------------------------------------------------------------
</span><span class='line'>|  0 | SELECT STATEMENT            |              |    1 |    2 |
</span><span class='line'>|  1 |  TABLE ACCESS BY INDEX ROWID| EMPLOYEES    |    1 |    2 |
</span><span class='line'>|* 2 |   INDEX UNIQUE SCAN         | EMPLOYEES_PK |    1 |    1 |
</span><span class='line'>-----------------------------------------------------------------
</span><span class='line'> 
</span><span class='line'>Predicate Information (IDENTIFIED BY operation id):
</span><span class='line'>---------------------------------------------------
</span><span class='line'>   2 - access("EMPLOYEE_ID"=123 AND "SUBSIDIARY_ID"=30)   </span></code></pre></td></tr></table></div></figure>


<p>但如果where條件中，只用到SUBSIDIARY_ID，那便會用效率不好的TABLE ACCESS
FULL (Full Table Scan)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>SELECT first_name, last_name
</span><span class='line'>  FROM employees
</span><span class='line'> WHERE subsidiary_id = 20;
</span><span class='line'> 
</span><span class='line'>----------------------------------------------------
</span><span class='line'>| Id | Operation         | Name      | Rows | Cost |
</span><span class='line'>----------------------------------------------------
</span><span class='line'>|  0 | SELECT STATEMENT  |           |  110 |  477 |
</span><span class='line'>|* 1 |  TABLE ACCESS FULL| EMPLOYEES |  110 |  477 |
</span><span class='line'>----------------------------------------------------
</span><span class='line'> 
</span><span class='line'>Predicate Information (IDENTIFIED BY operation id):
</span><span class='line'>---------------------------------------------------
</span><span class='line'>   1 - filter("SUBSIDIARY_ID"=20)</span></code></pre></td></tr></table></div></figure>


<p>因為查詢時，是查詢以下的結構</p>

<p><img src="/images/wiki/database/the_use_the_index_luke_study_note_004.png" alt="the_use_the_index_luke_study_note_004.png" /></p>

<p>如果要讓查詢更有效率，可SUBSIDIARY_ID再為加上的一個的index，就會由FULL
TABLE SCAN變成INDEX RANGE SCAN</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>---------------------------------------------------------------
</span><span class='line'>| Id | Operation                   | Name       | Rows | Cost |
</span><span class='line'>---------------------------------------------------------------
</span><span class='line'>|  0 | SELECT STATEMENT            |            |  110 |   77 |
</span><span class='line'>|  1 |  TABLE ACCESS BY INDEX ROWID| EMPLOYEES  |  110 |   77 |
</span><span class='line'>|* 2 |   INDEX RANGE SCAN          | EMP_SUP_ID |  110 |    1 |
</span><span class='line'>---------------------------------------------------------------
</span><span class='line'>
</span><span class='line'>Predicate Information (identified by operation id):
</span><span class='line'>---------------------------------------------------
</span><span class='line'>   2 - access("SUBSIDIARY_ID"=20)</span></code></pre></td></tr></table></div></figure>


<h4>Execution Plan分析</h4>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>SELECT first_name, last_name, subsidiary_id, phone_number
</span><span class='line'>  FROM employees
</span><span class='line'> WHERE last_name  = 'WINAND'
</span><span class='line'>   AND subsidiary_id = 30;</span></code></pre></td></tr></table></div></figure>


<p>如果用以上條件查詢，會產出</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>-----------------------------------------------------------------
</span><span class='line'>| Id | Operation                   | Name         | Rows | Cost |
</span><span class='line'>-----------------------------------------------------------------
</span><span class='line'>|  0 | SELECT STATEMENT            |              |    1 |   30 |
</span><span class='line'>|* 1 |  TABLE ACCESS BY INDEX ROWID| EMPLOYEES    |    1 |   30 |
</span><span class='line'>|* 2 |   INDEX RANGE SCAN          | EMPLOYEES_PK |   40 |    2 |
</span><span class='line'>-----------------------------------------------------------------
</span><span class='line'> 
</span><span class='line'>Predicate Information (IDENTIFIED BY operation id):
</span><span class='line'>---------------------------------------------------
</span><span class='line'>   1 - filter("LAST_NAME"='WINAND')
</span><span class='line'>   2 - access("SUBSIDIARY_ID"=30)</span></code></pre></td></tr></table></div></figure>


<p>我們一步步解說database做了什麼事</p>

<ol>
<li>第一步是<em>INDEX RANGE SCAN</em>它的id是2，對應到”2 -
access(“SUBSIDIARY_ID”=30)“，它會在index
tree，找出第一個”SUBSIDIARY_ID”=30的leaf node，透過這個leaf
node可以找出所有相符的資料(可能會有相當多筆，此例中是40筆)</li>
<li>第二步是<em>TABLE ACCESS BY INDEX
ROWID</em>會取出ROWID相對的整個資料列(row)，有了整個資料列，便可執行filter(“LAST_NAME”=&#8217;WINAND&#8217;)的動作。</li>
</ol>


<p>在原來有index的欄位上做&#8217;UPPER&#8221;之類的function，會讓查詢變成FULL TABLE
SCAN</p>

<p>用Bind Parameters可以有以下兩個益處</p>

<ol>
<li>Security 可以避免SQL Injection</li>
<li>Performance Optimizer會重用cache住的sql statement，如果執行的sql
statement相當的相似。</li>
</ol>


<h3>Searching For Ranges</h3>

<p>SQL的查詢的操作運算子(EX:
&lt;,>,between,…)可以執行基於key的查找，而<strong>查詢欄位的順序</strong>對這類查詢的效能，會有巨大的影響。</p>

<h2>Execution Plan</h2>

<h3>Oracle Scripts</h3>

<h3>PostgreSQL Scripts</h3>

<p>要觀查PostgreSQL的Execution Plan只需要在要執行的statement前加上 EXPLAIN</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>EXPLAIN SELECT * FROM MY_TABLE</span></code></pre></td></tr></table></div></figure>


<p>如果SQL Statement中有bind parameter (\$1, \$2, …)，就必需先進行prepare</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>PREPARE stmt(int) AS SELECT $1;</span></code></pre></td></tr></table></div></figure>


<p>然後再EXPLAIN EXECUTE</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>EXPLAIN EXECUTE stmt(1);</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'> QUERY PLAN
</span><span class='line'>------------------------------------------
</span><span class='line'> Result  (cost=0.00..0.01 rows=1 width=0)</span></code></pre></td></tr></table></div></figure>


<ul>
<li>cost
cost有兩個值，第一個是啟動所需的cost，第二個是執行後，取回全部資料所需的cost，cost是相對的值，沒有一定的單位，各種資料庫的cost有自已計算的方式</li>
<li>rows 估計的row count</li>
<li>width 預期的row width
:<img src="http://wiki.kent-chiu.com/lib/images/smileys/fixme.gif" alt="FIXME" /></li>
</ul>


<p>EXPLAIN可以加上ANALYZE，會得到更多的資料，但ANALYZE會真正去執行SQL
COMMAND，所以<strong>當COMMAND是INSERT，UPDAET，DELETE時要特別小心</strong></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>EXPLAIN ANALYZE EXECUTE stmt(1);
</span><span class='line'> 
</span><span class='line'>                   QUERY PLAN
</span><span class='line'>--------------------------------------------------
</span><span class='line'> Result  (cost=0.00..0.01 rows=1 width=0)(actual time=0.002..0.002 rows=1 loops=1)
</span><span class='line'> Total runtime: 0.020 ms</span></code></pre></td></tr></table></div></figure>


<h3>SQLServer Scripts</h3>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/the_eight_great_spelling_rules/">The Eight Great Spelling Rules</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/the_eight_great_spelling_rules/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>author : Mark Pennington</p>

<p>article source :
<a href="http://ezinearticles.com/?The-Eight-Great-Spelling-Rules&amp;id=1845169" title="http://ezinearticles.com/?The-Eight-Great-Spelling-Rules&amp;id=1845169">http://ezinearticles.com/?The-Eight-Great-Spelling-Rules&amp;id=1845169</a></p>

<p>Although the American-English spelling system has evolved from many
sources, there are specific patterns that are well-worth learning. These
spelling patterns, or spelling rules, all have exceptions; however, they
are minimal. It is always efficient to memorize the rule, rather than
all of the exceptions. In baseball, batters are taught to “look for the
fastball, and adjust for the curve.” The same is true in the
American-English spelling system. The following are the key spelling
rules that work most of the time in the American-English spelling
system.</p>

<h2>The i before e Rule</h2>

<p>Usually spell i before e (believe), but spell e before i after a c
(receive) and when the letters are pronounced as a long /a/ sound
(neighbor).</p>

<h2>The Final y Rule</h2>

<p>Keep the y when adding an ending if the word ends in a vowel, then a y
(delay-delayed), or if the ending begins with an i (copy-copying).
Change the y to i when adding an ending if the word ends in a consonant,
then a y (pretty-prettiest).</p>

<h2>The Silent e Rule</h2>

<p>Drop the e (have-having) at the end of a syllable if the ending begins
with a vowel. Keep the e (close-closely) when the ending begins with a
consonant, has a soft /c/ or /g/ sound, then an “ous” or “able”
(peaceable, gorgeous), or if it ends in “ee”, “oe”, or “ye” (freedom,
shoeing, eyeing).</p>

<h2>The Double the Consonant Rule</h2>

<p>Double the consonant, when adding on an ending (permitted), if all three
of these conditions are met: 1. the last syllable has the accent (per /
mit) 2. the last syllable ends in a vowel, then a consonant (permit). 3.
the ending you add begins with a vowel (ed).</p>

<h2>The Ending &#8220;an&#8221; or &#8220;en&#8221; Rule</h2>

<p>End a word with “ance”, “ancy”, or “ant” (vacancy, arrogance) if the
root before has a hard /c/ or /g/ sound or if the root ends with “ear”
or “ure” (clearance, insurance). End a word with “ence”, “ency”, or
“ent” if the root before has a soft /c/ or /g/ sound (magnificent,
emergency), after “id” (residence), or if the root ends with “ere”
(reverence).</p>

<h2>The &#8220;able&#8221; or &#8220;ible&#8221; Rule</h2>

<p>End a word with “able” if the root before has a hard /c/ or /g/ sound
(despicable, navigable), after a complete root word (teachable), or
after a silent e (likeable). End a word with “ible” if the root has a
soft /c/ or /g/ sound (reducible, legible), after an “ss” (admissible),
or after an incomplete root word (audible).</p>

<h2>The Ending &#8220;ion&#8221; Rule</h2>

<p>Spell “sion” (illusion) for the final zyun sound or the final shun sound
(expulsion, compassion) if after an l or s. Spell “cian” (musician) for
a person and “tion” (condition) in most all other cases.</p>

<h2>The Plurals Rule</h2>

<p>Spell plural nouns with an s (dog-dogs), even those that end in y
(day-days) or those that end in a vowel, then an o (stereo-stereos).
Spell “es” after the sounds of /s/, /x/, /z/, /ch/, or /sh/ (box-boxes)
or after a consonant, then an o (potato-potatoes). Change the y to i and
add “es” when the word ends in a consonant, then a y (ferry-ferries).
Change the “fe” or “lf” ending to “ves” (knife-knives, shelf-shelves).</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/template_index/">這篇文章說明每個模版的功能</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/template_index/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>基本上，每個template的layout也不用特意去強記，因為，每一個theme里的每一個template(lib,dwt,
wherever…)，總之就是themes目錄下的所有檔案都不一樣。
所以，應該比較用心去了解的反而是將資料往smarty (templates)
pushing的那些php檔。能夠了解每個php送出的資訊，大概也就知道template的能秀出那麼東西了。</p>

<p>dwt應該是<strong>D</strong>ream<strong>W</strong>eaver
<strong>T</strong>emplate的縮寫，而lbi也是dreamweaver裡的一種格式。它可以透過一些特殊的tags達到server
side的include效果。 在dwt檔裡有許多地方都有以下兩組tags</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;!-- #BeginLibraryItem "/library/xxx.lbi" --&gt;&lt;!-- #EndLibraryItem --&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;!-- TemplateBeginEditable name="xxx" --&gt;&lt;!-- TemplateEndEditable --&gt;  </span></code></pre></td></tr></table></div></figure>


<p>第一組tag的功能是include
lbi檔，如果tag有內容，內容應該會與被included的檔案一模一樣，這是因為<strong>某些</strong>editor(dreamweaver)自動include進來的
，但是如果<strong>直接去編輯tag內容(inner
text)是沒用的，頁面並不會相對改變</strong>，惟有直接修改lbi檔的內容，頁面才會改變。</p>

<p>第二組tag不太清楚實際的作用是什麼^<a href="#fn__1">1)</a>^可以直接拿掉，但tag內容要保留。</p>

<p>以一個簡單的例子來說明這種效果</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;b&gt;Hello World!&lt;/b&gt;</span></code></pre></td></tr></table></div></figure>




<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;!-- #BeginLibraryItem "/library/my.lbi" --&gt;
</span><span class='line'>&lt;b&gt;Hello World!&lt;/b&gt;
</span><span class='line'>&lt;!-- #EndLibraryItem --&gt;
</span><span class='line'>&lt;!-- TemplateBeginEditable name="foo" --&gt;
</span><span class='line'>&lt;b&gt;Kent&lt;/b&gt;
</span><span class='line'>&lt;!-- TemplateEndEditable --&gt;  </span></code></pre></td></tr></table></div></figure>


<p>上面的lib會被included到my.dwt內，所以輸出會像這樣：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Hello World!Kent</span></code></pre></td></tr></table></div></figure>


<p>再來，說明一下另一個效果</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;!-- #BeginLibraryItem "/library/my.lbi" --&gt;
</span><span class='line'>&lt;b&gt;--- Hello World! ---&lt;/b&gt;
</span><span class='line'>&lt;!-- #EndLibraryItem --&gt;
</span><span class='line'>&lt;!-- TemplateBeginEditable name="foo" --&gt;
</span><span class='line'>&lt;b&gt;Kent&lt;/b&gt;
</span><span class='line'>&lt;!-- TemplateEndEditable --&gt;  </span></code></pre></td></tr></table></div></figure>


<p>my.dwt裡第2行&lt;b>Hello
World!&lt;/b>這個並不會被render，就算去修改它，也沒有用，將第二行改成
<strong>&lt;b>— Hello World! —&lt;/b></strong>，結果輸出跟之前一樣</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Hello World!Kent</span></code></pre></td></tr></table></div></figure>


<p>但如果是去修改lbi檔的內容</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;b&gt; *** Hello World! *** &lt;/b&gt;</span></code></pre></td></tr></table></div></figure>


<p>輸出就會改變成跟lbi的內容一樣了</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>*** Hello World! *** Kent</span></code></pre></td></tr></table></div></figure>


<p>這說明了<strong>修改BeginLibraryItem /
#EndLibraryItem間的內容是沒用的</strong>，一定要去修改lbi的檔。
換句話說，其實可以對dwt檔做以下的簡化</p>

<ol>
<li>可以移除&lt;!– TemplateBeginEditable name=“xxx” –>&lt;!–
TemplateEndEditable –> 這一對tag，但tag的內文要保留</li>
<li>可以移除&lt;!– #BeginLibraryItem ”/library/xxx.lbi” –>&lt;!–
#EndLibraryItem –> tag的內文，但tag本身要保留</li>
</ol>


<p>所以，簡化後的dwt檔會像這樣</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;!-- #BeginLibraryItem "/library/my.lbi" --&gt;
</span><span class='line'>&lt;b&gt;Kent&lt;/b&gt;</span></code></pre></td></tr></table></div></figure>


<p>有些官方的template本身就是簡化過的(預設的template沒有簡化)，所以可以拿簡化過的template來測試，會比較乾淨</p>

<p>ECShop裡面模版可以透過web畫面進行調整，調整後的layout是紀錄在db，然後把調整的page(ex:index.dwt)內容給置換掉</p>

<h2>dwt 模版</h2>

<p>備註：範本檔共22個(格式：.dwt)。</p>

<p>提醒：</p>

<ol>
<li>更改範本檔裡面庫檔的內容是無效的，頁面刷新時，程式自動重新載入庫檔內容到範本檔裡(以庫檔內容為准)。</li>
<li>範本內所有id值為 ECS_ 開頭的都必須保留(和ajax相關)。</li>
<li>非庫檔內容不可放置到可編輯區域內，否則設置範本時，非庫檔內容將被覆蓋刪除。</li>
</ol>


<p>  名稱                    說明</p>

<hr />

<p>  brand.dwt               商品品牌頁
  article.dwt             文章內容頁
  article_cat.dwt        文章列表頁
  catalog.dwt             所有分類頁
  category.dwt            商品列表頁
  compare.dwt             商品比較頁
  flow.dwt                購物車和購物流程頁
  gallery.dwt             商品相冊頁
  goods.dwt               商品詳情頁
  group_buy_goods.dwt   團購商品詳情頁
  group_buy_list.dwt    團購商品列表頁
  index.dwt               首頁
  message.dwt             資訊提示頁
  pick_out.dwt           選購中心頁
  receive.dwt             收貨確認資訊頁
  respond.dwt             線上支付結果提示資訊頁
  search.dwt              商品搜尋網頁
  snatch.dwt              奪寶奇兵頁
  tag_cloud.dwt          標籤雲頁
  user_clips.dwt         用戶中心頁 （包含：歡迎頁，我的留言，我的標籤，收藏商品，缺貨登記列表，添加缺貨登記。）
  user_passport.dwt      用戶安全頁（包含：會員登錄，會員註冊，找回密碼。）
  user_transaction.dwt   用戶中心頁 （包含：個人資料，我的紅包，添加紅包，我的訂單，訂單詳情，合併訂單，訂單狀態，商品清單，費用總計，收貨人資訊，支付方式，其他資訊，會員餘額。）</p>

<h2>Library</h2>

<p>備註：庫檔共40個 (格式 .lbi)
提醒：檔案名儘量保存默認，否則在後臺管理將無法管理庫檔或不可預見錯誤。</p>

<p>  name                       description</p>

<hr />

<p>  ad_position.lbi           廣告位
  bought_goods.lbi          購買過此商品的人購買過哪些商品
  brand_goods.lbi           品牌的商品
  brands.lbi                 品牌專區
  cart.lbi                   購物車
  cat_articles.lbi          文章列表
  cat_goods.lbi             分類下的商品
  category_tree.lbi         商品分類樹
  comments.lbi               用戶評論列表 （ajax載入comments_list.lbi。）
  comments_list.lbi         使用者評論內容
  consignee.lbi              收貨地址表單
  goods_article.lbi         相關文章
  goods_attrlinked.lbi      屬性關聯的商品
  goods_fittings.lbi        相關配件
  goods_gallery.lbi         商品相冊
  goods_list.lbi            商品列表
  goods_related.lbi         相關商品
  goods_tags.lbi            商品標記
  group_buy.lbi             首頁團購商品
  help.lbi                   網店幫助
  history.lbi                商品流覽歷史
  invoice_query.lbi         發貨單查詢
  member.lbi                 會員登錄 (ajax載入member_info.lbi。)
  member_info.lbi           會員登錄表單和登錄成功以後使用者帳戶資訊
  new_articles.lbi          最新文章
  order_total.lbi           訂單費用總計
  page_footer.lbi           頁面腳部
  page_header.lbi           頁面頂部
  pages.lbi                  列表分頁
  recommend_best.lbi        精品推薦
  recommend_hot.lbi         熱賣商品
  recommend_new.lbi         新品推薦
  recommend_promotion.lbi   促銷商品
  search_form.lbi           搜索表單
  snatch.lbi                 奪寶奇兵出價表單 (必須被id=“ECS_SNATCH”包含實現ajax刷新。)
  snatch_price.lbi          奪寶奇兵最新出價列表 (必須被id=“ECS_PRICE_LIST”包含實現ajax刷新。)
  top10.lbi                  銷售排行
  ur_here.lbi               當前位置
  user_menu.lbi             使用者中心功能表
  vote.lbi                   線上調查</p>

<h3>brand.dwt (商品品牌頁)</h3>

<p>![template_index_article.dwt.gif][]</p>

<h3>brand.dw (商品品牌頁)</h3>

<p>![template_index_brand.dwt.gif][]</p>

<h3>article.dw (文章內容頁)</h3>

<p>![template_index_article.dwt.gif][]</p>

<h3>article_cat.dwt (文章列表頁)</h3>

<p>![template_index_article_cat.dwt.gif][]</p>

<h3>catalog.dw (所有分類頁)</h3>

<p>![template_index_catalog.dwt.gif][]</p>

<h3>category.dwt (商品列表頁)</h3>

<p>![template_index_category.dwt.gif][]</p>

<h3>compare.dw (商品比較頁)</h3>

<p>![template_index_compare.dwt.gif][]</p>

<h3>flow.dwt (購物車和購物流程頁)</h3>

<p>![template_index_flow.dwt.gif][]</p>

<h3>gallery.dw (商品相冊頁)</h3>

<p>![template_index_gallery.dwt.gif][]</p>

<h3>goods.dw (商品詳情頁)</h3>

<p>![template_index_goods.dwt.gif][]</p>

<h3>group_buy_goods.dwt (團購商品詳情頁)</h3>

<p>![template_index_group_buy_goods.dwt.gif][]</p>

<h3>group_buy_list.dwt (團購商品列表頁)</h3>

<p>![template_index_group_buy_list.dwt.gif][]</p>

<h3>index.dw (首頁)</h3>

<p>兩張圖的layout沒有完全一致，參考看看就好</p>

<p>![template_index_index.dwt.gif][]</p>

<p><img src="/images/wiki/ecshop/template_index_index.png" alt="template_index_index.png" /></p>

<h3>message.dw ( 資訊提示頁)</h3>

<p>![template_index_message.dwt.gif][]</p>

<h3>pick_out.dwt (選購中心頁)</h3>

<p>![template_index_pick_out.dwt.gif][]</p>

<h3>receive.dw (收貨確認資訊頁)</h3>

<p>![template_index_receive.dwt.gif][]</p>

<h3>respond.dw (線上支付結果提示資訊頁)</h3>

<p>![template_index_respond.dwt.gif][]</p>

<h3>search.dwt (商品搜尋網頁)</h3>

<p>![template_index_search.dwt.gif][]</p>

<h3>snatch.dwt (奪寶奇兵頁)</h3>

<p>![template_index_snatch.dwt.gif][]</p>

<h3>tag_cloud.dwt (標籤雲頁)</h3>

<p>![template_index_tag_cloud.dwt.gif][]</p>

<h3>user_clips.dwt (用戶中心頁)</h3>

<p>![template_index_user_clips.dwt.gif][]</p>

<h3>user_passport.dwt (用戶安全頁)</h3>

<p>![template_index_user_passport.dwt.gif][]</p>

<h3>user_transaction.dwt (用戶中心頁)</h3>

<p>![template_index_user_transaction.dwt.gif][]</p>

<p>^<a href="#fnt__1">1)</a>^ 去查dreamweaver的document應該可以查得到</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/template/">Ec的範本機制感覺和smarty的類似，算是一個簡易的smarty把</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/template/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>ec的範本機制感覺和smarty的類似，算是一個簡易的smarty把</p>

<p>每個程式頁面都有如下類似的語句</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$cache_id = sprintf('%X', crc32($_SESSION['user_rank'] . '-' . $_CFG['lang']))   </span></code></pre></td></tr></table></div></figure>


<p>緩存id，現在是通過使用者等級和語言緩存不同頁面（通過這裡應該可以做網店多語種的實現）</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
<span class='line-number'>92</span>
<span class='line-number'>93</span>
<span class='line-number'>94</span>
<span class='line-number'>95</span>
<span class='line-number'>96</span>
<span class='line-number'>97</span>
<span class='line-number'>98</span>
<span class='line-number'>99</span>
<span class='line-number'>100</span>
<span class='line-number'>101</span>
<span class='line-number'>102</span>
<span class='line-number'>103</span>
<span class='line-number'>104</span>
<span class='line-number'>105</span>
<span class='line-number'>106</span>
<span class='line-number'>107</span>
<span class='line-number'>108</span>
<span class='line-number'>109</span>
<span class='line-number'>110</span>
<span class='line-number'>111</span>
<span class='line-number'>112</span>
<span class='line-number'>113</span>
<span class='line-number'>114</span>
<span class='line-number'>115</span>
<span class='line-number'>116</span>
<span class='line-number'>117</span>
<span class='line-number'>118</span>
<span class='line-number'>119</span>
<span class='line-number'>120</span>
<span class='line-number'>121</span>
<span class='line-number'>122</span>
<span class='line-number'>123</span>
<span class='line-number'>124</span>
<span class='line-number'>125</span>
<span class='line-number'>126</span>
<span class='line-number'>127</span>
<span class='line-number'>128</span>
<span class='line-number'>129</span>
<span class='line-number'>130</span>
<span class='line-number'>131</span>
<span class='line-number'>132</span>
<span class='line-number'>133</span>
<span class='line-number'>134</span>
<span class='line-number'>135</span>
<span class='line-number'>136</span>
<span class='line-number'>137</span>
<span class='line-number'>138</span>
<span class='line-number'>139</span>
<span class='line-number'>140</span>
<span class='line-number'>141</span>
<span class='line-number'>142</span>
<span class='line-number'>143</span>
<span class='line-number'>144</span>
<span class='line-number'>145</span>
<span class='line-number'>146</span>
<span class='line-number'>147</span>
<span class='line-number'>148</span>
<span class='line-number'>149</span>
<span class='line-number'>150</span>
<span class='line-number'>151</span>
<span class='line-number'>152</span>
<span class='line-number'>153</span>
<span class='line-number'>154</span>
<span class='line-number'>155</span>
<span class='line-number'>156</span>
<span class='line-number'>157</span>
<span class='line-number'>158</span>
<span class='line-number'>159</span>
<span class='line-number'>160</span>
<span class='line-number'>161</span>
<span class='line-number'>162</span>
<span class='line-number'>163</span>
<span class='line-number'>164</span>
<span class='line-number'>165</span>
<span class='line-number'>166</span>
<span class='line-number'>167</span>
<span class='line-number'>168</span>
<span class='line-number'>169</span>
<span class='line-number'>170</span>
<span class='line-number'>171</span>
<span class='line-number'>172</span>
<span class='line-number'>173</span>
<span class='line-number'>174</span>
<span class='line-number'>175</span>
<span class='line-number'>176</span>
<span class='line-number'>177</span>
<span class='line-number'>178</span>
<span class='line-number'>179</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>if (!$smarty-&gt;is_cached('index.dwt', $cache_id))
</span><span class='line'> 
</span><span class='line'>{          判斷頁面是否已經緩存，如果沒有則做變數賦值和範本裡面動態內容提取
</span><span class='line'> 
</span><span class='line'>           assign_template();  
</span><span class='line'> 
</span><span class='line'>           $smarty-&gt;assign(變數名,  變數值);
</span><span class='line'> 
</span><span class='line'>            。。。
</span><span class='line'> 
</span><span class='line'>}
</span><span class='line'> 
</span><span class='line'>$smarty-&gt;display('index.dwt', $cache_id);    顯示生成的頁面
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'>頁面的範本機制都是通過cls_template.php檔實現，下面通過display函數開始進入分析，裡面只有關鍵地方的解釋，其他的可以自己去看代碼
</span><span class='line'> 
</span><span class='line'>    function display($filename, $cache_id = '')
</span><span class='line'> 
</span><span class='line'>    {
</span><span class='line'> 
</span><span class='line'>        。。。
</span><span class='line'> 
</span><span class='line'>        $out = $this-&gt;fetch($filename, $cache_id);    //這裡是處理範本的關鍵函數
</span><span class='line'> 
</span><span class='line'>        if (strpos($out, $this-&gt;_echash) !== false)     //頁面動態內容的顯示，如投票，購物車之類的，看了下面的就知道了
</span><span class='line'> 
</span><span class='line'>        {
</span><span class='line'> 
</span><span class='line'>            $k = explode($this-&gt;_echash, $out);
</span><span class='line'> 
</span><span class='line'>            foreach ($k AS $key =&gt; $val)
</span><span class='line'> 
</span><span class='line'>            {
</span><span class='line'> 
</span><span class='line'>                if (($key % 2) == 1)
</span><span class='line'> 
</span><span class='line'>                {
</span><span class='line'> 
</span><span class='line'>                    $k[$key] = $this-&gt;insert_mod($val);   //取到動態內容並賦值
</span><span class='line'> 
</span><span class='line'>                }
</span><span class='line'> 
</span><span class='line'>            }
</span><span class='line'> 
</span><span class='line'>            $out = implode('', $k);
</span><span class='line'> 
</span><span class='line'>        }
</span><span class='line'> 
</span><span class='line'>        。。。
</span><span class='line'> 
</span><span class='line'>    }
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'>    function fetch($filename, $cache_id = '')
</span><span class='line'> 
</span><span class='line'>    {
</span><span class='line'> 
</span><span class='line'>       。。。
</span><span class='line'> 
</span><span class='line'>        if (strncmp($filename,'str:', 4) == 0)  此處處理字串範本，如郵件範本
</span><span class='line'> 
</span><span class='line'>        {
</span><span class='line'> 
</span><span class='line'>            。。。
</span><span class='line'> 
</span><span class='line'>        }
</span><span class='line'> 
</span><span class='line'>        else
</span><span class='line'> 
</span><span class='line'>        {
</span><span class='line'> 
</span><span class='line'>           。。。
</span><span class='line'> 
</span><span class='line'>            if ($this-&gt;direct_output)      
</span><span class='line'> 
</span><span class='line'>            {
</span><span class='line'> 
</span><span class='line'>               。。。
</span><span class='line'> 
</span><span class='line'>            }
</span><span class='line'> 
</span><span class='line'>            else
</span><span class='line'> 
</span><span class='line'>            {
</span><span class='line'> 
</span><span class='line'>                if ($cache_id && $this-&gt;caching)     //如果已經緩存就直接取緩存資料
</span><span class='line'> 
</span><span class='line'>                {
</span><span class='line'> 
</span><span class='line'>                    $out = $this-&gt;template_out;
</span><span class='line'> 
</span><span class='line'>                }
</span><span class='line'> 
</span><span class='line'>                else
</span><span class='line'> 
</span><span class='line'>                {
</span><span class='line'> 
</span><span class='line'>                       $out = $this-&gt;make_compiled($filename);     //編譯範本函數，關鍵函數
</span><span class='line'> 
</span><span class='line'>                    if ($cache_id)        //如果緩存id不為空則寫快取檔案
</span><span class='line'> 
</span><span class='line'>                    {
</span><span class='line'> 
</span><span class='line'>                               。。。一些緩存資料，如緩存有效期之類的
</span><span class='line'> 
</span><span class='line'>                    }
</span><span class='line'> 
</span><span class='line'>                }
</span><span class='line'> 
</span><span class='line'>            }
</span><span class='line'> 
</span><span class='line'>        }
</span><span class='line'> 
</span><span class='line'>      。。。
</span><span class='line'> 
</span><span class='line'>    }
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'>    function make_compiled($filename)
</span><span class='line'> 
</span><span class='line'>    {
</span><span class='line'> 
</span><span class='line'>      。。。。這裡省略一部分都是判斷檔是否有效，是否過期，是否強制編譯之類的
</span><span class='line'> 
</span><span class='line'>        if ($this-&gt;force_compile || $filestat['mtime'] &gt; $expires)
</span><span class='line'> 
</span><span class='line'>        {
</span><span class='line'> 
</span><span class='line'>            $this-&gt;_current_file = $filename;
</span><span class='line'> 
</span><span class='line'>            $source = $this-&gt;fetch_str(file_get_contents($filename));             //關鍵地方，讀取範本檔，處理範本字串
</span><span class='line'> 
</span><span class='line'>            if (file_put_contents($name, $source, LOCK_EX) === false)      //寫入編譯以後的檔
</span><span class='line'> 
</span><span class='line'>            {
</span><span class='line'> 
</span><span class='line'>                trigger_error('can\'t write:' . $name);
</span><span class='line'> 
</span><span class='line'>            }
</span><span class='line'> 
</span><span class='line'>            $source = $this-&gt;_eval($source);
</span><span class='line'> 
</span><span class='line'>        }
</span><span class='line'> 
</span><span class='line'>        return $source;
</span><span class='line'> 
</span><span class='line'>    }
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'> 
</span><span class='line'>    function fetch_str($source)
</span><span class='line'> 
</span><span class='line'>    {
</span><span class='line'> 
</span><span class='line'>        if (!defined('ECS_ADMIN'))
</span><span class='line'> 
</span><span class='line'>        {
</span><span class='line'> 
</span><span class='line'>            $source = $this-&gt;smarty_prefilter_preCompile($source);      //預處理函數，此函數代碼檔中有詳細解釋就不囉嗦了
</span><span class='line'> 
</span><span class='line'>        }
</span><span class='line'> 
</span><span class='line'>        return preg_replace("/{([^\}\{\n]*)}/e", "\$this-&gt;select('\\1');", $source);    //匹配處理{}每個標籤
</span><span class='line'> 
</span><span class='line'>    }</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/sync_checking/">Diff Code Between Web Site and SVN Repos</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/sync_checking/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h1>Dependencies</h1>

<ol>
<li>diff function
(<a href="http://www.holomind.de/phpnet/diff.src.php" title="http://www.holomind.de/phpnet/diff.src.php">http://www.holomind.de/phpnet/diff.src.php</a>)</li>
<li>Subversion Client API
(<a href="http://us3.php.net/manual/en/book.svn.php" title="http://us3.php.net/manual/en/book.svn.php">http://us3.php.net/manual/en/book.svn.php</a>)</li>
</ol>


<h1>Requirement</h1>

<ul>
<li>比對所有php，lbi，dwt，html檔</li>
<li>可以以版本，時間，tag等資訊比對SVN上的code</li>
<li><p>以ecshop內建的table來顯示有差異檔名</p>

<ul>
<li>以目錄排序</li>
<li>以檔名排序</li>
<li>以修改日期排序</li>
<li>以異動行數排序</li>
</ul>
</li>
<li><p>在檔名click後可以連結到異動細節</p></li>
<li>異動細節以顯眼的方式呈現</li>
</ul>


<h1>User Stories</h1>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/10/17/syllables_101/">Syllable 101</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-10-17T00:00:00+08:00" pubdate data-updated="true">Oct 17<span>th</span>, 2011</time>
        
         | <a href="/blog/2011/10/17/syllables_101/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Syllable的一個單字在發音上的基本單位，這個筆記是在說明在劃分音節上的一些方式以及該注意的地方</p>

<p>this article come from
<a href="http://www.cla.calpoly.edu/~jrubba/phon/syllables.html#sum" title="http://www.cla.calpoly.edu/~jrubba/phon/syllables.html#sum">here</a>
mainly. I amended (added, highlighted, removed, commented)some content
for my study propose.</p>

<h1>Parts</h1>

<p>Syllables have internal structure: they can be divided into parts. The
parts are onset and rhyme; within the rhyme we find the nucleus and
coda. Not all syllables have all parts; the smallest possible syllable
contains a nucleus only. A syllable may or may not have an onset and a
coda.</p>

<p><strong>Onset</strong>: the beginning sounds of the syllable; the ones preceding the
nucleus. <strong>These are always consonants</strong> in English. The nucleus is a
<strong>vowel</strong> in most cases, although the consonants <strong>[ r ], [ l ], [ m ],
[ n ]</strong>, and the velar nasal (the <strong>&#8216;ng&#8217;</strong> sound) can also be the
nucleus of a syllable.</p>

<p><strong>Rhyme</strong> (or <strong>rime</strong>): the rest of the syllable, after the onset (the
underlined portions of the words above). The rhyme can also be divided
up:</p>

<p><strong>Rhyme = nucleus</strong> + <strong>coda</strong></p>

<p>The nucleus, as the term suggests, is the core or essential part of a
syllable. A nucleus must be present in order for a syllable to be
present. Syllable nuclei are most often highly &#8216;sonorant&#8217; or resonant
sounds, that can be relatively loud and carry a clear pitch level. In
English and most other languages, most syllable nuclei are vowels. In
English, in certain cases, the liquids [ l r ] and nasals [ m n ] and
the velar nasal usually spelled &#8216;ng&#8217; can also be syllable nuclei.\
  </p>

<p>The syllable structure analysis of the words &#8216;read&#8217;, &#8216;flop&#8217;,  &#8216;strap&#8217;
and &#8216;window&#8217; are as follows (IPA symbols are used to show the sounds in
the word/syllable):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>read = one syllable
</span><span class='line'>Onset = [ r ]
</span><span class='line'>Rhyme = [ id ]      (within the rhyme:)
</span><span class='line'>     Nucleus = [ i ]
</span><span class='line'>     Coda   = [ d ]
</span><span class='line'>
</span><span class='line'>flop = one syllable
</span><span class='line'>Onset = [ f l ]
</span><span class='line'>Rhyme  = [ a p ]
</span><span class='line'>    Nucleus  =  [ a ]
</span><span class='line'>    Coda  =  [ p ]</span></code></pre></td></tr></table></div></figure>


<p>window = 2 syllables</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>First syllable:  [wIn]
</span><span class='line'>Onset  = [ w ]
</span><span class='line'>Rhyme  = [ I n ]
</span><span class='line'>    Nucleus = [ I ]
</span><span class='line'>    Coda  = [ n ]
</span><span class='line'>
</span><span class='line'>Second syllable: [ d o ]
</span><span class='line'>Onset = [ d ]
</span><span class='line'>Rhyme = [ o ]
</span><span class='line'>    Nucleus = [ o ]
</span><span class='line'>(This syllable has no coda)</span></code></pre></td></tr></table></div></figure>


<p>&#8217;[]&#8217;裡的是IPA的音標，不是英文字母，所以拆成components是以發音(音標)為準，不是以字母</p>

<p>  Parts       Description                                                        Optionality</p>

<hr />

<p>  Onset       Initial segment of a syllable                                      Optional
  Rhyme       Core of a syllable, consisting of a nucleus and coda (see below)   Obligatory
  – Nucleus   Central segment of a syllable                                      Obligatory
  – Coda      Closing segment of a syllable                                      Optional</p>

<h4>examples</h4>

<p>In the following words, the onset is in bold; the rhyme is underlined.</p>

<p><strong>r</strong><em>ead</em> \
 <strong>fl</strong><em>op</em> \
 <strong>str</strong><em>ap</em> \</p>

<p>If a word contains more than one syllable, each syllable will have the
usual syllable parts:</p>

<p><strong>w</strong><em>in</em>.<strong>d</strong><em>ow</em> \
 <strong>t</strong><em>o</em>.<strong>m</strong><em>a</em>.<strong>t</strong><em>o</em> \
 <strong>pr</strong><em>e</em>.<strong>p</strong><em>os</em>.<strong>t</strong><em>e</em>.<strong>r</strong><em>ous</em> \
 <strong>f</strong><em>un</em>.<strong>d</strong><em>a</em>.<strong>m</strong><em>en</em>.<strong>t</strong><em>al</em></p>

<p>onset 可能是一至多個<strong>子音</strong>字母組成</p>

<p>&lt;box left 45% round green></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>   S
</span><span class='line'>/     \
</span><span class='line'>O      R
</span><span class='line'>   / \     /  \
</span><span class='line'>  |   |    N   C
</span><span class='line'>  |   |    |   |
</span><span class='line'>[ f   l    a   p ]</span></code></pre></td></tr></table></div></figure>


<p>&lt;/box> &lt;box right 45% round green></p>

<ul>
<li>&#8216;S&#8217; = &#8216;syllable&#8217;</li>
<li>&#8216;O&#8217; = &#8216;onset&#8217;;</li>
<li>&#8216;R&#8217; = &#8216;rhyme&#8217;;</li>
<li>&#8216;N&#8217; = &#8216;nucleus&#8217;;</li>
<li>&#8216;C&#8217; = &#8216;coda&#8217;.</li>
</ul>


<p>&lt;/box></p>

<h1>r l m n</h1>

<p>The English liquids [ r l ] and the nasals [ m n ] can be the nuclei of
syllables under certain conditions. <strong>[ r ] can be a nucleus as easily
as a vowel, in any position</strong>: the words &#8216;bird&#8217;, &#8216;word&#8217;, &#8216;her&#8217;, &#8216;fur&#8217;,
the first syllable of &#8216;perceive&#8217; and &#8216;surname&#8217; and the final syllables
of &#8216;mother&#8217;, &#8216;actor&#8217; (in casual pronunciation) all have [ r ] as the
nucleus; in other words, there is no vowel in the pronunciation of these
syllables, even though they have one in the spelling.</p>

<p>[ l ] and the nasals [ m n ] become syllable nuclei when they follow an
<strong>alveolar consonant</strong> in the <strong>last syllable</strong> of a word. This happens
in the relaxed or casual rather than very formal articulation of the
word. Compare casual vs. formal pronunciations of &#8216;button&#8217;, &#8216;bottle&#8217;,
&#8216;bottom&#8217;.</p>

<p>When one of these sounds is a syllable nucleus, this is shown in
transcription by putting a very short vertical line under the IPA symbol</p>

<p><a href="http://en.wikipedia.org/wiki/alveolar%20consonant" title="http://en.wikipedia.org/wiki/alveolar consonant">alveolar
consonant</a>:齒槽音?
看得懂才有鬼</p>

<h2>Counting Syllables</h2>

<p>To find the number of syllables in a word, use the following steps:</p>

<ol>
<li>Count the vowels in the word.</li>
<li>Subtract any silent vowels, (like the silent <em>e</em> at the end of a
word, or the second vowel when two vowels are together in a
syllabl.e)</li>
<li>Subtract one vowel from every
<a href="http://wiki.kent-chiu.com/doku.php?id=english:diphthongs" title="english:diphthongs">diphthong</a>
(diphthongs only count as one vowel sound.)</li>
<li>The number of vowels sounds left is the same as the number of
syllables.</li>
</ol>


<p>The number of syllables that you hear when you pronounce a word is the
same as the number of vowels sounds heard. For example:</p>

<ul>
<li>The word <em>came</em> has 2 vowels, but the <em>e</em> is silent, leaving one
vowel sound andone syllable.</li>
<li>The word <em>outside</em> has 4 vowels, but the <em>e</em> is silent and the <em>ou</em>
is a diphthong which counts as only one sound, so this word has only
two vowel sounds and therefore, two syllables.</li>
</ul>


<h2>Six Kinds of Syllables</h2>

<p>There are six different kinds of syllables in English:</p>

<p>Uinsg the anacronym <strong>C.L.O.V.E.R</strong> for the 6 main rules.</p>

<h4>C–cvc/</h4>

<p>C–cvc/–Closed syllables have a short vowel with 1 to 3 consonants
following it. “When a vowel is closed by a consonant door, it says its
short sound.” Examples are: rob/in, cab/in, nap/kin, kit/ten, hun/dred.</p>

<h4>L–/cLE</h4>

<p>L–/cLE–Consonant LE syllables are found at the end of a word and are
divided before the consonant that comes before the LE. Use a silly
phrase that helps to remember this rule: ”-le in little BEFORE the
BEFORE.” Examples are: no/ble, jun/gle, mar/ble</p>

<h4>O–cv/</h4>

<p>O–cv/–Open syllables have a vowel hanging open at the end of a syllable.
The vowel usually has a long sound. “When a vowel is left open, it says
its own name.” Examples are: mo/ment, va/ca/tion.</p>

<h4>V–cvvc/ or cv/vc</h4>

<p>V–cvvc/ or cv/vc–Double vowels can be a usual digraph, such as ai, ay,
ea, ee, oa, ow, oo, oi, oy, ou, ie, and ei, which is not divided and the
first vowel has a long sound. Double vowels that are not a usual
combination, <strong>such as ia or eu, can be divided between the two vowels</strong>
to make a multisyllable word, such as di-al or mu-se-um.</p>

<h4>E–cvce</h4>

<p>E–cvce–Silent e syllables can come in the middle of a word, but are
usually found at the end of a word. Often the vowel preceding the silent
e has a long sound, although no English word ends with the letter v, so
a silent e that follows the “v” may or may not affect the preceding
vowel. Examples are: in/vite, home/sick, in/ten/sive.</p>

<h4>R–cvr</h4>

<p>R–cvr–R-controlled syllables have a vowel followed by an r and can be
found in any syllable of a word. While ar and or have distinctive
sounds, any vowel followed by an r can be pronounced /ur/. Examples are:
car/pet, fur/ther/more, thir/sty.</p>

<p>I usually take a lesson or two to introduce the concept of syllable
division and give an overview of the syllable types. Then I teach
in-depth and have students practice each rule until mastered and
automatic, both in reading and spelling. I usually use the following
sequence for the in-depth practice–Compounds; Closed; Introduce or
review common suffixes, such as -ed, -ing, -tion, -ness, -ment; Silent
e; Open; Consonant-LE; R-Controlled; and Double Vowels.</p>

<h2>Dividing Words Into Syllables</h2>

<h4>Divide between two middle consonants.</h4>

<p>Split up words that have two middle consonants, unless the doubled
consonant is part of a syllable that is a base word. Then try the short
sound for the vowel in the first syllable. This rule does not apply if
the two consonants form a digraph such as ch, <strong>tch</strong>, ph, sh, or th.
The digraphs can&#8217;t be separated.</p>

<p>For example:</p>

<p>hap/pen, bas/ket, let/ter, sup/per, din/ner, and Den/nis. The only
exceptions are the consonant digraphs. Never split up consonant digraphs
as they really represent only one sound. The exceptions are “th”, “sh”,
“ph”, “th”, “ch”, and “wh”.</p>

<p>tell-er.</p>

<p>tell is a base word.</p>

<h4>Usually divide before a single middle consonant.</h4>

<p>When there is only one syllable, you usually divide in front of it, as
in:</p>

<p>“o/pen”, “i/tem”, “e/vil”, and “re/port”. The only exceptions are those
times when the first syllable has an obvious <a href="http://wiki.kent-chiu.com/doku.php?id=english:short-vowels" title="english:short-vowels">short
sound</a>,
as in “cab/in”.</p>

<p>When only one consonant appears between two vowels, divide the word
before the consonant. The try the long sound of the first vowel. This
works about 55% of the time. If a recognizable word is not formed using
the long sound, divide the word after the con-sonant and try the short
sound for the first syllable. This works about 45% of the time.</p>

<h4>Divide off any compound words, prefixes, suffixes and roots which have vowel sounds.</h4>

<p>Split off the parts of compound words like “sports/car” and
“house/boat”. Divide off prefixes such at “un/happy”, “pre/paid”, or
“re/write”. Also divide off suffixes as in the words “farm/er”,
“teach/er”, “hope/less” and “care/ful”. In the word “stop/ping”, the
suffix is actually ”-ping” because this word follows the rule that when
you add ”-ing” to a word with one syllable, you double the last
consonant and add the ”-ing”.</p>

<p>For example: dis-arm, an-ti-dote, ship-ment, hope-ful-ly, mand-a-ble….</p>

<p>Exceptions: Sometimes, if the suffix starts with a vowel, a letter or
two from the base word goes with the suffix:fa-mouns, cu-bic, won-drous.</p>

<p>Endings such as ing, er, est, and ed often form separate syllables. The
remaining portion of the word is a root word. the suffix is ”-er”, ”-ed”
or “ing”, this only happens if you have doubled the consonant when
adding the suffix, e.g: hop-ing, miss-ing BUT hop-ping</p>

<h4>Keep the &#8220;r&#8221;-control vowels (ar, er, ir, or, and ur) in the same syllable.</h4>

<h4>Keep the consonant-&#8220;le&#8221; sounds (ble, cle, dle, fle, gle, and ple) in the same syllable.</h4>

<p>These syllables have the schwa sound between the consonant and the “le”.
The schwa sound sounds like a nasal short u.</p>

<p>For example, cra-dle.</p>

<h4>Never break apart vowel diagraphs or diphthongs such as ai, ay, ea, ee, oa, ow, oo, oi, oy, ou, ie, and ei.</h4>

<p>Unbreaking parts : ai, ay, ea, ee, oa, ow, oo, oi, oy, ou, ie, and ei</p>

<p>But NOT includes : ia,eu</p>

<p>分音節（Divide the syllables）：</p>

<p>要訣：從字尾往字首找，在每個母音之前找一個子音，在此子音前斷開。
範例：su -per -mar-ket in -ter -na -ti –on –nal na-me</p>

<p>注意：雙母音/複合母音，視為「一個」母音，若兩個獨立母音相逢，視為其中包含一個「空子音」，直接斷開。若有「共用子音」的音節，則子音要寫兩次。</p>

<h1>標重音（Put the stress）</h1>

<p>author :
<a href="http://blog.nownews.com/richbean/textview.php?file=127500" title="http://blog.nownews.com/richbean/textview.php?file=127500">肥豆老爹說說話</a></p>

<p>Rules：</p>

<ul>
<li>單音節單字，唯一母音即重音。</li>
<li>雙音節單字：

<ol>
<li>若是「動詞/介系詞」或「動詞衍生字」，則重音大多在「第二音節」。</li>
<li>若是「名詞/形容詞/副詞/連接詞」，則重音大多在「第一音節」。</li>
<li>例外字則單獨記憶，其數量很少。</li>
</ol>
</li>
</ul>


<p>e.g. de&#8217;sert(n)-點心、un&#8217;happy(a)-不快樂的、cor&#8217;rect(a)-正確的。</p>

<ul>
<li>三音節以上單字：

<ol>
<li>若是「希臘式拼音」，則<strong>重音大多在「倒數第三音節」；英文大多數是這樣的字。</strong></li>
<li>若是「羅馬/拉丁式拼音」，則重音大多在「倒數第二音節」；少數「外來語」是這樣的字。</li>
</ol>
</li>
</ul>


<p>e.g.</p>

<h4>Greek</h4>

<p>con-ver-&#8216;sa-ti-on \
 u-ni-&#8216;ver-si-ty \
 trans-&#8216;la-ti-on \
 &#8216;te-le-phone \</p>

<h4>Roman</h4>

<p>ba-&#8216;na-na \
 Mi-&#8216;a-mi \
 To-&#8216;ran-to \
 e-lec-&#8216;tro-nic \
 Mer-&#8216;cu-ry \
 A-&#8216;pol-lo \</p>

<h4>French</h4>

<p>fi-&#8216;an-cee</p>

<h3>範例</h3>

<h4>單音節</h4>

<p>hat \
 bed \
 guess \
 quick \
 mop</p>

<h4>雙音節</h4>

<h5>「動詞/介系詞」或「動詞衍生字」</h5>

<p>at-&#8216;tack \
 at-&#8216;tack-tive \
 at-&#8216;tac-king \
 de-&#8216;part-ment</p>

<h5>「名詞/形容詞/副詞/連接詞」</h5>

<p>&#8216;Cha-os \
 &#8216;hap-py \
 &#8216;may-be \
 &#8216;af-ter \
 &#8216;there-fore</p>

<h5>例外字</h5>

<p>be-&#8216;fore</p>

<h4>多音節</h4>

<p>&#8216;na -ti-on \
 &#8216;bad-min-ton \
 Ca-li-&#8216;for-ni-a \
 phi-&#8216;lo-so-phy</p>

<h1>the words that is not easy apply to rule at first sight</h1>

<p>bach⋅e⋅lor 為什麼常會常到斷音節只斷在e</p>

<blockquote><p>為什麼常會常到斷音節只斷在e</p>

<blockquote><p>因為ch不可分割，而or前面要有子音</p></blockquote></blockquote>

<p>Mex⋅i⋅co</p>

<blockquote><p>為什麼是Mex⋅i⋅co而不是Me⋅xi⋅co</p>

<blockquote><p>因為x通常會被放在音節後，而不是之前，比如說 ex⋅am⋅ple</p></blockquote></blockquote>

<p>gro⋅cer⋅y</p>

<blockquote><p>為什麼是gro⋅cer⋅y而不是gro⋅ce⋅ry\
 因為r control的，所以er不可分割</p></blockquote>

<p>ret⋅ro⋅spect</p>

<blockquote><p>ret⋅ro⋅spect → 這樣斷的話，ret的e發短母音/ɛ/ → 正確的發音\
 re⋅tro⋅spect → 這樣斷的話，ret的e發長母音/i/ → 不正確的發音</p></blockquote>

<h1>寫在後面</h1>

<p>其實在語言學的音節劃分上，有許多學說，所以，劃分的方式也各自不同，而且，有時，音節的畫分，可能與日常的發音有所不同，所以，也有人主張，不要特音的去劃分音節</p>

<p>這裡有一篇在討論劃分音節的文章，相當的不錯
<a href="http://forums.eslcafe.com/teacher/viewtopic.php?t=4618" title="http://forums.eslcafe.com/teacher/viewtopic.php?t=4618">http://forums.eslcafe.com/teacher/viewtopic.php?t=4618</a></p>

<h4>how syllables are separated and pronounced?</h4>

<p>from keit:</p>

<p>Hello everyone, Well, I am currently learning about the pronunciation of
english words by looking them up in the dictionary. The thing that still
confuse me is that how to separate the syllables in a word. For example,
&#8216;temperature&#8217; do you pronounce it as tem-puh-ruh-chuh or
tem-puhr-uh-chuh. &#8216;January&#8217; do you pronounce it as Jan-u-eh-re or
Jan-nu-eh-re. Thanks for your help.</p>

<blockquote><p>from Buddhaheart\
 Kiet has touched on a very controversial and challenging aspect of
linguistics called phonology. In contemporary linguistics many
theories are still being considered, constructed and developed. This
is definitely not for beginners of English.\
 \
 To answer Kiet&#8217;s query, the first question you have to ask youself is
what a syllable is. There are as many theories (Sonority Principle,
Chest\
 Pulse Formation &amp; so on) as questions. It seems there is no one
definition that all phoneticians or phonologists could agree on.\
 \
 The second question is how a multi-syllable word is phonologically
divided into its components. Although there&#8217;re many general rules we
teach students how to do that, there&#8217;re just as many exceptions.
Syllabification seems to be a taunting task.\
 \
 We then have to talk about MOP (Maximal Onsets Theory or Principle).
English phonotactics, phonological rules, epenthesis, ambisyllabicity,
the concept of the “privilege of occurrence”. silent &#8216;e&#8217; syllable and
so on.\
 \
 Some of the respondents have offered many practical suggestions and
help. I hereby offer mine from my own perspective.\
 \
 We&#8217;ll just look at the word “temperature” only as an example. Just by
counting the number of vowels or semi-vowels in the word
“temperature”, we think we have a 5 or less syllabic word. If you
recognize the fact that the last 4 letters (ture) in the word make it
a WR-ME (Vowel R-Magic- E) syllable type, you know the ‘e’ is silent.
We therefore left with 4 syllables.\
 \
 Invoking a general phonological rule of splitting syllables between 2
consecutive consonants, we arrive at the 1st tentative syllable,
namely “tem”. Relying on the <strong>MOP</strong>, we will pair the 2nd ‘e’ with
‘p’, the ‘a’ with ‘r’ and hence we arrive at “tem-pe-ra-ture”. Using
your terminology, we will transcribe the word as “tem-puh-ruh-chuh”.
This is your 1st version I think. I&#8217;m not sure about the &#8216;u&#8217; sound
though.\
 \
 Invoking the concept of the <strong>“privilege of occurrence”</strong>, ﻿the vowel
letter &#8216;a&#8217; in the word can stand alone as a syllable. This syllable is
uttered with a schwa sound as it is not stressed. The 2nd syllable
becomes &#8216;per&#8217; and this does not violate any phonotactics as the &#8216;er&#8217;
may be pronounced as a rhotic schwa. We now arrive at the word&#8217;s
syllabification as “tem-per-a-ture.” This is similar to your 2nd
version.\
 \
 So what is the verdict? I believe both versions are acceptable as
they do appear in various dictionaries we use here. I personally favor
the 2nd.\</p></blockquote>

<h1>轉載另一篇ptt的討論文</h1>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>=========================
</span><span class='line'>
</span><span class='line'> 作者  pobo (全新的生活)                                      看板  Eng-Class
</span><span class='line'> 標題  [發音] 音節的用法
</span><span class='line'> 時間  Thu Nov 30 08:02:23 2006
</span><span class='line'>───────────────────────────────────────
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>: 請問一下音節的定義是什麼?
</span><span class='line'>          ^^^^^^^^^如下。
</span><span class='line'>: 還有音節的發音,例如:dragon是兩個音節drag-on http://kuso.cc/0XDQ
</span><span class='line'>: 不看發音我會念(死背的),但是要如何根據音節來發音呢?
</span><span class='line'>                                       ^^^音標
</span><span class='line'>: dragon發音是"追根",但是我根據音節卻是發"追格盎"為什麼會這樣呢?
</span><span class='line'>                           ^^^^^^^其實你要說的是「根據音標」
</span><span class='line'>: 說來慚愧我真的對音節一點概念也沒有,懇請各位板友不吝賜教
</span><span class='line'>: 謝謝.
</span><span class='line'>「音節」(syllable)跟「音標(符號)」(phonic symbol/alphabet)是不同的。
</span><span class='line'>drag-on這是音標的寫法。
</span><span class='line'>gra-gon這是音節的寫法。
</span><span class='line'>
</span><span class='line'>音節是由音素(phoneme)組成。音素是發音的最小單位。
</span><span class='line'>音素是發音的元素，的文字記法就是「音標」。
</span><span class='line'>如/p/、/t/、/a/、/o/這些字母單獨的發音就是音素，
</span><span class='line'>但寫成音標就會有它另外的寫法。
</span><span class='line'>(看你用的是什麼音標，或是看它在字彙裏怎麼發音)</span></code></pre></td></tr></table></div></figure>



</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/10/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/8/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/05/17/my-intellij-idea-shortcut/">My IntelliJ IDEA Shortcut</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/12/jesper-report-font-issue/">Jesper Report, IReport 匯出成中文PDF</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/12/jasperreport-101/">JasperReport 101</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/06/mac-tips/">Mac Tips</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/22/clean-code/">Clean Code閱讀筆記</a>
      </li>
    
  </ul>
</section>

Included file &#8216;asides/twitter.html&#8217; not found in _includes directory



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Kent -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'kentchiu';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
