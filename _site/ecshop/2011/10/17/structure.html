<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width initial-scale=1">

  <title>ECShop Structure</title>
  <meta name="description" content="Table of contents">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://blog.kent-chiu.com//ecshop/2011/10/17/structure.html">
  <link rel="alternate" type="application/atom+xml" title="Kent's Blog" href="http://blog.kent-chiu.com//feed.xml" />
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Kent's Blog</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">ECShop Structure</h1>
    <p class="post-meta">Oct 17, 2011 • Kent Chiu</p>
  </header>

  <article class="post-content">
    <h1 class="no_toc" id="table-of-contents">Table of contents</h1>

<ul id="markdown-toc">
  <li><a href="#major-pages">Major Pages</a></li>
  <li><a href="#library-files">Library files</a></li>
</ul>

<hr />

<p>ECShop upload 的目錄</p>

<pre><code>           ├ activity.php 活動列表
           ├ affiche.php 廣告處理文件
           ├ affiliate.php 生成商品列表
           ├ article.php 文章內容
           ├ article_cat.php文章分類
           ├ auction.php 拍賣前台文件
           ├ brand.php 品牌列表
           ├ captcha.php 生成驗證碼
           ├ catalog.php 列出所以分類及品牌
           ├ category.php 商品分類
           ├ comment.php 提交用戶評論
           ├ compare.php 商品比較程序
           ├ cycle_image.php  輪播圖片程序
           ├ feed.php RSS Feed 生成程序
           ├ flow.php 購物流程
           ├ gallery.php 商品相冊
           ├ goods.php 商品詳情
           ├ goods_script.php 生成商品列表
           ├ group_buy.php 團購商品前台文件
           ├ index.php 首頁文件
           ├ myship.php 支付配送DEMO
           ├ pick_out.php 選購中心
           ├ receive.php 處理收回確認的頁面
           ├ region.php 地區切換程序
           ├ respond.php 支付響應頁面
           ├ robots.txt
           ├ search.php 搜索程序
           ├ sitemaps.php  google sitemap 文件
           ├ snatch.php 奪寶奇兵前台頁面
           ├ tag_cloud.php 標籤雲
           ├ topic.php 專題前台
           ├ user.php 會員中心
           ├ vote.php 調查程序
           ├ wholesale.php 批發前台文件
           ├ admin文件夾
           │   ├ account_log.php 管理中心帳戶變動記錄
           │   ├ admin_logs.php 記錄管理員操作日誌
           │   ├ ads.php 廣告管理程序
           │   ├ adsense.php 站外JS投放的統計程序
           │   ├ ad_position.php廣告位置管理程序
           │   ├ affiliate.php 程序說明
           │   ├ affiliate_ck.php 程序說明
           │   ├ agency.php 管理中心辦事處管理
           │   ├ area_manage.php 地區列表管理文件
           │   ├ article.php 管理中心文章處理程序文件
           │   ├ articlecat.php 文章分類管理程序
           │   ├ article_auto.php
           │   ├ attention_list.php
           │   ├ attribute.php 屬性規格管理
           │   ├ auction.php 管理中心拍賣活動管理
           │   ├ bonus.php 紅包類型的處理
           │   ├ brand.php管理中心品牌管理
           │   ├ captcha_manage.php
           │   ├ card.php 賀卡管理程序
           │   ├ category.php 商品分類管理程序
           │   ├ check_file_priv.php 系統文件檢測
           │   ├ comment_manage.php 用戶評論管理程序
           │   ├ convert.php 轉換程序
           │   ├ cron.php 計劃任務
           │   ├ database.php 數據庫管理
           │   ├ ebao_commend.php 易寶推薦
           │   ├ edit_languages.php 管理中心語言項編輯(前台語言項)
           │   ├ email_list.php 郵件列表管理
           │   ├ favourable.php 管理中心優惠活動管理
           │   ├ flashplay.php
           │   ├ flow_stats.php 綜合流量統計
           │   ├ friend_link.php 友情鏈接管理
           │   ├ gen_goods_script.php 生成顯示商品的js代碼
           │   ├ get_password.php 找回管理員密碼
           │   ├ goods.php 商品管理程序
           │   ├ goods_auto.php
           │   ├ goods_batch.php 商品批量上傳、修改
           │   ├ goods_booking.php 缺貨處理管理程序
           │   ├ goods_export.php
           │   ├ goods_type.php 商品類型管理程序
           │   ├ group_buy.php 管理中心團購商品管理
           │   ├ guest_stats.php 客戶統計
           │   ├ index.php 控制台首頁
           │   ├ integrate.php 第三方程序會員數據整合插件管理程序
           │   ├ magazine_list.php
           │   ├ mail_template.php 管理中心模版管理程序
           │   ├ message.php 管理中心管理員留言程序
           │   ├ navigator.php
           │   ├ order.php 訂單管理
           │   ├ order_stats.php 訂單統計
           │   ├ pack.php 包裝管理程序
           │   ├ payment.php 支付方式管理程序
           │   ├ picture_batch.php 圖片批量處理程序
           │   ├ privilege.php 管理員信息以及權限管理程序
           │   ├ sale_general.php 銷售概況
           │   ├ sale_list.php 銷售明細列表程序
           │   ├ sale_order.php 商品銷售排行
           │   ├ searchengine_stats.php 搜索引擎關鍵字統計
           │   ├ search_log.php
           │   ├ shipping.php 配送方式管理程序
           │   ├ shipping_area.php 配送區域管理程序
           │   ├ shophelp.php 幫助信息管理程序
           │   ├ shopinfo.php 網店信息管理頁面
           │   ├ shop_config.php  管理中心商店設置
           │   ├ sitemap.php 站點地圖生成程序
           │   ├ sms.php 短信模塊 之 控制器
           │   ├ snatch.php 奪寶奇兵管理程序
           │   ├ sql.php sql管理程序
           │   ├ tag_manage.php 後台標籤管理
           │   ├ template.php 管理中心模版管理程序
           │   ├ topic.php 專題管理
           │   ├ users.php 會員管理程序
           │   ├ users_order.php 會員排行統計程序
           │   ├ user_account.php 會員帳目管理(包括預付款，餘額)
           │   ├ user_msg.php 客戶留言
           │   ├ user_rank.php 會員等級管理程序
           │   ├ view_sendlist.php
           │   ├ virtual_card.php 虛擬卡商品管理程序
           │   ├ visit_sold.php 訪問購買比例
           │   ├ vote.php 調查管理程序
           │   ├ wholesale.php  管理中心批發管理
           │   ├ help 的目錄  後台操作幫助文件
           │   ├ images 的目錄
           │   ├ includes 的目錄
           │   │  ├ cls_exchange.php 後台自動操作數據庫的類文件
           │   │  ├ cls_google_sitemap.php Google sitemap 類
           │   │  ├ cls_phpzip.php ZIP 處理類
           │   │  ├ cls_sql_dump.php 數據庫導出類
           │   │  ├ inc_menu.php 管理中心菜單數組
           │   │  ├ init.php 管理中心公用文件
           │   │  ├ lib_goods.php 管理中心商品相關函數
           │   │  ├ lib_main.php 管理中心公用函數庫
           │   │  └ lib_template.php 管理中心模版相關公用函數庫
           │   ├ styles 的目錄
           │   ├ templates 的目錄
           │   └ js 的目錄
           │       ├ colorselector.js
           │       ├ common.js
           │       ├ listtable.js
           │       ├ md5.js
           │       ├ selectzone.js
           │       ├ tab.js
           │       ├ todolist.js
           │       ├ topbar.js
           │       └ validator.js 表單驗證類
           ├ api 的目錄
           │   ├ checkorder.php 檢查訂單 API
           │   ├ cron.php
           │   └ init.php API 公用初始化文件
           ├ cert 的目錄
           ├ data 的目錄
           │   ├ ffiliate.html
           │   ├ goods_script.html
           │   ├ order_print.html
           │   ├ afficheimg 的目錄
           │   ├ brandlogo 的目錄
           │   ├ captcha 的目錄 驗證碼背景圖片存放位置
           │   ├ cardimg 的目錄
           │   ├ feedbackimg 的目錄
           │   ├ images 的目錄
           │   ├ packimg 的目錄
           │   └ sqldata 的目錄
           ├ images 的目錄
           │   └ upload 的目錄
           │        ├ File 文件上傳存放處
           │        ├ Flash flash上傳存放處
           │        ├ Image 圖片上傳存放處
           │        └ Media 視頻上傳存放處
           ├ includes 的目錄
           │   ├ cls_captcha.php 驗證碼圖片類
           │   ├ cls_ecshop.php 基礎類
           │   ├ cls_error.php 用戶級錯誤處理類
           │   ├ cls_iconv.php 字符集轉換類
           │   ├ cls_image.php 後台對上傳文件的處理類(實現圖片上傳，圖片縮小， 增加水印)
           │   ├ cls_json.php JSON 類
           │   ├ cls_mysql.php MYSQL 公用類庫
           │   ├ cls_rss.php RSS 類
           │   ├ cls_session.php SESSION 公用類庫
           │   ├ cls_sms.php 短信模塊 之 模型（類庫）
           │   ├ cls_smtp.php SMTP 郵件類
           │   ├ cls_sql_executor.php SQL語句執行類。
           │   ├ cls_template.php 模版類
           │   ├ cls_transport.php 服務器之間數據傳輸器
           │   ├ inc_constant.php 常量
           │   ├ init.php 前台公用文件
           │   ├ lib.debug.php
           │   ├ lib_article.php 文章及文章分類相關函數庫
           │   ├ lib_clips.php ECSHOP 用戶相關函數庫
           │   ├ lib_code.php 加密解密類
           │   ├ lib_common.php 公用函數庫
           │   ├ lib_goods.php 商品相關函數庫
           │   ├ lib_insert.php 動態內容函數庫
           │   ├ lib_main.php 前台公用函數庫
           │   ├ lib_order.php 購物流程函數庫
           │   ├ lib_passport.php 用戶帳號相關函數庫
           │   ├ lib_payment.php 支付接口函數庫
           │   ├ lib_time.php 時間函數
           │   ├ lib_transaction.php ECSHOP 用戶交易相關函數庫
           │   ├ codetable 的目錄
           │   │    ├ big5-gb.table
           │   │    ├ big5_utf8.php
           │   │    ├ gb-big5.table
           │   │    ├ gb_utf8.php
           │   │    └ ipdata.dat
           │   ├ fckeditor 的目錄 fckeditor編輯器目錄
           │   └ modules 的目錄
           │         ├ convert 的目錄
           │         │    ├ shopex46.php vshopex4.6轉換程序插件
           │         │    └ shopex47.php shopex4.7轉換程序插件
           │         ├ cron 的目錄
           │         │    ├ auto_manage.php 自動上下架管理
           │         │    └ ipdel.php 定期刪除
           │         ├ integrates 的目錄
           │         │    ├ bmforum.php 會員數據處理類
           │         │    ├ discuz.php
           │         │    ├ discuz55.php
           │         │    ├ dvbbs.php
           │         │    ├ ecshop.php
           │         │    ├ integrate.php
           │         │    ├ ipb.php
           │         │    ├ molyx.php
           │         │    ├ phpbb.php
           │         │    ├ phpwind.php
           │         │    ├ phpwind5.php
           │         │    └ vbb.php
           │         ├ payment 的目錄
           │         │    ├ alipay.php 支付寶插件
           │         │    ├ balance.php 餘額支付插件
           │         │    ├ bank.php 銀行匯款（轉帳）插件
           │         │    ├ cappay.php 首信易支付插件
           │         │    ├ chinabank.php 網銀在線插件
           │         │    ├ cncard.php 雲網支付插件
           │         │    ├ cod.php 貨到付款插件
           │         │    ├ ctopay.php Ctopay 支付插件
           │         │    ├ express.php express支付系統插件
           │         │    ├ ips.php ips支付系統插件
           │         │    ├ kuaiqian.php 快錢插件
           │         │    ├ nps.php NPS支付插件
           │         │    ├ pay800.php 800pay 支付寶插件
           │         │    ├ paypal.php 貝寶插件
           │         │    ├ paypalcn.php 貝寶中國插件
           │         │    ├ post.php 郵局匯款插件
           │         │    ├ tenpay.php 財付通插件
           │         │    ├ udpay.php 網匯通插件
           │         │    ├ xpay.php 易付通插件
           │         │    └ yeepay.php YeePay易寶插件
           │         └ shipping 的目錄
           │               ├ cac.php 上門取貨插件
           │               ├ city_express.php 城際快遞插件
           │               ├ ems.php EMS插件
           │               ├ flat.php 郵政包裹插件
           │               ├ fpd.php 到付運費插件
           │               ├ post_express.php 郵政包裹插件
           │               ├ post_mail.php 郵局平郵插件
           │               ├ presswork.php 掛號印刷品插件
           │               ├ sf_express.php 順豐速運 配送方式插件
           │               ├ sto_express.php 申通快遞 配送方式插件
           │               ├ yto.php 圓通速遞插件
           │               └ zto.php 中通速遞插件
           ├ install 的目錄  安裝文件目錄
           ├ js 的目錄
           │   ├ auto_complete.js
           │   ├ calendar.php
           │   ├ common.js
           │   ├ compare.js
           │   ├ global.js
           │   ├ lefttime.js
           │   ├ myship.js
           │   ├ region.js
           │   ├ shopping_flow.js
           │   ├ transport.js
           │   ├ user.js
           │   ├ utils.js
           │   └ calendar 的目錄
           ├ languages 的目錄  語言風格文件
           │   ├ zh_cn 的目錄
           │   │   ├
           │   │   ├ admin 的目錄
           │   │   ├ convert 的目錄
           │   │   ├ cron 的目錄
           │   │   ├ payment 的目錄
           │   │   └ shipping 的目錄
           │   └ zh_tw 的目錄
           │        ├ admin 的目錄
           │        ├ convert 的目錄
           │        ├ cron 的目錄
           │        ├ payment 的目錄
           │        └ shipping 的目錄
           ├ plugins 的目錄
           ├ templates 的目錄
           │   ├ backup 的目錄
           │   │   └ ibrary 的目錄
           │   ├ caches 的目錄
           │   └ compiled 的目錄
           │        └ admin 的目錄
           ├ themes 的目錄
           │   ├ default 的目錄
           │   │   ├ images 的目錄
           │   │   └ library 的目錄
           │   └ sport 的目錄
           ├ wap 的目錄
           │   ├ article.php
           │   ├ brands.php
           │   ├ buy.php
           │   ├ category.php
           │   ├ comment.php
           │   ├ goods.php
           │   ├ goods_list.php
           │   ├ index.php
           │   ├ user.php
           │   ├ includes 的目錄
           │   │   ├ init.php
           │   │   ├ lib_main.php
           │   └ templates 的目錄
           │        ├ article.wml
           │        ├ article_list.wml
           │        ├ brands.wml
           │        ├ buy.wml
           │        ├ category.wml
           │        ├ comment.wml
           │        ├ goods.wml
           │        ├ goods_img.wml
           │        ├ goods_list.wml
           │        ├ index.wml
           │        ├ login.wml
           │        ├ order_list.wml
           │        └ user.wml
           └ widget 的目錄
                ├ blog_sohu.php
                ├ blog_sohu.xhtml
                └ images 的目錄

</code></pre>

<h1 id="major-pages">Major Pages</h1>

<p>各主要頁面 所用模組圖例</p>

<ol>
  <li>首頁:index.dwt</li>
  <li>文章列表:article_cat.dwt</li>
  <li>文章顯示:article.dwt</li>
  <li>商品分類:category.dwt</li>
  <li>商品比較:compare.dwt</li>
  <li>商品詳情:goods.dwt</li>
  <li>搜索結果:search_result.dwt</li>
  <li>奪寶奇兵:snatch.dwt</li>
</ol>

<h1 id="library-files">Library files</h1>

<ol>
  <li>articles.lbi - 文章列表</li>
  <li>article_info.lbi - 文章內容</li>
  <li>article_list.lbi - 文章列表</li>
  <li>best_goods.lbi - 精品推薦</li>
  <li>bought_goods.lbi - 購買過此商品的人購買過哪些商品</li>
  <li>brand_goods.lbi - 品牌的商品</li>
  <li>cart.lbi - 購物車</li>
  <li>cart_view.lbi - 查看購物車</li>
  <li>category_tree.lbi - 商品分類樹</li>
  <li>cat_goods.lbi - 分類下的商品</li>
  <li>comments.lbi - 用戶評論</li>
  <li>comment_form.lbi - 發表評論的表單</li>
  <li>consignee.lbi - 收貨人信息</li>
  <li>fittings.lbi - 相關配件</li>
  <li>footer.lbi - 頁腳</li>
  <li>gallery.lbi - 商品相冊</li>
  <li>goods_detail.lbi - 商品詳情</li>
  <li>goods_info.lbi - 商品基本資訊</li>
  <li>goods_list.lbi - 商品列表</li>
  <li>help.lbi - 説明內容</li>
  <li>history.lbi - 歷史記錄</li>
  <li>hot_goods.lbi - 熱賣商品</li>
  <li>invoice_query.lbi - 發貨單查詢</li>
  <li>member.lbi - 會員登錄區</li>
  <li>member_info.lbi - 會員資訊</li>
  <li>nav_main.lbi - 主導航</li>
  <li>new_goods.lbi - 新品上架</li>
  <li>order_confirm.lbi - 訂單確認</li>
  <li>order_detail.lbi - 訂單詳情</li>
  <li>order_view.lbi - 訂單資訊</li>
  <li>package_card.lbi - 包裝和賀卡</li>
  <li>pages.lbi - 列表分頁</li>
  <li>page_top.lbi - 頁面頂部</li>
  <li>payment.lbi - 支付方式</li>
  <li>promotion.lbi - 促銷商品</li>
  <li>properties.lbi - 商品屬性</li>
  <li>register_login.lbi - 購物流程登錄和註冊</li>
  <li>related_goods.lbi - 相關商品</li>
  <li>search_advanced.lbi - 高級搜索表單</li>
  <li>search_form.lbi - 搜索表單</li>
  <li>search_result.lbi - 搜索結果</li>
  <li>shipping.lbi - 配送方式</li>
  <li>signin.lbi - 會員登錄表單</li>
  <li>snatch_bid.lbi - 奪寶奇兵出價表單</li>
  <li>snatch_goods.lbi - 奪寶奇兵活動的商品</li>
  <li>snatch_list.lbi - 奪寶奇兵活動列表</li>
  <li>snatch_price.lbi - 奪寶奇兵價格列表</li>
  <li>snatch_result.lbi - 奪寶奇兵活動結果</li>
  <li>top10.lbi - 銷售排行</li>
  <li>ur_here.lbi - 當前位置</li>
  <li>user_address.lbi - 會員中心收貨人列表</li>
  <li>user_address_add.lbi - 會員中心添加收貨人</li>
  <li>user_booking.lbi - 會員中心用戶缺貨登記</li>
  <li>user_booking_add.lbi - 會員中心用戶添加缺貨登記</li>
  <li>user_collect.lbi - 會員中心用戶我的最愛</li>
  <li>user_forgetpassword.lbi - 會員中心找回密碼</li>
</ol>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Kent's Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Kent's Blog</li>
          <li><a href="mailto:kent.cwg@gmail.com">kent.cwg@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/kentchiu">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">kentchiu</span>
            </a>
          </li>
          

          
          <li>
            <a href="https://twitter.com/kentchiu">
              <span class="icon  icon--twitter">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
                </svg>
              </span>

              <span class="username">kentchiu</span>
            </a>
          </li>
          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Kent的學習筆記</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
